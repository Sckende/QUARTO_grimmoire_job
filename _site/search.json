[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "code/ubuntu_bash.html",
    "href": "code/ubuntu_bash.html",
    "title": "üêö Aide-m√©moire Ubuntu & bash",
    "section": "",
    "text": "commande [param√®tres] [arguments]\nR√¥le\n\n\n\n\n\n\ngnome-system-monitor\n√©quivalent de ‚Äòtask manager‚Äô\n\n\n\n\nchown\nchanges the owner of the file or directory specified by the File or Directory parameter to the user specified by the Owner parameter\n\n\n\n\nll\nalias pour ls -l\n\n\n\n\n‚Äòls -1 | wc -l‚Äô\nd√©nombre quantit√© de files\n\n\n\n\nhistory\nhistorique des commandes\n\n\n\n\nfc -l -xx\nles xx derni√®res commandes effectu√©es\n\n\n\n\nfc -s xx\nrelance la commande num√©ro xx\n\n\n\n\nfc -s fc=ls xx\nrelance la commande xx en rempla√ßant\nfc par ls\naller d√©but de la ligne\n\n\nctrl + a\naller fin ligne\n\n\n\n\nctrl + e\ncleaner le termine\n\n\n\n\nctrl + l\neffacer la ligne jusqu‚Äôau d√©but\n\n\n\n\nctrl + k\neffacer la ligne jusqu‚Äô√† la fin\n\n\n\n\ntouch   \ncreate one or several files\n\n\n\n\nvi \ni for insert\n\n\n\n\nnano\nread, modify & save a file - There are two modes - cf RedHat Vi infoseasier!!!\n\n\n\n\nmkdir\ncr√©ation d‚Äôun dossier\n\n\n\n\nrmdir\nefface un dossier\n\n\n\n\nrm \neffacer un fichier\n\n\n\n\nrm -rf \neffacer un dossier\n\n\n\n\nrealpath  ou pwd\nchemin absolu\n\n\n\n\necho\naffiche du texte\n\n\n\n\nnpm\nlibrary and registry for JavaScript software packages. npm also has command-line tools to help you install the different packages and manage their dependencies\n\n\n\n\nzip -r &lt;file.zip&gt; \nzip un dossier\n\n\n\n\nsed -i ‚Äòs/old-text/new-text/g‚Äô input.txt\nfind and replace in file(s) cf docu\n\n\n\n\nsed -s ‚Äò2!d‚Äô *.txt &gt; test_cat2.txt\nconcatenate second line of several files\n\n\n\n\nsudo dpkg -i xxx.deb\ninstallation d‚Äôun package t√©l√©charg√©\n\n\n\n\nquarto render xxx.qmd\ncompilation en local d‚Äôun fichier quarto\n\n\n\n\n[ctrl][Alt][f5]\nmode tty\n\n\n\n\n[alt][F1]\nexit mode tty\n\n\n\n\nmv ex.txt new.txt\nrenommer un fichier\n\n\n\n\nscp (-r) file/folder_to_send targeted_folder\n-r is for recursive s‚Äôil s‚Äôagit d‚Äôun dossier √† envoyer. exemple pour calcul Canada scp ccjuhasz@narval.computecanada.ca:projects/def-dgravel/ccjuhasz/sf_converted_occ_pres_only2.zip\n\n\n\n\nogrinfo -sql ‚ÄúCREATE INDEX index_name ON table_name (column1, column2,columnN‚Ä¶)‚Äù my_geopackage.gpkg\nIndex creation for sql request to geopackage file\n\n\n\n\nogrinfo file.gpkg\ngive the name of the database"
  },
  {
    "objectID": "code/python_aide-memoire.html",
    "href": "code/python_aide-memoire.html",
    "title": "üêç Aide-m√©moire Python",
    "section": "",
    "text": "Certains mots font partie du langage Python, et ne peuvent pas √™tre utilis√©s comme noms de variables. Par exemple, def, match, case, _, del , if, else, break & continue."
  },
  {
    "objectID": "code/python_aide-memoire.html#listes",
    "href": "code/python_aide-memoire.html#listes",
    "title": "üêç Aide-m√©moire Python",
    "section": "Listes",
    "text": "Listes\nlist=[el1, el2, el3, ...]"
  },
  {
    "objectID": "code/python_aide-memoire.html#tuples",
    "href": "code/python_aide-memoire.html#tuples",
    "title": "üêç Aide-m√©moire Python",
    "section": "Tuples",
    "text": "Tuples\nSimilaire aux listes mais non modifiables et d√©finit avec () au lieu de [].\ntuple=(el1, el2, el3, ...)"
  },
  {
    "objectID": "code/python_aide-memoire.html#dictionnaires",
    "href": "code/python_aide-memoire.html#dictionnaires",
    "title": "üêç Aide-m√©moire Python",
    "section": "Dictionnaires",
    "text": "Dictionnaires\nUn dictionnaire est une structure de donn√©es qui enregistre des donn√©es dans des paires cl√©s-valeurs. Un dictionnaire est d√©fini √† l‚Äôaide des {}.\n\nnouvelle_campagne = {\n\"responsable_de_campagne\": \"Jeanne d'Arc\",\n\"nom_de_campagne\": \"Campagne nous aimons les chiens\",\n\"date_de_d√©but\": \"01/01/2020\",\n\"influenceurs_importants\": [\"@MonAmourDeChien\", \"@MeilleuresFriandisesPourChiens\"]\n}\nLa fonction dict() peut aussi √™tre utilis√©e.\nd = dict([\n    (&lt;key&gt;, &lt;value&gt;),\n    (&lt;key&gt;, &lt;value),\n      .\n      .\n      .\n    (&lt;key&gt;, &lt;value&gt;)\n])\nUne valeur peut √™tre un objet complexe telle qu‚Äôune liste. Il est possible de modifier le dictionnaire apr√®s sa cr√©ation.\n# creation dictionnaire\ninfos_labradoodle = {\n    \"poids\": \"13 √† 16 kg\",\n    \"origine\": [\"√âtats-Unis\", \"Canada\"]\n}\n\n# Ajout d'une paire cl√©-valeur\ninfos_labradoodle[\"nom_scientifique\"]=\"Canis lupus familiaris\"\n\n# Appel des valeurs associ√©es √† origine\nprint(infos_labradoodle[\"origine\"]) # [\"√âtats-Unis\", \"Canada\"]\nprint(infos_labradoodle[\"origine\"][0]) # Canada\n\n# Suppression d'une association cl√©-valeur avec l'utilisation d'un mot cl√© del\ndel infos_labradoodle[\"nom_scientifique\"] # retrait de l'association nom_scientifique - Canis lupus familiaris\ndel infos_labradoodle[\"origine\"][0] # retrait de la premi√®re valeur associ√©e √† origine\n\n# V√©rification de l'existence d'une cl√©\n\nprint(\"poids\" in infos_labradoodle) # True\nprint(\"race\" in infos_labradoodle) # False"
  },
  {
    "objectID": "code/python_aide-memoire.html#m√©thodes-les-plus-courantes-associ√©es-aux-listes",
    "href": "code/python_aide-memoire.html#m√©thodes-les-plus-courantes-associ√©es-aux-listes",
    "title": "üêç Aide-m√©moire Python",
    "section": "M√©thodes les plus courantes associ√©es aux listes",
    "text": "M√©thodes les plus courantes associ√©es aux listes\n\n\n\n\n\n\n\nm√©thode\nd√©finition\n\n\n\n\nextend()\nAjoute plusieurs √©l√©ments √† la fin\n\n\ninsert()\nIns√®re un √©l√©ment √† une position donn√©e\n\n\npop()\nSupprime et renvoie l‚Äô√©l√©ment √† une position donn√©e ou le dernier √©l√©ment si aucun indice n‚Äôest sp√©cifi√©\n\n\nindex()\nRenvoie la premi√®re occurrence de l‚Äô√©l√©ment sp√©cifi√©\n\n\ncount()\nRenvoie le nombre d‚Äôoccurrences de l‚Äô√©l√©ment sp√©cifi√©\n\n\nreverse()\nInverse l‚Äôordre des √©l√©ments\n\n\n\nlist=[el1, el2, el3]\nlist.append(el4) # el1, el2, el3, el4\nlist.reverse() # el4, el3, el2, el1\nCf documentation python sur les m√©thodes."
  },
  {
    "objectID": "code/python_aide-memoire.html#m√©thodes-les-plus-courantes-associ√©es-aux-dictionnaires",
    "href": "code/python_aide-memoire.html#m√©thodes-les-plus-courantes-associ√©es-aux-dictionnaires",
    "title": "üêç Aide-m√©moire Python",
    "section": "M√©thodes les plus courantes associ√©es aux dictionnaires",
    "text": "M√©thodes les plus courantes associ√©es aux dictionnaires\n\n\n\n\n\n\n\nm√©thode\nd√©finition\n\n\n\n\nkeys()\n‚Äã‚ÄãRetourne une vue sur les cl√©s du dictionnaire\n\n\nvalues()\nRetourne une vue sur les valeurs du dictionnaire\n\n\nitems()\nRetourne une vue sur les couples (cl√©, valeur) du dictionnaire\n\n\nget(cl√©)\nRetourne la valeur associ√©e √† la cl√© sp√©cifi√©e. Si la cl√© n‚Äôest pas pr√©sente dans le dictionnaire, retourne la valeur None\n\n\npop(cl√©)\nSupprime la cl√© sp√©cifi√©e et retourne la valeur associ√©e. Si la cl√© n‚Äôest pas pr√©sente dans le dictionnaire, retourne la valeur None\n\n\nclear()\nSupprime tous les √©l√©ments du dictionnaire"
  },
  {
    "objectID": "code/python_aide-memoire.html#ifelifelse",
    "href": "code/python_aide-memoire.html#ifelifelse",
    "title": "üêç Aide-m√©moire Python",
    "section": "if/elif/else",
    "text": "if/elif/else\nLes instructions if/elif/else permettent de d√©finir des conditions multiples. Le mot-cl√© elif vous permet d‚Äôajouter autant de conditions que vous voulez. Vous devez ensuite terminer avec une instruction else. Les op√©rateurs logiques and, or, not peuvent √™tre utilis√©s pour v√©rifier des conditions multiples au sein d‚Äôune m√™me instructions.\nfruit = \"pomme\"\nif fruit==\"pomme\":\n    print(\"J'aime les pommes !\")\nelif fruit==\"banane\":\n    print(\"J'aime les bananes !\")\nelif fruit==\"orange\":\n    print(\"Les oranges sont bonnes pour la sant√©.\")\nelse :\n    print(\"Je ne connais pas ce fruit.\")\nAfin de rendre plus lisible ce genre de boucle, les match cases peuvent √™tre utilis√©s.\nmatch fruit:\n    case \"pomme\":\n        print(\"J'aime les pommes !\")\n    case \"banane\":\n        print(\"Je n'aime pas les bananes.\")\n    case \"orange\":\n        print(\"Les oranges sont bonnes pour la sant√©.\")\n    case _:\n        print(\"Je ne connais pas ce fruit.\")"
  },
  {
    "objectID": "code/python_aide-memoire.html#for",
    "href": "code/python_aide-memoire.html#for",
    "title": "üêç Aide-m√©moire Python",
    "section": "for",
    "text": "for\nraces_de_chien = [\"golden retriever\", \"chihuahua\", \"terrier\", \"carlin\"]\nfor chien in races_de_chien:\n    print(chien)"
  },
  {
    "objectID": "code/python_aide-memoire.html#while",
    "href": "code/python_aide-memoire.html#while",
    "title": "üêç Aide-m√©moire Python",
    "section": "while",
    "text": "while\ncapacite_maximale = 10\ncapacite_actuelle = 3\nwhile capacite_actuelle &lt; capacite_maximale:\n    capacite_actuelle += 1"
  },
  {
    "objectID": "code/python_aide-memoire.html#plusieurs-listes-en-m√™me-temps",
    "href": "code/python_aide-memoire.html#plusieurs-listes-en-m√™me-temps",
    "title": "üêç Aide-m√©moire Python",
    "section": "Plusieurs listes en m√™me temps",
    "text": "Plusieurs listes en m√™me temps\nS‚Äôil est n√©cessaire de traiter deux (ou plus) listes en m√™me temps dans une boucle, il est possible d‚Äôutiliser la fonction zip().\nlistA = [\"pomme\", \"poire\", \"p√™che\"]\nlistB = [2, 5, 1]\n\nfor val1, val2 in zip(listA, listB):\n    print(val2, '\\t',  val1)\n\n# 2        pomme\n# 5        poire\n# 1        p√™che"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "QUARTO_grimmoire_job",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Job Blog",
    "section": "",
    "text": "Bash, grappes de calcul, analyse et visualisation en Python\n\n\n\nformation\n\n\n√©cole √©t√©\n\n\n\n√âcole printemps Calcul Qu√©bec - Bases de bash et grappes de calcul\n\n\n\nClaire-C√©cile Juhasz\n\n\nMay 21, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIndicateurs de biodiversit√©\n\n\n\nformation\n\n\n√©cole √©t√©\n\n\n\n√âcole d‚Äô√©t√© Dominique Gravel\n\n\n\nClaire-C√©cile Juhasz\n\n\nMay 13, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWorkflow pour production EBV richesse sp√©cifique\n\n\n\nEBV\n\n\n\n√Ä partir des donn√©es brutes\n\n\n\nClaire-C√©cile Juhasz\n\n\nMay 10, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTableau de bord - Richesse sp√©cifique\n\n\n\nEBV\n\n\ntableau de bord\n\n\n\nPremi√®re √©tape de production d‚Äôun tableau de bord\n\n\n\nClaire-C√©cile Juhasz\n\n\nMay 6, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProjet EBVs\n\n\n\nEBV\n\n\nindicateurs\n\n\n\nDescription et d√©finition des objectifs du projet\n\n\n\nClaire-C√©cile Juhasz\n\n\nMay 6, 2024\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2024-05-06_post/index.html",
    "href": "posts/2024-05-06_post/index.html",
    "title": "Projet EBVs",
    "section": "",
    "text": "L‚Äôobjectif est de d√©velopper les EBVs superficie des aires de distribution des esp√®ces et richesse sp√©cifique √† partir des r√©sultats de Species Distribution models. Les EBVs doivent ensuite √™tre organis√©es sous le format d‚Äôun cube avec les trois axes correspondant (id√©alement) aux taxons, l‚Äôespace et le temps."
  },
  {
    "objectID": "posts/2024-05-06_post2/index.html",
    "href": "posts/2024-05-06_post2/index.html",
    "title": "Tableau de bord - Richesse sp√©cifique",
    "section": "",
    "text": "Un premier tableau de bord  a √©t√© d√©velopp√© √† partir: - des donn√©es brutes utilis√©es par Vincent Bellavance pour ses mod√®les de distribution (INLA). Ces donn√©es, issues d‚ÄôAtlas ne concernent que les oiseaux nicheurs du Qu√©bec entre 1990 et 2019. - la richesse sp√©cifique a √©t√© obtenue pour diff√©rentes √©chelles spatiales: provinces naturelles, r√©gions naturelles, niveaux physiog√©ographiques, districts √©cologiques et pixels 10x10 km.\nUne version de cartes de richesse sp√©cifique ont √©t√© obtenue √©galement √† partir des carte de distribution de Vincent Bellavance pour l‚Äôann√©es 2017."
  },
  {
    "objectID": "posts/2024-05-06_post/index.html#ressources-dint√©r√™t",
    "href": "posts/2024-05-06_post/index.html#ressources-dint√©r√™t",
    "title": "Projet EBVs",
    "section": "Ressources d‚Äôint√©r√™t",
    "text": "Ressources d‚Äôint√©r√™t\n\npr√©sentation sur les EBVs de Louis Qu√©n√©e (charg√© de mission √† PatriNat - 2023)\n\n\n\nCf mendeley library"
  },
  {
    "objectID": "posts/2024_05_21/index.html",
    "href": "posts/2024_05_21/index.html",
    "title": "Analyse et visualisation en Python",
    "section": "",
    "text": "cr√©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la cr√©ation d‚Äôun notebook (comme rmarkdown)\npr√©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donn√©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash ‚Äì&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entour√©e le noyau de l‚Äôordinateur et le prot√©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, ‚Ä¶), mais bash √©tant le plus r√©pandu. The bash shell is written in C.\nListe de commandes √† conna√Ætre:\nStructure classique d‚Äôune commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le r√©pertoire dans lequel on se trouve actuellement\npremier slash / correspd √† la racine d‚Äôo√π partent tous les r√©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer l‚Äô√©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par l‚Äôhumain, -l for long list (contient plus d‚Äôinformations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au r√©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de l√† o√π je me trouve, cd sans argument fait repartir dans le r√©pertoire personnel /home/user/, cd peut aussi √™tre utilis√© avec un absolute path, cd ~/project/ avec le tild qui permet de r√©f√©rer au repo personnel et cd . correspond au r√©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour compl√©ter √† partir de la/les premi√®res lettres des fichiers/dossiers pr√©sents dans le repo\n\n\n\nmkdir folderName\ncr√©ation d‚Äôun r√©pertoire\nfor make directory - √©eviter les espaces dans les noms de files and folders (sinon cr√©ation de deux fichiers ou repo), pas d‚Äôaccents non plus ou caract√®res sp√©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer l‚Äôeffacement, -i pour demander (interroger) si on est s√ªr de remove\n\n\nnano ou touch\ncr√©ation d‚Äôun fichier\n√©quivalent d‚Äô√©diteur de texte, plus efficace √† utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch cr√©√© un fichier compl√®tement vide utilis√© pour des logiciels qui ont besoin d‚Äôun fichier d√©j√† existant pour √©crire les r√©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou d√©place un fichier\nfor move si on ajoute un absolute path dans la deuxi√®me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut √™tre multiple, l‚Äôessentiel √©tant que le dernier dossier soit la cible\n\n\n&&\ns√©pare deux commandes que l‚Äôon souhaite exc√©cuter successivement\ns‚Äôexcecute sous condition que la premi√®re fonctionne, ; peut aussi √™tre utilis√© √† la place du double esperluette &&\n\n\n*\nwildcart (caract√®re g√©n√©rique) permettant un pattern matching\npeu importe le nombre de caract√®re\n\n\n?\nremplace un seul caract√®re\n\n\n\ncat\nvoir le contenu d‚Äôun fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caract√®res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmi√®re colonne d‚Äôun fichier\n-n pour num√©rique, -k qui permet de choisir sur quelle colonne tri√©e\n\n\nhead\nr√©cup√®re les premi√®res lignes d‚Äôun fichier\n-n permet de sp√©cifier le nombre de ligne que l‚Äôon souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet d‚Äôutiliser la sortie de la premi√®re commande pour exc√©cuter la deuxi√®me et ainsi de suite\n\n\n\nExemple du pipe - Repr√©sente la puissance de l‚Äôutilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limit√© par la ressource dispo (ex. CPU, GPU, m√©moire, stockage,¬†temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\n√Ä disponibilit√©: grappes de calcul, espace info-nuagiques (h√©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche num√©rique chapote √† l‚Äô√©chelle nationale (grand coordonnateur) \nCalcul Qu√©bec est une antenne de l‚Äôalliance.\nQuelle grappe choisir ?\n\ncelle d√©j√† utilis√©e par le labo\ncelle physiquement pr√©sente au plus proche (b√©luga, narval)\ncelle qui correspond √† nos besoins (gna)\n\nPour la suite, cf la pr√©sentation\nPremi√®re √©tape apr√®s la connexion SSH, arriv√© sur un noeud de connexion qui donne acc√®s aux noeuds de calcul. Le noeud de login (qui peut √™tre utilis√© pour la session interactive) a acc√®s √† internet mais pas les noeuds de calcul. √Ä partir du noeud de login, acc√®s aux diff√©rents dossiers, chargement des fichiers n√©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les r√©cup√©rer). Sur le noeud de connexion, possible d‚Äôutiliser git (clone) via git-lfs pour large file system qui permet d‚Äôassocier et stocker des jeux de donn√©es √† un r√©pertoire git (outil compl√©mentaire qui peut √™tre utiliser dans le souci de reproductibilit√© et transparence). Pour aller chercher les donn√©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot cl√©&gt;  # recherche par mot cl√©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # d√©charger un module\nmodule list              # afficher les modules activ√©s\nmodule purge             # Revenir √† l‚Äô√©tat d‚Äôorigine\nüí• ATTENTION ! Ne pas utiliser conda (probl√©matique pour les grappes)\nüí° En utilisant module spider r/4.4.0, permet de voir quelles d√©pendances sont n√©cessaires.\nüí° Bonne pratique: toujours pr√©ciser la version des modules que l‚Äôon charge.\nüí° module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir √† partir de la description, utiliser le wiki ! üòÄ\n\n\n\nRessources utilis√©es d√©pendent su type de t√¢che\n\ns√©quencielle - un seul coeur, sur un seul noeud - t√¢ches qui s‚Äôexcecutent les unes apr√®s les autres\nen parall√®le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donn√©es et de t√¢ches. Parall. de donn√©es est par ex, des t√¢ches s√©quentielles sur plusieurs jeux de donn√©es en m√™me temps. Parall. de t√¢ches est par ex. un logiciel qui est capable d‚Äôeffectuer plusieurs t√¢ches en parall. sur un m√™me jeux de donn√©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouv√© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les t√¢ches dans les noeuds de calcul.\n\nüí° utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimis√©, cr√©dit au profil et les t√¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les priorit√©es sont ind√©pendantes d‚Äôune grappe √† l‚Äôautre, c√†d entre Beluga, Narval, ‚Ä¶ sshare et htop pour voir l‚Äô√©tat de priorit√© quand la t√¢che est lanc√©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour üê¨Narval\n\nüí° GPU carte pour acc√©l√©rer et n√©cessaire que pour certains logiciels (dans l‚ÄôIA par ex), pas n√©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme d‚Äôun fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par d√©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la pr√©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir acc√®s au CPU en direct pendant que la t√¢che est en cours\nPossible aussi d‚Äôutiliser le portail, pour üê¨Narval\nüí° Pr√©voir un peu de ressources en plus pour le temps et la m√©moire.\nüí° Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\ncf diapo 69"
  },
  {
    "objectID": "posts/2024_05_21/index.html#day-1",
    "href": "posts/2024_05_21/index.html#day-1",
    "title": "Analyse et visualisation en Python",
    "section": "",
    "text": "cr√©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la cr√©ation d‚Äôun notebook (comme rmarkdown)\npr√©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donn√©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash ‚Äì&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entour√©e le noyau de l‚Äôordinateur et le prot√©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, ‚Ä¶), mais bash √©tant le plus r√©pandu. The bash shell is written in C.\nListe de commandes √† conna√Ætre:\nStructure classique d‚Äôune commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le r√©pertoire dans lequel on se trouve actuellement\npremier slash / correspd √† la racine d‚Äôo√π partent tous les r√©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer l‚Äô√©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par l‚Äôhumain, -l for long list (contient plus d‚Äôinformations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au r√©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de l√† o√π je me trouve, cd sans argument fait repartir dans le r√©pertoire personnel /home/user/, cd peut aussi √™tre utilis√© avec un absolute path, cd ~/project/ avec le tild qui permet de r√©f√©rer au repo personnel et cd . correspond au r√©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour compl√©ter √† partir de la/les premi√®res lettres des fichiers/dossiers pr√©sents dans le repo\n\n\n\nmkdir folderName\ncr√©ation d‚Äôun r√©pertoire\nfor make directory - √©eviter les espaces dans les noms de files and folders (sinon cr√©ation de deux fichiers ou repo), pas d‚Äôaccents non plus ou caract√®res sp√©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer l‚Äôeffacement, -i pour demander (interroger) si on est s√ªr de remove\n\n\nnano ou touch\ncr√©ation d‚Äôun fichier\n√©quivalent d‚Äô√©diteur de texte, plus efficace √† utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch cr√©√© un fichier compl√®tement vide utilis√© pour des logiciels qui ont besoin d‚Äôun fichier d√©j√† existant pour √©crire les r√©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou d√©place un fichier\nfor move si on ajoute un absolute path dans la deuxi√®me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut √™tre multiple, l‚Äôessentiel √©tant que le dernier dossier soit la cible\n\n\n&&\ns√©pare deux commandes que l‚Äôon souhaite exc√©cuter successivement\ns‚Äôexcecute sous condition que la premi√®re fonctionne, ; peut aussi √™tre utilis√© √† la place du double esperluette &&\n\n\n*\nwildcart (caract√®re g√©n√©rique) permettant un pattern matching\npeu importe le nombre de caract√®re\n\n\n?\nremplace un seul caract√®re\n\n\n\ncat\nvoir le contenu d‚Äôun fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caract√®res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmi√®re colonne d‚Äôun fichier\n-n pour num√©rique, -k qui permet de choisir sur quelle colonne tri√©e\n\n\nhead\nr√©cup√®re les premi√®res lignes d‚Äôun fichier\n-n permet de sp√©cifier le nombre de ligne que l‚Äôon souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet d‚Äôutiliser la sortie de la premi√®re commande pour exc√©cuter la deuxi√®me et ainsi de suite\n\n\n\nExemple du pipe - Repr√©sente la puissance de l‚Äôutilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limit√© par la ressource dispo (ex. CPU, GPU, m√©moire, stockage,¬†temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\n√Ä disponibilit√©: grappes de calcul, espace info-nuagiques (h√©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche num√©rique chapote √† l‚Äô√©chelle nationale (grand coordonnateur) \nCalcul Qu√©bec est une antenne de l‚Äôalliance.\nQuelle grappe choisir ?\n\ncelle d√©j√† utilis√©e par le labo\ncelle physiquement pr√©sente au plus proche (b√©luga, narval)\ncelle qui correspond √† nos besoins (gna)\n\nPour la suite, cf la pr√©sentation\nPremi√®re √©tape apr√®s la connexion SSH, arriv√© sur un noeud de connexion qui donne acc√®s aux noeuds de calcul. Le noeud de login (qui peut √™tre utilis√© pour la session interactive) a acc√®s √† internet mais pas les noeuds de calcul. √Ä partir du noeud de login, acc√®s aux diff√©rents dossiers, chargement des fichiers n√©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les r√©cup√©rer). Sur le noeud de connexion, possible d‚Äôutiliser git (clone) via git-lfs pour large file system qui permet d‚Äôassocier et stocker des jeux de donn√©es √† un r√©pertoire git (outil compl√©mentaire qui peut √™tre utiliser dans le souci de reproductibilit√© et transparence). Pour aller chercher les donn√©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot cl√©&gt;  # recherche par mot cl√©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # d√©charger un module\nmodule list              # afficher les modules activ√©s\nmodule purge             # Revenir √† l‚Äô√©tat d‚Äôorigine\nüí• ATTENTION ! Ne pas utiliser conda (probl√©matique pour les grappes)\nüí° En utilisant module spider r/4.4.0, permet de voir quelles d√©pendances sont n√©cessaires.\nüí° Bonne pratique: toujours pr√©ciser la version des modules que l‚Äôon charge.\nüí° module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir √† partir de la description, utiliser le wiki ! üòÄ\n\n\n\nRessources utilis√©es d√©pendent su type de t√¢che\n\ns√©quencielle - un seul coeur, sur un seul noeud - t√¢ches qui s‚Äôexcecutent les unes apr√®s les autres\nen parall√®le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donn√©es et de t√¢ches. Parall. de donn√©es est par ex, des t√¢ches s√©quentielles sur plusieurs jeux de donn√©es en m√™me temps. Parall. de t√¢ches est par ex. un logiciel qui est capable d‚Äôeffectuer plusieurs t√¢ches en parall. sur un m√™me jeux de donn√©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouv√© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les t√¢ches dans les noeuds de calcul.\n\nüí° utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimis√©, cr√©dit au profil et les t√¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les priorit√©es sont ind√©pendantes d‚Äôune grappe √† l‚Äôautre, c√†d entre Beluga, Narval, ‚Ä¶ sshare et htop pour voir l‚Äô√©tat de priorit√© quand la t√¢che est lanc√©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour üê¨Narval\n\nüí° GPU carte pour acc√©l√©rer et n√©cessaire que pour certains logiciels (dans l‚ÄôIA par ex), pas n√©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme d‚Äôun fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par d√©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la pr√©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir acc√®s au CPU en direct pendant que la t√¢che est en cours\nPossible aussi d‚Äôutiliser le portail, pour üê¨Narval\nüí° Pr√©voir un peu de ressources en plus pour le temps et la m√©moire.\nüí° Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\ncf diapo 69"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html",
    "href": "posts/2024-05-10_post/index.html",
    "title": "Workflow pour production EBV richesse sp√©cifique",
    "section": "",
    "text": "duckdb & duckdbfs: packages R qui permettent d‚Äôouvrir et de manipuler les fichiers geoparquets\nduckdb_spatial - package en cours de d√©veloppement - l‚Äôobjectif est de travailler avec les donn√©es spatiales bas√©es sur le mod√®le ‚ÄúSimple Feature Geometry‚Äù\nebvcube: package R pour manipuler les EBVs stock√©es sous le format netCDF dans le portail d‚ÄôEBVs de GEOBON."
  },
  {
    "objectID": "code/astuces.html",
    "href": "code/astuces.html",
    "title": "üí° Astuces",
    "section": "",
    "text": "Il s‚Äôagit d‚Äôune solution ‚Äú√† la mitaine‚Äù qui peut √™tre remplac√©e par l‚Äôutilisation de l‚Äôoutil META-Farm de l‚ÄôAlliance.\nMise en contexte\nOn veut calculer le PCI pour plusieurs esp√®ces. Initialement le array range allait de 1-243, ce qui correspondait aux 243 esp√®ces. Apr√®s le premier lancement du script, 33 esp√®ces (ou t√¢ches) avaient √©chou√©es:\n\nR√©cup√©rer le statut des t√¢ches (sjobexitmod)\nR√©cup√©rer les lignes qui pr√©sentent le pattern FAILED (grep)\nR√©cup√©rer la premi√®re colonnes qui contient jobId_taskId (awk)\nCouper les strings au niveau de _ et r√©cup√©rer la deuxi√®me partie de string qui correspond √† la t√¢che ID (cut)\nEnregistrer la sortie dans un fichier (&gt;)\n\nsjobexitmod -l jobId &gt; sjobexitmod_status.txt\ngrep -e 'FAILED' sjobexitmod_status.txt | awk '{print $1}' | cut -d '_' -f 2 &gt; failed_task_id.txt\n\nDans le fichier bash envoy√© √† l‚Äôordonnanceur slurm, cr√©er une variable shell qui pourra √™tre import√© dans l‚Äôenvironnement R.\n\n#!/bin/bash\n#SBATCH --account=def-dgravel\n#SBATCH --array=1-33\n#SBATCH -t 01:00:00\n#SBATCH --mem-per-cpu=50GB\n#SBATCH --cpus-per-task=1\n#SBATCH --job-name=Summer_school_test\n#SBATCH --mail-user=juhc3201@usherbrooke.ca\n#SBATCH --mail-type=ALL\n\necho $SLURM_ARRAY_TASK_ID\n\nFAILED_TASK_ID=$(sed -n \"${SLURM_ARRAY_TASK_ID}p\" failed_task_id.txt)\n\necho $FAILED_TASK_ID\n\nmodule load StdEnv/2023 gcc/12.3 gdal/3.7.2 arrow/15.0.1 udunits/2.2.28 r/4.4.0\nRscript pci.r\nfailed_task_id &lt;- as.integer(Sys.getenv(\"FAILED_TASK_ID\")) #r√©cup√®re la variable shell FAILED_TASK_ID\nIci la taille de l‚Äôarray correspond au nombre de t√¢ches qui ont √©chou√©. sed permet de r√©cup√©rer la valeur dans le fichier failed_task_id.txt qui correspond au num√©ro du SLURM_ARRAY_TASK_ID. Et cette task_id est utilis√©e pour indexer le nom de l‚Äôesp√®ce qui manque (dans cet exemple)."
  },
  {
    "objectID": "code/astuces.html#r√©cup√©rer-les-t√¢ches-√©chou√©es-et-les-relancer",
    "href": "code/astuces.html#r√©cup√©rer-les-t√¢ches-√©chou√©es-et-les-relancer",
    "title": "üí° Astuces",
    "section": "",
    "text": "Il s‚Äôagit d‚Äôune solution ‚Äú√† la mitaine‚Äù qui peut √™tre remplac√©e par l‚Äôutilisation de l‚Äôoutil META-Farm de l‚ÄôAlliance.\nMise en contexte\nOn veut calculer le PCI pour plusieurs esp√®ces. Initialement le array range allait de 1-243, ce qui correspondait aux 243 esp√®ces. Apr√®s le premier lancement du script, 33 esp√®ces (ou t√¢ches) avaient √©chou√©es:\n\nR√©cup√©rer le statut des t√¢ches (sjobexitmod)\nR√©cup√©rer les lignes qui pr√©sentent le pattern FAILED (grep)\nR√©cup√©rer la premi√®re colonnes qui contient jobId_taskId (awk)\nCouper les strings au niveau de _ et r√©cup√©rer la deuxi√®me partie de string qui correspond √† la t√¢che ID (cut)\nEnregistrer la sortie dans un fichier (&gt;)\n\nsjobexitmod -l jobId &gt; sjobexitmod_status.txt\ngrep -e 'FAILED' sjobexitmod_status.txt | awk '{print $1}' | cut -d '_' -f 2 &gt; failed_task_id.txt\n\nDans le fichier bash envoy√© √† l‚Äôordonnanceur slurm, cr√©er une variable shell qui pourra √™tre import√© dans l‚Äôenvironnement R.\n\n#!/bin/bash\n#SBATCH --account=def-dgravel\n#SBATCH --array=1-33\n#SBATCH -t 01:00:00\n#SBATCH --mem-per-cpu=50GB\n#SBATCH --cpus-per-task=1\n#SBATCH --job-name=Summer_school_test\n#SBATCH --mail-user=juhc3201@usherbrooke.ca\n#SBATCH --mail-type=ALL\n\necho $SLURM_ARRAY_TASK_ID\n\nFAILED_TASK_ID=$(sed -n \"${SLURM_ARRAY_TASK_ID}p\" failed_task_id.txt)\n\necho $FAILED_TASK_ID\n\nmodule load StdEnv/2023 gcc/12.3 gdal/3.7.2 arrow/15.0.1 udunits/2.2.28 r/4.4.0\nRscript pci.r\nfailed_task_id &lt;- as.integer(Sys.getenv(\"FAILED_TASK_ID\")) #r√©cup√®re la variable shell FAILED_TASK_ID\nIci la taille de l‚Äôarray correspond au nombre de t√¢ches qui ont √©chou√©. sed permet de r√©cup√©rer la valeur dans le fichier failed_task_id.txt qui correspond au num√©ro du SLURM_ARRAY_TASK_ID. Et cette task_id est utilis√©e pour indexer le nom de l‚Äôesp√®ce qui manque (dans cet exemple)."
  },
  {
    "objectID": "posts/2024_05_21_post/index.html",
    "href": "posts/2024_05_21_post/index.html",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "cr√©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la cr√©ation d‚Äôun notebook (comme rmarkdown)\npr√©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donn√©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash ‚Äì&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entour√©e le noyau de l‚Äôordinateur et le prot√©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, ‚Ä¶), mais bash √©tant le plus r√©pandu. The bash shell is written in C.\nListe de commandes √† conna√Ætre:\nStructure classique d‚Äôune commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le r√©pertoire dans lequel on se trouve actuellement\npremier slash / correspd √† la racine d‚Äôo√π partent tous les r√©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer l‚Äô√©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par l‚Äôhumain, -l for long list (contient plus d‚Äôinformations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au r√©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de l√† o√π je me trouve, cd sans argument fait repartir dans le r√©pertoire personnel /home/user/, cd peut aussi √™tre utilis√© avec un absolute path, cd ~/project/ avec le tild qui permet de r√©f√©rer au repo personnel et cd . correspond au r√©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour compl√©ter √† partir de la/les premi√®res lettres des fichiers/dossiers pr√©sents dans le repo\n\n\n\nmkdir folderName\ncr√©ation d‚Äôun r√©pertoire\nfor make directory - √©eviter les espaces dans les noms de files and folders (sinon cr√©ation de deux fichiers ou repo), pas d‚Äôaccents non plus ou caract√®res sp√©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer l‚Äôeffacement, -i pour demander (interroger) si on est s√ªr de remove\n\n\nnano ou touch\ncr√©ation d‚Äôun fichier\n√©quivalent d‚Äô√©diteur de texte, plus efficace √† utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch cr√©√© un fichier compl√®tement vide utilis√© pour des logiciels qui ont besoin d‚Äôun fichier d√©j√† existant pour √©crire les r√©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou d√©place un fichier\nfor move si on ajoute un absolute path dans la deuxi√®me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut √™tre multiple, l‚Äôessentiel √©tant que le dernier dossier soit la cible\n\n\n&&\ns√©pare deux commandes que l‚Äôon souhaite exc√©cuter successivement\ns‚Äôexcecute sous condition que la premi√®re fonctionne, ; peut aussi √™tre utilis√© √† la place du double esperluette &&\n\n\n*\nwildcart (caract√®re g√©n√©rique) permettant un pattern matching\npeu importe le nombre de caract√®re\n\n\n?\nremplace un seul caract√®re\n\n\n\ncat\nvoir le contenu d‚Äôun fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caract√®res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmi√®re colonne d‚Äôun fichier\n-n pour num√©rique, -k qui permet de choisir sur quelle colonne tri√©e\n\n\nhead\nr√©cup√®re les premi√®res lignes d‚Äôun fichier\n-n permet de sp√©cifier le nombre de ligne que l‚Äôon souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet d‚Äôutiliser la sortie de la premi√®re commande pour exc√©cuter la deuxi√®me et ainsi de suite\n\n\n\nExemple du pipe - Repr√©sente la puissance de l‚Äôutilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limit√© par la ressource dispo (ex. CPU, GPU, m√©moire, stockage,¬†temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\n√Ä disponibilit√©: grappes de calcul, espace info-nuagiques (h√©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche num√©rique chapote √† l‚Äô√©chelle nationale (grand coordonnateur) \nCalcul Qu√©bec est une antenne de l‚Äôalliance.\nQuelle grappe choisir ?\n\ncelle d√©j√† utilis√©e par le labo\ncelle physiquement pr√©sente au plus proche (b√©luga, narval)\ncelle qui correspond √† nos besoins (gna)\n\nPour la suite, cf la pr√©sentation\nPremi√®re √©tape apr√®s la connexion SSH, arriv√© sur un noeud de connexion qui donne acc√®s aux noeuds de calcul. Le noeud de login (qui peut √™tre utilis√© pour la session interactive) a acc√®s √† internet mais pas les noeuds de calcul. √Ä partir du noeud de login, acc√®s aux diff√©rents dossiers, chargement des fichiers n√©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les r√©cup√©rer). Sur le noeud de connexion, possible d‚Äôutiliser git (clone) via git-lfs pour large file system qui permet d‚Äôassocier et stocker des jeux de donn√©es √† un r√©pertoire git (outil compl√©mentaire qui peut √™tre utiliser dans le souci de reproductibilit√© et transparence). Pour aller chercher les donn√©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot cl√©&gt;  # recherche par mot cl√©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # d√©charger un module\nmodule list              # afficher les modules activ√©s\nmodule purge             # Revenir √† l‚Äô√©tat d‚Äôorigine\nüí• ATTENTION ! Ne pas utiliser conda (probl√©matique pour les grappes)\nüí° En utilisant module spider r/4.4.0, permet de voir quelles d√©pendances sont n√©cessaires.\nüí° Bonne pratique: toujours pr√©ciser la version des modules que l‚Äôon charge.\nüí° module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir √† partir de la description, utiliser le wiki ! üòÄ üí° thread = nombre de coeurs. Utile pour certains logiciel dont le param√©trage n√©cessite une valeur pour thread et nom pas un nombre de coeur\nüí° Pour voir la liste des variables environnement ‚Äî-&gt; Slurm\n\n\n\nRessources utilis√©es d√©pendent su type de t√¢che\n\ns√©quencielle - un seul coeur, sur un seul noeud - t√¢ches qui s‚Äôexcecutent les unes apr√®s les autres\nen parall√®le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donn√©es et de t√¢ches. Parall. de donn√©es est par ex, des t√¢ches s√©quentielles sur plusieurs jeux de donn√©es en m√™me temps. Parall. de t√¢ches est par ex. un logiciel qui est capable d‚Äôeffectuer plusieurs t√¢ches en parall. sur un m√™me jeux de donn√©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouv√© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les t√¢ches dans les noeuds de calcul - cf liste de commandes de slurm\n\n\nüí° utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimis√©, cr√©dit au profil et les t√¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les priorit√©es sont ind√©pendantes d‚Äôune grappe √† l‚Äôautre, c√†d entre Beluga, Narval, ‚Ä¶ sshare et htop pour voir l‚Äô√©tat de priorit√© quand la t√¢che est lanc√©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour üê¨Narval\n\nüí° GPU carte pour acc√©l√©rer et n√©cessaire que pour certains logiciels (dans l‚ÄôIA par ex), pas n√©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme d‚Äôun fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par d√©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la pr√©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir acc√®s au CPU en direct pendant que la t√¢che est en cours\nPossible aussi d‚Äôutiliser le portail, pour üê¨Narval\nüí° Pr√©voir un peu de ressources en plus pour le temps et la m√©moire.\nüí° Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\n\nGLOST\nMETA-FARM qui peut aider pour g√©rer les t√¢ches qui ont √©chou√© (les relancer par exemple)\nCharles conseille de pr√©f√©rer GNU parallel !\n\n\n\n\ncf diapo 69\n\n\n\n\n\n\n\nResponsable de la mise en place d‚Äôun programme de gestion de donn√©es\nDonn√©es de recherche extra vari√©es avec des volumes pouvant √™tre tr√®s important. Multiplicit√© des formats de fichiers pour un type de donn√©es, ce qui repr√©sente un vrai challenge.\n\n\n\ncf diapo 5\nPour chaque √©tape, d√©fi de stockage et archivage. Il existe plusieurs phases actives dans ce cycle de vie\n\n\n\n\nLes avantages d‚Äôune bonne gestion = favorise une recherche efficace et reproductible(!), r√©duit le co√ªt de la recherche en temps et en argent (√©vite la redondance), favorise visibilit√© et impacte de la recherche et facilite science ouverte et transparente.\n\n\n\n\n\n\n\n\n Voir √©galement la formation de Software Carpentry\n\nOpenRefine est un outil open-source, gratuit, ouvert avec UI simple et intuitif. Il supporte nombreux type de fichiers, traitement des doublons, r√©conciliation de plusieurs jeux de donn√©es, ‚Ä¶ et enrichissement des donn√©es via des requ√™tes √† des APIs. Le langage de prog utilis√© est GREL.\n\n\nAcc√®s √† openRefine via JupiterLab. Aller sur l‚Äôonglet software, chercher OpenRefine et le loader. Si il n‚Äôest pas pr√©sent, loader StdEnv 2020 d‚ÄôAbord.\nSource des donn√©es: Montr√©al donn√©es ouvertes\n\n\n\n\n\nPour les ressources, voir intro Python & analyse et visualisation Python\n\n\nGLOBALEMENT, FAIRE TR√àS ATTENTION AUX SUBTILIT√âS SUR L‚ÄôINDENTATIONS\n\npr√©sentation de Jupyter lab\npython langage haut niveau - code qui est interpr√©t√© sans avoir besoin de le compiler - de ce fait interaction facile et rapide\nformation bas√©e sur contenu de software carpentry\nlangage tr√®s utilis√© dans la science des donn√©es, dev web, framework web, intelligence artificielle\n\n\n\nUn notebook pr√©sente un noyau (python ici) qui permet de faire des calculs dans le document cr√©er (existe aussi avec R)\nPage web avec texte, code, ‚Ä¶. comme rmarkdown mais avec extension ipynb\nPour exc√©cuter une section de code shift + enter et doit conserver l‚Äôordre logique.\nEviter d‚Äôutiliser ChatGPT et Copilot quand on d√©bute dans le langage. Utiliser √† l‚Äôinverse, v√©rifier des sections de codes qu‚Äôon a d√©j√† √©crit.\nüí°üí°üí° %whos = mot magique, liste toutes les variables existantes (% pr√©fixe pour certains mot magique)\nüí° Quand erreur de syntaxe, ^ pointe sous l‚Äôerreur, d√©cal√© de un caract√®re vers la droite. üí° Utiliser TAB pour compl√©tion de variables d√©j√† d√©finies\n\n\n\nCertains type de donn√©es sont immutables. List, set, dictionnary sont modifiables. Pour cr√©er des strings, possible d‚Äôutiliser '' ou \"\". Au choix, mais rester persistant.\nüí° pour concat√©ner, pas besoin de l‚Äô√©quivalent de function paste\nFonction = bloc de code regroup√© sous un nom et qui s‚Äôexc√©cute lorsque ce nom est appel√©\nKey points\n\n  - Basic data types in Python include integers, strings, and floating-point numbers.\n  - Use variable = value to assign a value to a variable in order to record it in memory.\n  - Variables are created on demand whenever a value is assigned to them.\n  - Use print(something) to display the value of something.\n  - Built-in functions are always available to use.\n\n\n\n= librairie pour manipuler matrices et tableaux\nPour travailler avec des dataframes, utiliser la librairie üêº pandas\nüí° help() pour avoir l‚Äôaide et les informations sur une fonction\nüí° shift + tab pour activer l‚Äôintellisense sur une fonction\nüí° data[:, 3] s√©lectionne toutes les lignes : de la troisi√®me colonne\nüí° ndarray est pour n dimension array\nüí•üí°üí• Lors de slicing (s√©lection d‚Äôune suite de valeurs), selection open ended [from: to[\nüí•üí°üí• L‚Äôindexation commence √† 0\nüí° small = data[:3, 36:] ici s√©lection des lignes de 0 √† 2 et les colonnes de 36 √† la fin.\nPour charger un jeux de donn√©es\ndata = numpy.loadtxt(fname='data/inflammation-01.csv', delimiter=',')\nLes librairies peuvent √™tre charg√©es avec des alias.\nimport numpy as np\ndata.dtype permet de savoir le type des objets contenu dans la matrice data.\ndata.shape donne la dimension de la matrice data.\nDans la fonction numpy.mean(), l‚Äôargument axis = 1 ou 0 permet d‚Äôappliquer la moyenne par colonne 0 ou par ligne 1.\nPour travailler sur certaines colonnes ou lignes qui ne suivent pas, il est n√©cessaire de cr√©er une vue, puis de travailler √† partir de celle-ci.\nKey points\n\n    - Import a library into a program using import libraryname.\n    - Use the numpy library to work with arrays in Python.\n    - The expression array.shape gives the shape of an array.\n    - Use array[x, y] to select a single element from a 2D numpy array.\n    - Array indices start at 0, not 1.\n    - Use low:high to specify a slice that includes the indices from low to high-1.\n    - Use `# some kind of explanation to add comments to programs.\n    - Use numpy.mean(array), numpy.max(array), and numpy.min(array) to calculate simple statistics.\n    - Use numpy.mean(array, axis=0) or numpy.mean(array, axis=1) to calculate statistics across the specified axis.\n\n\n\n= üìà librairie pour visualiser des donn√©es tabulaires\n\n\n\nüí° indexation n√©gative pour acc√©der au(x) dernier(s) √©l√©ment(s)\nüí° indexation possible avec step list[from:to:step]\nüí° pour lister en reverse, il est indispensable d‚Äôindiquer la step -1 pour que la lecture aille vers la gauche et non pas vers la droite.\nüí•üí°üí• Possible d‚Äôaller indexer une ou plusieurs lettres dans un string, mais cette indexation ne fonctionne pas si on veut modifier une de ces lettres.\nname=\"Darwin\"\nname[2] # r\nname[2]=\"R\" # ERROR\nüí•üí°üí• ATTENTION !!!!! Les copys d‚Äô√©l√©ments ne se font pas aussi simplement que dans R. Si list = list2, les deux sont NON-IND√âPENDANTES. SI modification sur l‚Äôune, sera appliqu√©e √©galement sur l‚Äôautre. Pour faire ceci, utiliser list2 = list.copy() ou list2 = list(list). T_T\nKey Points\n\n    - [value1, value2, value3, ...] creates a list.\n    - Lists can contain any Python object, including lists (i.e., list of lists).\n    - Lists are indexed and sliced with square brackets (e.g., list[0] and list[2:9]), in the same way as strings and arrays.\n    - Lists are mutable (i.e., their values can be changed in place).\n    - Strings are immutable (i.e., the characters in them cannot be changed).\n\n\n\n: permet de terminer la d√©claration de la ligne d‚Äôinstruction de la bouble. Est suivi par le corps de la boucle qui doit √™tre indent√©.\nüí•üí°üí• range(from, to_non_inclut, step) est un g√©n√©rateur qui ne va pas inscrire les valeurs dans la m√©moire. Ceci permet l‚Äôoptimisation quand utilisation de large s√©quence. Pour enregistrer dans une variable, n√©cessaire de faire r = list(range(1, 6)) par exemple.\nKey Points\n\n    - Use for variable in sequence to process the elements of a sequence one at a time.\n    - The body of a for loop must be indented.\n    - Use len(thing) to determine the length of something that contains other values.\n\n\n\n\n\ndocumentation\npar d√©faut, tout variable vide sera consid√©r√©e comme false en terme bool√©en\nsubtilit√© avec None (qui n‚Äôest pas √©quivalent √† null) dans une boucle. None est de classe noneType et ne peut √™tre compar√© avec d‚Äôautres type d‚Äôobjet.\nBonne pratique de code = mettre en premi√®re la condition que serait la plus souvent remplie. Optimisation !\n\n\nKey Points\n\n    - Use if condition to start a conditional statement, elif condition to provide additional tests, and else to provide a default.\n    - The bodies of the branches of conditional statements must be indented.\n    - Use == to test for equality.\n    - X and Y is only true if both X and Y are true.\n    - X or Y is true if either X or Y, or both, are true.\n    - Zero, the empty string, and the empty list are considered false; all other numbers, strings, and lists are considered true.\n    - True and False represent truth values.\n\n\n\n\nüóùÔ∏è Functions let us reuse pieces of code frequently used with different parameters.\nüóùÔ∏è Par d√©faut, ttes fonctions retournent «∏one, d‚Äôo√π l‚Äôimportance d‚Äôutiliser return dans le corps de la fonction.\n\nüí•üí°üí• We need to verify that our functions are behaving correctly. In order to do so, we can run each function and print out the boolean result of an equality test. We can also assert that our function behave correctly by using an assertion statement. An assertion will pass when the statement is True, otherwise will raise an exception and the code or function will not be allowed to continue. This is very useful in preventing bugs and ensuring correctness.\nüí° Utiliser la doc string pour ecrire l‚Äôaide de la function\ndef fahr_to_celsius(temp):\n    \"\"\"\n    Converts Fahrenheit to Celcius.\n\n    Parameters:\n        temp: Temperature in Fahr.\n\n    Example:\n        fahr_to_celsius(32) =&gt; 0.0\n    \"\"\"\n    # this is a comment\n    return ((temp - 32) * (5/9))\n\n    help(fahr_to_celsius)\nExemple de fonction\ndef wrap(str1=\"\", str2=\"*\"):\n    if (isinstance(str1, str) & isinstance(str2, str)):\n        print(str2, str1, str2, sep = \"\")\n    elif type(str1) is not str:\n        print(\"Please enter a string as first argument\")\n    else:\n        print(\"Please enter a string as second argument\")\n\n\nwrap(\"value\")\nwrap()\nwrap(\"value\", \"+\")\nwrap(3)\nwrap(\"l\", 4)\n\n# *value*\n# **\n# +value+\n# Please enter a string as first argument\n# Please enter a string as second argument\n\n\n\nAssociation cl√© valeur !\nLa cl√© doit UNIQUE, sinon on √©crase le contenu pr√©c√©dent. Pour visualisation plus sympa des gros dictionnaire\nfrom pprint import pprint\n\npprint(d)\npprint is for pretty print - mais fonctionnel √† partir d‚Äôune certaine quantit√© d‚Äôinformation dans le dictionnaire (fonctionne aussi avec d‚Äôautres types d‚Äôobjets)\nPour visualiser la liste des cl√©s-valeurs dans le dictionnaire, possible d‚Äôutiliser le code suivant (utilis√© fr√©quemment):\nfor k, v in d.items():\n    print(k, v)\n\n\n\n\nvariable.rstrip() remove les caract√®res dit blanc (espace, saut de ligne, ‚Ä¶.)\nenumerate() donne les indices des valeurs dans une liste\n\ncf exercice de tirage de nom al√©atoire avec retrait\nüí°possible aussi d‚Äôutiliser .remove() pour faire la sans remise\nüí°exemple possible car pas une copie de la liste nom dans la fonction, mais bien un pointeur vers le jeux de donn√©e, ce qui permet de faire sa modification √† chaque tirage.\n\n\n\nJupiter Lab est id√©al pour travailler avec les notebook python (qui sont r√©cup√©rables en local).\ncf documentation wiki\n\n\n\n\n\n\n\n\ncharger, modif et sauvegarder donn√©es tabulaires\nutilisation dataframe de pandas\ngrouper des donn√©es pour faire des stats\ns√©lectionner osus-ensemble\ncombiner donn√©es tabulaires\nvisualiser avec altair (graphiques interactifs)\n\nFormation bas√©e sur software Carpentry\nContenu notebook IPython\nPour les donn√©es tabulaires, la librairie la plus courante est pandas (alias pd). Cette librairie permet la manip des donn√©es et fonctionne tr√®s bien avec d‚Äôautres librairies de visualisation.\n√Ä v√©rifier mais pandas utilise NaN plut√¥t que NA.\ndata.function() = m√©thode qui correspo0nd √† une fonction qui doit calculer quelque chose sur la data (ex. .head(), .describe())\nDiff√©rent de data.attribut qui est une fonction qui extrait une information √† la data (par ex. .shape, .columns)\ncount dans data['nomColonne'].describe() sur une colonne ne prend pas en compte les valeurs nulles.\nLes m√©thodes et attributs utilis√©s ici sont associ√©s √† pandas.\ndata[nomColonne].value_counts() nombre d‚Äôoccurrences par valeurs\ndata.loc[ligne, colonne] pour s√©lectionner des rang√©es et colonnes d‚Äôun dataframe (attribut .loc), existe aussi iloc mais se comporte diff√©remment avec l‚Äôindexation\nIndice -1 ne fonctionne pas avec pandas\nPour s√©lection par crit√®res, il existe isin() pour aller chercher les enregistrements dont les valeurs d‚Äôune colonne correspondent √† l‚Äôune des valeurs fournies dans une liste\nM√©thode .dropna() permet de virer toutes lignes qui contient au moins une donn√©e manquante\ndata.isnull().sum() va sommer tous les ‚ÄòNaN‚Äô pour chaque colonne. Permet de donn√©es un aper√ßu du contenu du jeu de donn√©es\n\n\nPourquoi altair? Pourquoi pas matplotlib?\nBien que matplotlib soit une biblioth√®que de visualisation largement r√©pandue et relativement flexible, la programmation des graphiques ne suit pas une grammaire sp√©cifique.\nAinsi, pour ce chapitre, nous avons fait le choix de vous pr√©senter la biblioth√®que altair qui facilite la cr√©ation de graphiques hautement informatifs tout en s‚Äôint√©grant bien avec Pandas. Le fonctionnement de altair se base sur la grammaire des graphiques interactifs de Vega-Lite, ce qui rend la programmation √† la fois √©l√©gante et puissante.\nNous verrons diff√©rents concepts de visualisation qui peuvent √™tre reproduits plus ou moins facilement avec d‚Äôautres biblioth√®ques telles que matplotlib, plotnine (utilise grammaire de ggplot2) dans R, plotly et seaborn.\nüí° Possible d‚Äôutiliser plotly pour graphique interactif, juste plus compliqu√© √† installer sur le notebook.\nüí°Voir exemple altair\nüíÄ Attention ! Par d√©faut, altair a une gamme de couleur limit√©e √† 10. Si plus de valeur √† colorer, la palette devient redondante.\nüí° Palette de couleurs dans altair\nüí° altair a une technique sp√©ciale appel√©e cr√©ation de facettes permettant de diviser un graphique en plusieurs sous-graphiques selon les valeurs d‚Äôune variable."
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#mardi-21-mai-2024",
    "href": "posts/2024_05_21_post/index.html#mardi-21-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "cr√©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la cr√©ation d‚Äôun notebook (comme rmarkdown)\npr√©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donn√©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash ‚Äì&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entour√©e le noyau de l‚Äôordinateur et le prot√©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, ‚Ä¶), mais bash √©tant le plus r√©pandu. The bash shell is written in C.\nListe de commandes √† conna√Ætre:\nStructure classique d‚Äôune commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le r√©pertoire dans lequel on se trouve actuellement\npremier slash / correspd √† la racine d‚Äôo√π partent tous les r√©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer l‚Äô√©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par l‚Äôhumain, -l for long list (contient plus d‚Äôinformations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au r√©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de l√† o√π je me trouve, cd sans argument fait repartir dans le r√©pertoire personnel /home/user/, cd peut aussi √™tre utilis√© avec un absolute path, cd ~/project/ avec le tild qui permet de r√©f√©rer au repo personnel et cd . correspond au r√©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour compl√©ter √† partir de la/les premi√®res lettres des fichiers/dossiers pr√©sents dans le repo\n\n\n\nmkdir folderName\ncr√©ation d‚Äôun r√©pertoire\nfor make directory - √©eviter les espaces dans les noms de files and folders (sinon cr√©ation de deux fichiers ou repo), pas d‚Äôaccents non plus ou caract√®res sp√©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer l‚Äôeffacement, -i pour demander (interroger) si on est s√ªr de remove\n\n\nnano ou touch\ncr√©ation d‚Äôun fichier\n√©quivalent d‚Äô√©diteur de texte, plus efficace √† utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch cr√©√© un fichier compl√®tement vide utilis√© pour des logiciels qui ont besoin d‚Äôun fichier d√©j√† existant pour √©crire les r√©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou d√©place un fichier\nfor move si on ajoute un absolute path dans la deuxi√®me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut √™tre multiple, l‚Äôessentiel √©tant que le dernier dossier soit la cible\n\n\n&&\ns√©pare deux commandes que l‚Äôon souhaite exc√©cuter successivement\ns‚Äôexcecute sous condition que la premi√®re fonctionne, ; peut aussi √™tre utilis√© √† la place du double esperluette &&\n\n\n*\nwildcart (caract√®re g√©n√©rique) permettant un pattern matching\npeu importe le nombre de caract√®re\n\n\n?\nremplace un seul caract√®re\n\n\n\ncat\nvoir le contenu d‚Äôun fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caract√®res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmi√®re colonne d‚Äôun fichier\n-n pour num√©rique, -k qui permet de choisir sur quelle colonne tri√©e\n\n\nhead\nr√©cup√®re les premi√®res lignes d‚Äôun fichier\n-n permet de sp√©cifier le nombre de ligne que l‚Äôon souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet d‚Äôutiliser la sortie de la premi√®re commande pour exc√©cuter la deuxi√®me et ainsi de suite\n\n\n\nExemple du pipe - Repr√©sente la puissance de l‚Äôutilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limit√© par la ressource dispo (ex. CPU, GPU, m√©moire, stockage,¬†temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\n√Ä disponibilit√©: grappes de calcul, espace info-nuagiques (h√©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche num√©rique chapote √† l‚Äô√©chelle nationale (grand coordonnateur) \nCalcul Qu√©bec est une antenne de l‚Äôalliance.\nQuelle grappe choisir ?\n\ncelle d√©j√† utilis√©e par le labo\ncelle physiquement pr√©sente au plus proche (b√©luga, narval)\ncelle qui correspond √† nos besoins (gna)\n\nPour la suite, cf la pr√©sentation\nPremi√®re √©tape apr√®s la connexion SSH, arriv√© sur un noeud de connexion qui donne acc√®s aux noeuds de calcul. Le noeud de login (qui peut √™tre utilis√© pour la session interactive) a acc√®s √† internet mais pas les noeuds de calcul. √Ä partir du noeud de login, acc√®s aux diff√©rents dossiers, chargement des fichiers n√©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les r√©cup√©rer). Sur le noeud de connexion, possible d‚Äôutiliser git (clone) via git-lfs pour large file system qui permet d‚Äôassocier et stocker des jeux de donn√©es √† un r√©pertoire git (outil compl√©mentaire qui peut √™tre utiliser dans le souci de reproductibilit√© et transparence). Pour aller chercher les donn√©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot cl√©&gt;  # recherche par mot cl√©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # d√©charger un module\nmodule list              # afficher les modules activ√©s\nmodule purge             # Revenir √† l‚Äô√©tat d‚Äôorigine\nüí• ATTENTION ! Ne pas utiliser conda (probl√©matique pour les grappes)\nüí° En utilisant module spider r/4.4.0, permet de voir quelles d√©pendances sont n√©cessaires.\nüí° Bonne pratique: toujours pr√©ciser la version des modules que l‚Äôon charge.\nüí° module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir √† partir de la description, utiliser le wiki ! üòÄ üí° thread = nombre de coeurs. Utile pour certains logiciel dont le param√©trage n√©cessite une valeur pour thread et nom pas un nombre de coeur\nüí° Pour voir la liste des variables environnement ‚Äî-&gt; Slurm\n\n\n\nRessources utilis√©es d√©pendent su type de t√¢che\n\ns√©quencielle - un seul coeur, sur un seul noeud - t√¢ches qui s‚Äôexcecutent les unes apr√®s les autres\nen parall√®le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donn√©es et de t√¢ches. Parall. de donn√©es est par ex, des t√¢ches s√©quentielles sur plusieurs jeux de donn√©es en m√™me temps. Parall. de t√¢ches est par ex. un logiciel qui est capable d‚Äôeffectuer plusieurs t√¢ches en parall. sur un m√™me jeux de donn√©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouv√© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les t√¢ches dans les noeuds de calcul - cf liste de commandes de slurm\n\n\nüí° utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimis√©, cr√©dit au profil et les t√¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les priorit√©es sont ind√©pendantes d‚Äôune grappe √† l‚Äôautre, c√†d entre Beluga, Narval, ‚Ä¶ sshare et htop pour voir l‚Äô√©tat de priorit√© quand la t√¢che est lanc√©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour üê¨Narval\n\nüí° GPU carte pour acc√©l√©rer et n√©cessaire que pour certains logiciels (dans l‚ÄôIA par ex), pas n√©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme d‚Äôun fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par d√©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la pr√©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir acc√®s au CPU en direct pendant que la t√¢che est en cours\nPossible aussi d‚Äôutiliser le portail, pour üê¨Narval\nüí° Pr√©voir un peu de ressources en plus pour le temps et la m√©moire.\nüí° Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\n\nGLOST\nMETA-FARM qui peut aider pour g√©rer les t√¢ches qui ont √©chou√© (les relancer par exemple)\nCharles conseille de pr√©f√©rer GNU parallel !\n\n\n\n\ncf diapo 69"
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#mercredi-22-mai-2024",
    "href": "posts/2024_05_21_post/index.html#mercredi-22-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "Responsable de la mise en place d‚Äôun programme de gestion de donn√©es\nDonn√©es de recherche extra vari√©es avec des volumes pouvant √™tre tr√®s important. Multiplicit√© des formats de fichiers pour un type de donn√©es, ce qui repr√©sente un vrai challenge.\n\n\n\ncf diapo 5\nPour chaque √©tape, d√©fi de stockage et archivage. Il existe plusieurs phases actives dans ce cycle de vie\n\n\n\n\nLes avantages d‚Äôune bonne gestion = favorise une recherche efficace et reproductible(!), r√©duit le co√ªt de la recherche en temps et en argent (√©vite la redondance), favorise visibilit√© et impacte de la recherche et facilite science ouverte et transparente.\n\n\n\n\n\n\n\n\n Voir √©galement la formation de Software Carpentry\n\nOpenRefine est un outil open-source, gratuit, ouvert avec UI simple et intuitif. Il supporte nombreux type de fichiers, traitement des doublons, r√©conciliation de plusieurs jeux de donn√©es, ‚Ä¶ et enrichissement des donn√©es via des requ√™tes √† des APIs. Le langage de prog utilis√© est GREL.\n\n\nAcc√®s √† openRefine via JupiterLab. Aller sur l‚Äôonglet software, chercher OpenRefine et le loader. Si il n‚Äôest pas pr√©sent, loader StdEnv 2020 d‚ÄôAbord.\nSource des donn√©es: Montr√©al donn√©es ouvertes"
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#jeudi-23-mai-2024",
    "href": "posts/2024_05_21_post/index.html#jeudi-23-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "Pour les ressources, voir intro Python & analyse et visualisation Python\n\n\nGLOBALEMENT, FAIRE TR√àS ATTENTION AUX SUBTILIT√âS SUR L‚ÄôINDENTATIONS\n\npr√©sentation de Jupyter lab\npython langage haut niveau - code qui est interpr√©t√© sans avoir besoin de le compiler - de ce fait interaction facile et rapide\nformation bas√©e sur contenu de software carpentry\nlangage tr√®s utilis√© dans la science des donn√©es, dev web, framework web, intelligence artificielle\n\n\n\nUn notebook pr√©sente un noyau (python ici) qui permet de faire des calculs dans le document cr√©er (existe aussi avec R)\nPage web avec texte, code, ‚Ä¶. comme rmarkdown mais avec extension ipynb\nPour exc√©cuter une section de code shift + enter et doit conserver l‚Äôordre logique.\nEviter d‚Äôutiliser ChatGPT et Copilot quand on d√©bute dans le langage. Utiliser √† l‚Äôinverse, v√©rifier des sections de codes qu‚Äôon a d√©j√† √©crit.\nüí°üí°üí° %whos = mot magique, liste toutes les variables existantes (% pr√©fixe pour certains mot magique)\nüí° Quand erreur de syntaxe, ^ pointe sous l‚Äôerreur, d√©cal√© de un caract√®re vers la droite. üí° Utiliser TAB pour compl√©tion de variables d√©j√† d√©finies\n\n\n\nCertains type de donn√©es sont immutables. List, set, dictionnary sont modifiables. Pour cr√©er des strings, possible d‚Äôutiliser '' ou \"\". Au choix, mais rester persistant.\nüí° pour concat√©ner, pas besoin de l‚Äô√©quivalent de function paste\nFonction = bloc de code regroup√© sous un nom et qui s‚Äôexc√©cute lorsque ce nom est appel√©\nKey points\n\n  - Basic data types in Python include integers, strings, and floating-point numbers.\n  - Use variable = value to assign a value to a variable in order to record it in memory.\n  - Variables are created on demand whenever a value is assigned to them.\n  - Use print(something) to display the value of something.\n  - Built-in functions are always available to use.\n\n\n\n= librairie pour manipuler matrices et tableaux\nPour travailler avec des dataframes, utiliser la librairie üêº pandas\nüí° help() pour avoir l‚Äôaide et les informations sur une fonction\nüí° shift + tab pour activer l‚Äôintellisense sur une fonction\nüí° data[:, 3] s√©lectionne toutes les lignes : de la troisi√®me colonne\nüí° ndarray est pour n dimension array\nüí•üí°üí• Lors de slicing (s√©lection d‚Äôune suite de valeurs), selection open ended [from: to[\nüí•üí°üí• L‚Äôindexation commence √† 0\nüí° small = data[:3, 36:] ici s√©lection des lignes de 0 √† 2 et les colonnes de 36 √† la fin.\nPour charger un jeux de donn√©es\ndata = numpy.loadtxt(fname='data/inflammation-01.csv', delimiter=',')\nLes librairies peuvent √™tre charg√©es avec des alias.\nimport numpy as np\ndata.dtype permet de savoir le type des objets contenu dans la matrice data.\ndata.shape donne la dimension de la matrice data.\nDans la fonction numpy.mean(), l‚Äôargument axis = 1 ou 0 permet d‚Äôappliquer la moyenne par colonne 0 ou par ligne 1.\nPour travailler sur certaines colonnes ou lignes qui ne suivent pas, il est n√©cessaire de cr√©er une vue, puis de travailler √† partir de celle-ci.\nKey points\n\n    - Import a library into a program using import libraryname.\n    - Use the numpy library to work with arrays in Python.\n    - The expression array.shape gives the shape of an array.\n    - Use array[x, y] to select a single element from a 2D numpy array.\n    - Array indices start at 0, not 1.\n    - Use low:high to specify a slice that includes the indices from low to high-1.\n    - Use `# some kind of explanation to add comments to programs.\n    - Use numpy.mean(array), numpy.max(array), and numpy.min(array) to calculate simple statistics.\n    - Use numpy.mean(array, axis=0) or numpy.mean(array, axis=1) to calculate statistics across the specified axis.\n\n\n\n= üìà librairie pour visualiser des donn√©es tabulaires\n\n\n\nüí° indexation n√©gative pour acc√©der au(x) dernier(s) √©l√©ment(s)\nüí° indexation possible avec step list[from:to:step]\nüí° pour lister en reverse, il est indispensable d‚Äôindiquer la step -1 pour que la lecture aille vers la gauche et non pas vers la droite.\nüí•üí°üí• Possible d‚Äôaller indexer une ou plusieurs lettres dans un string, mais cette indexation ne fonctionne pas si on veut modifier une de ces lettres.\nname=\"Darwin\"\nname[2] # r\nname[2]=\"R\" # ERROR\nüí•üí°üí• ATTENTION !!!!! Les copys d‚Äô√©l√©ments ne se font pas aussi simplement que dans R. Si list = list2, les deux sont NON-IND√âPENDANTES. SI modification sur l‚Äôune, sera appliqu√©e √©galement sur l‚Äôautre. Pour faire ceci, utiliser list2 = list.copy() ou list2 = list(list). T_T\nKey Points\n\n    - [value1, value2, value3, ...] creates a list.\n    - Lists can contain any Python object, including lists (i.e., list of lists).\n    - Lists are indexed and sliced with square brackets (e.g., list[0] and list[2:9]), in the same way as strings and arrays.\n    - Lists are mutable (i.e., their values can be changed in place).\n    - Strings are immutable (i.e., the characters in them cannot be changed).\n\n\n\n: permet de terminer la d√©claration de la ligne d‚Äôinstruction de la bouble. Est suivi par le corps de la boucle qui doit √™tre indent√©.\nüí•üí°üí• range(from, to_non_inclut, step) est un g√©n√©rateur qui ne va pas inscrire les valeurs dans la m√©moire. Ceci permet l‚Äôoptimisation quand utilisation de large s√©quence. Pour enregistrer dans une variable, n√©cessaire de faire r = list(range(1, 6)) par exemple.\nKey Points\n\n    - Use for variable in sequence to process the elements of a sequence one at a time.\n    - The body of a for loop must be indented.\n    - Use len(thing) to determine the length of something that contains other values.\n\n\n\n\n\ndocumentation\npar d√©faut, tout variable vide sera consid√©r√©e comme false en terme bool√©en\nsubtilit√© avec None (qui n‚Äôest pas √©quivalent √† null) dans une boucle. None est de classe noneType et ne peut √™tre compar√© avec d‚Äôautres type d‚Äôobjet.\nBonne pratique de code = mettre en premi√®re la condition que serait la plus souvent remplie. Optimisation !\n\n\nKey Points\n\n    - Use if condition to start a conditional statement, elif condition to provide additional tests, and else to provide a default.\n    - The bodies of the branches of conditional statements must be indented.\n    - Use == to test for equality.\n    - X and Y is only true if both X and Y are true.\n    - X or Y is true if either X or Y, or both, are true.\n    - Zero, the empty string, and the empty list are considered false; all other numbers, strings, and lists are considered true.\n    - True and False represent truth values.\n\n\n\n\nüóùÔ∏è Functions let us reuse pieces of code frequently used with different parameters.\nüóùÔ∏è Par d√©faut, ttes fonctions retournent «∏one, d‚Äôo√π l‚Äôimportance d‚Äôutiliser return dans le corps de la fonction.\n\nüí•üí°üí• We need to verify that our functions are behaving correctly. In order to do so, we can run each function and print out the boolean result of an equality test. We can also assert that our function behave correctly by using an assertion statement. An assertion will pass when the statement is True, otherwise will raise an exception and the code or function will not be allowed to continue. This is very useful in preventing bugs and ensuring correctness.\nüí° Utiliser la doc string pour ecrire l‚Äôaide de la function\ndef fahr_to_celsius(temp):\n    \"\"\"\n    Converts Fahrenheit to Celcius.\n\n    Parameters:\n        temp: Temperature in Fahr.\n\n    Example:\n        fahr_to_celsius(32) =&gt; 0.0\n    \"\"\"\n    # this is a comment\n    return ((temp - 32) * (5/9))\n\n    help(fahr_to_celsius)\nExemple de fonction\ndef wrap(str1=\"\", str2=\"*\"):\n    if (isinstance(str1, str) & isinstance(str2, str)):\n        print(str2, str1, str2, sep = \"\")\n    elif type(str1) is not str:\n        print(\"Please enter a string as first argument\")\n    else:\n        print(\"Please enter a string as second argument\")\n\n\nwrap(\"value\")\nwrap()\nwrap(\"value\", \"+\")\nwrap(3)\nwrap(\"l\", 4)\n\n# *value*\n# **\n# +value+\n# Please enter a string as first argument\n# Please enter a string as second argument\n\n\n\nAssociation cl√© valeur !\nLa cl√© doit UNIQUE, sinon on √©crase le contenu pr√©c√©dent. Pour visualisation plus sympa des gros dictionnaire\nfrom pprint import pprint\n\npprint(d)\npprint is for pretty print - mais fonctionnel √† partir d‚Äôune certaine quantit√© d‚Äôinformation dans le dictionnaire (fonctionne aussi avec d‚Äôautres types d‚Äôobjets)\nPour visualiser la liste des cl√©s-valeurs dans le dictionnaire, possible d‚Äôutiliser le code suivant (utilis√© fr√©quemment):\nfor k, v in d.items():\n    print(k, v)\n\n\n\n\nvariable.rstrip() remove les caract√®res dit blanc (espace, saut de ligne, ‚Ä¶.)\nenumerate() donne les indices des valeurs dans une liste\n\ncf exercice de tirage de nom al√©atoire avec retrait\nüí°possible aussi d‚Äôutiliser .remove() pour faire la sans remise\nüí°exemple possible car pas une copie de la liste nom dans la fonction, mais bien un pointeur vers le jeux de donn√©e, ce qui permet de faire sa modification √† chaque tirage.\n\n\n\nJupiter Lab est id√©al pour travailler avec les notebook python (qui sont r√©cup√©rables en local).\ncf documentation wiki"
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#vendredi-24-mai-2024",
    "href": "posts/2024_05_21_post/index.html#vendredi-24-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "charger, modif et sauvegarder donn√©es tabulaires\nutilisation dataframe de pandas\ngrouper des donn√©es pour faire des stats\ns√©lectionner osus-ensemble\ncombiner donn√©es tabulaires\nvisualiser avec altair (graphiques interactifs)\n\nFormation bas√©e sur software Carpentry\nContenu notebook IPython\nPour les donn√©es tabulaires, la librairie la plus courante est pandas (alias pd). Cette librairie permet la manip des donn√©es et fonctionne tr√®s bien avec d‚Äôautres librairies de visualisation.\n√Ä v√©rifier mais pandas utilise NaN plut√¥t que NA.\ndata.function() = m√©thode qui correspo0nd √† une fonction qui doit calculer quelque chose sur la data (ex. .head(), .describe())\nDiff√©rent de data.attribut qui est une fonction qui extrait une information √† la data (par ex. .shape, .columns)\ncount dans data['nomColonne'].describe() sur une colonne ne prend pas en compte les valeurs nulles.\nLes m√©thodes et attributs utilis√©s ici sont associ√©s √† pandas.\ndata[nomColonne].value_counts() nombre d‚Äôoccurrences par valeurs\ndata.loc[ligne, colonne] pour s√©lectionner des rang√©es et colonnes d‚Äôun dataframe (attribut .loc), existe aussi iloc mais se comporte diff√©remment avec l‚Äôindexation\nIndice -1 ne fonctionne pas avec pandas\nPour s√©lection par crit√®res, il existe isin() pour aller chercher les enregistrements dont les valeurs d‚Äôune colonne correspondent √† l‚Äôune des valeurs fournies dans une liste\nM√©thode .dropna() permet de virer toutes lignes qui contient au moins une donn√©e manquante\ndata.isnull().sum() va sommer tous les ‚ÄòNaN‚Äô pour chaque colonne. Permet de donn√©es un aper√ßu du contenu du jeu de donn√©es\n\n\nPourquoi altair? Pourquoi pas matplotlib?\nBien que matplotlib soit une biblioth√®que de visualisation largement r√©pandue et relativement flexible, la programmation des graphiques ne suit pas une grammaire sp√©cifique.\nAinsi, pour ce chapitre, nous avons fait le choix de vous pr√©senter la biblioth√®que altair qui facilite la cr√©ation de graphiques hautement informatifs tout en s‚Äôint√©grant bien avec Pandas. Le fonctionnement de altair se base sur la grammaire des graphiques interactifs de Vega-Lite, ce qui rend la programmation √† la fois √©l√©gante et puissante.\nNous verrons diff√©rents concepts de visualisation qui peuvent √™tre reproduits plus ou moins facilement avec d‚Äôautres biblioth√®ques telles que matplotlib, plotnine (utilise grammaire de ggplot2) dans R, plotly et seaborn.\nüí° Possible d‚Äôutiliser plotly pour graphique interactif, juste plus compliqu√© √† installer sur le notebook.\nüí°Voir exemple altair\nüíÄ Attention ! Par d√©faut, altair a une gamme de couleur limit√©e √† 10. Si plus de valeur √† colorer, la palette devient redondante.\nüí° Palette de couleurs dans altair\nüí° altair a une technique sp√©ciale appel√©e cr√©ation de facettes permettant de diviser un graphique en plusieurs sous-graphiques selon les valeurs d‚Äôune variable."
  },
  {
    "objectID": "posts/2024-05-13_post/index.html",
    "href": "posts/2024-05-13_post/index.html",
    "title": "Indicateurs de biodiversit√©",
    "section": "",
    "text": "see map of ecoregions in Canada (see wikipedia)\n\n\n\nReli√©e au Climatoscope\n\n\n-&gt; ann√©e charni√®re pour la BD = 1992\nAvant √ßa, deux mouvances : pr√©servationnisme (cf def, conduisant √† l‚Äôexclusion de peuples autochtones des zones prot√©g√©es) et conservationnisme (protection des sp utiles √† l‚Äôhomme & utilisation raisonn√©e des ressources)\n\nCr√©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / li√©e √† la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - cr√©ation de plusieurs conv. en deux semaines et notamment sur la d√©sertification, le r√©chauffement climatique et la diversit√© biologique - la situation g√©opolitique faisait qu‚Äôil y avait un grand espoir de collaborations (si convention poas sign√©e, d√©coule sur des d√©clarations d‚Äôintention)\n\n==&gt; Conv sur la diversit√© biologique (CDB) : conservation de la biodiversit√©, partage juste et equitable d√©coulant de l‚Äôexploitation de la div g√©n√©tique\n\n1993 - entr√©e en vigueur de la CDB (√©tapes = signature, ratification et finalement entr√©e en vigueur)\n1994 - COP1 √† Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = id√©e d‚Äôassurer un dev qui permet aux g√©n√©rations actuelles et furures de r√©pondre √† leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - d√©finition des objectifs d‚ÄôAICHI\ndepuis 2010 - cr√©ation de l‚ÄôIPBES (√©quivalent du GIEC, qui lui a √©t√© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synth√®se - pr√©sence impoAnnie Chaloux - Gouvernance mondiale de la biodiversit√©\n\nReli√©e au Climatoscope\n\n\n\n-&gt; ann√©e charni√®re pour la BD = 1992\nAvant √ßa, deux mouvances : pr√©servationnisme (cf def, conduisant √† l‚Äôexclusion de peuples autochtones des zones prot√©g√©es) et conservationnisme (protection des sp utiles √† l‚Äôhomme & utilisation raisonn√©e des ressources)\n\nCr√©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / li√©e √† la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - cr√©ation de plusieurs conv. en deux semaines et notamment sur la d√©sertification, le r√©chauffement climatique et la diversit√© biologique - la situation g√©opolitique faisait qu‚Äôil y avait un grand espoir de collaborations (si convention poas sign√©e, d√©coule sur des d√©clarations d‚Äôintention)\n\n==&gt; Conv sur la diversit√© biologique (CDB) : conservation de la biodiversit√©, partage juste et equitable d√©coulant de l‚Äôexploitation de la div g√©n√©tique\n\n1993 - entr√©e en vigueur de la CDB (√©tapes = signature, ratification et finalement entr√©e en vigueur)\n1994 - COP1 √† Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = id√©e d‚Äôassurer un dev qui permet aux g√©n√©rations actuelles et furures de r√©pondre √† leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - d√©finition des objectifs d‚ÄôAICHI\ndepuis 2010 - cr√©ation de l‚ÄôIPBES (√©quivalent du GIEC, qui lui a √©t√© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synth√®se - pr√©sence importante du corps politique\nentente Kunming-Montr√©al car COP15 effectu√©e deux temps √† cause du COVID (une partie en remote organis√© par la pr√©sidence chinoise et une partie en pr√©sence √† Montr√©al)\n\n\n\n\nLes diff√©rentes structures:\n\ncadre principal - CBD, qui organise les (r√¥le √† pr√©ciser)\nCOPs (r√¥le ?)\nle secr√©tariat - aide le gvnt √† mettre en oeuvre les plans d‚Äôaction, organisation, super n√©gociateur (nomm√© par les membres de la COPs)\nles protocoles et autres trait√©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les √©tats) - prennent les d√©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, d‚Äôagriculteurs, de jeunes, ‚Ä¶ - peuvent prendre la parole mais ne peuvent pas voter - R√¥le d‚Äôinfluenceurs inportant !\nIPBES - entit√© qui fournit l‚Äôinformation utile bas√©e sur la science pour les prises de d√©cision\n\nLe d√©roulements : Processus qui se d√©roulent sur deux ans environ\n\npr√©paration des sessions de n√©gociations\nla COP - sur deux semaines, pl√©ni√®re, groupes de travail avec s√©ances de n√©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des d√©cisions en pl√©ni√®re\n\nLe pr√©sidence de la COP est un repr√©sentant du pays qui re√ßoit - super extra important et tr√®s tr√®s difficilertante du corps politique\n\nentente Kunming-Montr√©al car COP15 effectu√©e deux temps √† cause du COVID (une partie en remote organis√© par la pr√©sidence chinoise et une partie en pr√©sence √† Montr√©al)\n\n\n\n\nLes diff√©rentes structures:\n\ncadre principal - CBD, qui organise les (r√¥le √† pr√©ciser)\nCOPs (r√¥le ?)\nle secr√©tariat - aide le gvnt √† mettre en oeuvre les plans d‚Äôaction, organisation, super n√©gociateur (nomm√© par les membres de la COPs)\nles protocoles et autres trait√©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les √©tats) - prennent les d√©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, d‚Äôagriculteurs, de jeunes, ‚Ä¶ - peuvent prendre la parole mais ne peuvent pas voter - R√¥le d‚Äôinfluenceurs inportant !\nIPBES - entit√© qui fournit l‚Äôinformation utile bas√©e sur la science pour les prises de d√©cision\n\nLe d√©roulements : Processus qui se d√©roulent sur deux ans environ\n\npr√©paration des sessions de n√©gociations\nla COP - sur deux semaines, pl√©ni√®re, groupes de travail avec s√©ances de n√©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des d√©cisions en pl√©ni√®re\n\nLe pr√©sidence de la COP est un repr√©sentant du pays qui re√ßoit - super extra important et tr√®s tr√®s difficile\n==&gt; Prend une mineure en sciences politiques pour les chercheur.e.s\n\n\n\n\n\n\n\nFour big goals in 23 targets for 2050\nGoal A = EcoS health and extent, halting human-induced extinctions & maintaining genetic diversity\n\n\nTargets 1 to 8 = reducing threats to biodiversity\nFrom 9 to 13 = Meeting people‚Äôs needs through sustainable use and benefit-sharing\nfrom 14 to 23 = tools and solutions for implementation and mainstreaming\n\nGBF indicators\n\nheadlines indicators (connected to the goals)\ncomponent indicators\ncomplementary indicators\n\nThese ind. should meet following criteria:\n\ndata & metadata publicly available\npeer-reviewed\ndata source and indicators regularly updated at least every 5 years\nmechanism to monitor indicator methodology and/or data production\n\nInteresting paper: Corroboration and contradictions in global biodiversity indicators\n\n\n\nActually ten investigators have been identified\nStarted two years ago\nObj. : provides decision tools, impacts of investissment on ecoS & local measurement\n8 indicators have been developped and target: service ecoSq, esp√®ce √† statut, conservation, perte habitat, pollution, esp.¬†exotiques & envahissantes, connectivit√© & perturbation."
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#pr√©sentation-dom---ouverture",
    "href": "posts/2024-05-13_post/index.html#pr√©sentation-dom---ouverture",
    "title": "Indicateurs de biodiversit√©",
    "section": "",
    "text": "see map of ecoregions in Canada (see wikipedia)"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#annie-chaloux---gouvernance-mondiale-de-la-biodiversit√©",
    "href": "posts/2024-05-13_post/index.html#annie-chaloux---gouvernance-mondiale-de-la-biodiversit√©",
    "title": "Indicateurs de biodiversit√©",
    "section": "",
    "text": "Reli√©e au Climatoscope\n\n\n-&gt; ann√©e charni√®re pour la BD = 1992\nAvant √ßa, deux mouvances : pr√©servationnisme (cf def, conduisant √† l‚Äôexclusion de peuples autochtones des zones prot√©g√©es) et conservationnisme (protection des sp utiles √† l‚Äôhomme & utilisation raisonn√©e des ressources)\n\nCr√©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / li√©e √† la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - cr√©ation de plusieurs conv. en deux semaines et notamment sur la d√©sertification, le r√©chauffement climatique et la diversit√© biologique - la situation g√©opolitique faisait qu‚Äôil y avait un grand espoir de collaborations (si convention poas sign√©e, d√©coule sur des d√©clarations d‚Äôintention)\n\n==&gt; Conv sur la diversit√© biologique (CDB) : conservation de la biodiversit√©, partage juste et equitable d√©coulant de l‚Äôexploitation de la div g√©n√©tique\n\n1993 - entr√©e en vigueur de la CDB (√©tapes = signature, ratification et finalement entr√©e en vigueur)\n1994 - COP1 √† Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = id√©e d‚Äôassurer un dev qui permet aux g√©n√©rations actuelles et furures de r√©pondre √† leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - d√©finition des objectifs d‚ÄôAICHI\ndepuis 2010 - cr√©ation de l‚ÄôIPBES (√©quivalent du GIEC, qui lui a √©t√© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synth√®se - pr√©sence impoAnnie Chaloux - Gouvernance mondiale de la biodiversit√©\n\nReli√©e au Climatoscope\n\n\n\n-&gt; ann√©e charni√®re pour la BD = 1992\nAvant √ßa, deux mouvances : pr√©servationnisme (cf def, conduisant √† l‚Äôexclusion de peuples autochtones des zones prot√©g√©es) et conservationnisme (protection des sp utiles √† l‚Äôhomme & utilisation raisonn√©e des ressources)\n\nCr√©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / li√©e √† la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - cr√©ation de plusieurs conv. en deux semaines et notamment sur la d√©sertification, le r√©chauffement climatique et la diversit√© biologique - la situation g√©opolitique faisait qu‚Äôil y avait un grand espoir de collaborations (si convention poas sign√©e, d√©coule sur des d√©clarations d‚Äôintention)\n\n==&gt; Conv sur la diversit√© biologique (CDB) : conservation de la biodiversit√©, partage juste et equitable d√©coulant de l‚Äôexploitation de la div g√©n√©tique\n\n1993 - entr√©e en vigueur de la CDB (√©tapes = signature, ratification et finalement entr√©e en vigueur)\n1994 - COP1 √† Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = id√©e d‚Äôassurer un dev qui permet aux g√©n√©rations actuelles et furures de r√©pondre √† leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - d√©finition des objectifs d‚ÄôAICHI\ndepuis 2010 - cr√©ation de l‚ÄôIPBES (√©quivalent du GIEC, qui lui a √©t√© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synth√®se - pr√©sence importante du corps politique\nentente Kunming-Montr√©al car COP15 effectu√©e deux temps √† cause du COVID (une partie en remote organis√© par la pr√©sidence chinoise et une partie en pr√©sence √† Montr√©al)\n\n\n\n\nLes diff√©rentes structures:\n\ncadre principal - CBD, qui organise les (r√¥le √† pr√©ciser)\nCOPs (r√¥le ?)\nle secr√©tariat - aide le gvnt √† mettre en oeuvre les plans d‚Äôaction, organisation, super n√©gociateur (nomm√© par les membres de la COPs)\nles protocoles et autres trait√©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les √©tats) - prennent les d√©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, d‚Äôagriculteurs, de jeunes, ‚Ä¶ - peuvent prendre la parole mais ne peuvent pas voter - R√¥le d‚Äôinfluenceurs inportant !\nIPBES - entit√© qui fournit l‚Äôinformation utile bas√©e sur la science pour les prises de d√©cision\n\nLe d√©roulements : Processus qui se d√©roulent sur deux ans environ\n\npr√©paration des sessions de n√©gociations\nla COP - sur deux semaines, pl√©ni√®re, groupes de travail avec s√©ances de n√©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des d√©cisions en pl√©ni√®re\n\nLe pr√©sidence de la COP est un repr√©sentant du pays qui re√ßoit - super extra important et tr√®s tr√®s difficilertante du corps politique\n\nentente Kunming-Montr√©al car COP15 effectu√©e deux temps √† cause du COVID (une partie en remote organis√© par la pr√©sidence chinoise et une partie en pr√©sence √† Montr√©al)\n\n\n\n\nLes diff√©rentes structures:\n\ncadre principal - CBD, qui organise les (r√¥le √† pr√©ciser)\nCOPs (r√¥le ?)\nle secr√©tariat - aide le gvnt √† mettre en oeuvre les plans d‚Äôaction, organisation, super n√©gociateur (nomm√© par les membres de la COPs)\nles protocoles et autres trait√©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les √©tats) - prennent les d√©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, d‚Äôagriculteurs, de jeunes, ‚Ä¶ - peuvent prendre la parole mais ne peuvent pas voter - R√¥le d‚Äôinfluenceurs inportant !\nIPBES - entit√© qui fournit l‚Äôinformation utile bas√©e sur la science pour les prises de d√©cision\n\nLe d√©roulements : Processus qui se d√©roulent sur deux ans environ\n\npr√©paration des sessions de n√©gociations\nla COP - sur deux semaines, pl√©ni√®re, groupes de travail avec s√©ances de n√©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des d√©cisions en pl√©ni√®re\n\nLe pr√©sidence de la COP est un repr√©sentant du pays qui re√ßoit - super extra important et tr√®s tr√®s difficile\n==&gt; Prend une mineure en sciences politiques pour les chercheur.e.s"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#laura-pollock---global-biodiversity-framework-gbf",
    "href": "posts/2024-05-13_post/index.html#laura-pollock---global-biodiversity-framework-gbf",
    "title": "Indicateurs de biodiversit√©",
    "section": "",
    "text": "Four big goals in 23 targets for 2050\nGoal A = EcoS health and extent, halting human-induced extinctions & maintaining genetic diversity\n\n\nTargets 1 to 8 = reducing threats to biodiversity\nFrom 9 to 13 = Meeting people‚Äôs needs through sustainable use and benefit-sharing\nfrom 14 to 23 = tools and solutions for implementation and mainstreaming\n\nGBF indicators\n\nheadlines indicators (connected to the goals)\ncomponent indicators\ncomplementary indicators\n\nThese ind. should meet following criteria:\n\ndata & metadata publicly available\npeer-reviewed\ndata source and indicators regularly updated at least every 5 years\nmechanism to monitor indicator methodology and/or data production\n\nInteresting paper: Corroboration and contradictions in global biodiversity indicators"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#diego-creimer---indicateurs-de-biodiversit√©-locaux-pour-les-investisseurs-du-qu√©bec",
    "href": "posts/2024-05-13_post/index.html#diego-creimer---indicateurs-de-biodiversit√©-locaux-pour-les-investisseurs-du-qu√©bec",
    "title": "Indicateurs de biodiversit√©",
    "section": "",
    "text": "Actually ten investigators have been identified\nStarted two years ago\nObj. : provides decision tools, impacts of investissment on ecoS & local measurement\n8 indicators have been developped and target: service ecoSq, esp√®ce √† statut, conservation, perte habitat, pollution, esp.¬†exotiques & envahissantes, connectivit√© & perturbation."
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#concept-of-biodiversity",
    "href": "posts/2024-05-13_post/index.html#concept-of-biodiversity",
    "title": "Indicateurs de biodiversit√©",
    "section": "Concept of biodiversity",
    "text": "Concept of biodiversity\ninteraction change multi-species trends raw data increase decrease equili variaty richness heteregenoneite composition measure func"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#kath-h√©bert---diving-into-the-lpi",
    "href": "posts/2024-05-13_post/index.html#kath-h√©bert---diving-into-the-lpi",
    "title": "Indicateurs de biodiversit√©",
    "section": "Kath H√©bert - Diving into the LPI",
    "text": "Kath H√©bert - Diving into the LPI\nBiodiversity indicator = state of biodiversity at certain point in time to draw inferences about changes in that state\nEquilibre entre simplification de l‚Äôinformation mais sans perdre trop de complexit√©.\nLiving Planet Index = component index\nSee technical report\n\nHuge diversity in data (and units!)\nConcept of shifting baseline\nAverage (masks extreme values)\nvariation"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#dom---essential-biodiversity-variables",
    "href": "posts/2024-05-13_post/index.html#dom---essential-biodiversity-variables",
    "title": "Indicateurs de biodiversit√©",
    "section": "Dom - Essential Biodiversity Variables",
    "text": "Dom - Essential Biodiversity Variables"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#kath-h√©bert---the-plan-nature-consultation",
    "href": "posts/2024-05-13_post/index.html#kath-h√©bert---the-plan-nature-consultation",
    "title": "Indicateurs de biodiversit√©",
    "section": "Kath H√©bert - The plan Nature consultation",
    "text": "Kath H√©bert - The plan Nature consultation"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#guillaume-larocque---bon-in-a-box",
    "href": "posts/2024-05-13_post/index.html#guillaume-larocque---bon-in-a-box",
    "title": "Indicateurs de biodiversit√©",
    "section": "Guillaume Larocque - BON in a box",
    "text": "Guillaume Larocque - BON in a box\n\nGEO Group on Earth Observations\n BON is biodiversity observation network\nNetwork of data and models\nEBV data portail\n\nBON in a box = plateforme to build ebv and indicator, open, transparent , adaptable (see projects) - very stable software environment based on Docker\nResults viewer allows you to see results of each step in the pipeline\nstacatalog = series of raster with metadata"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#yvan-le-bras---la-plateforme-galaxy",
    "href": "posts/2024-05-13_post/index.html#yvan-le-bras---la-plateforme-galaxy",
    "title": "Indicateurs de biodiversit√©",
    "section": "Yvan Le Bras - la plateforme Galaxy",
    "text": "Yvan Le Bras - la plateforme Galaxy\n portail = script de tout type de langage(-ish) rendu excecutable gr√¢ce √† des formulaires web - affranchi le chercheur de devoir savoir coder ou utiliser des supers calculateurs\nFocus sur les variables essentielles de biodiversit√© = toutes donn√©es qui se placent entre la donn√©es brutes et les indicateurs - dans ce cas, l‚Äôobj. est de pouvoir produire des EBVs √† partir de jeux de donn√©es vari√©s avec des s√©mantiques de variables primaires (cad nom des colonnes) diff√©rentes == EBV workflow\nPhilosophie du PNDB est d‚Äôarr√™ter d‚Äôattendre la clarification de def des EBVs, mais utilisation d‚Äôune d√©finition qui permet l‚Äôop√©rationnalisation - Reste imparfait mais fonctionnel !\nPNDB = objectif de centraliser toutes les donn√©es de la BD et facilit√© son utilisation\npapier Kissling et al - concept EBVs vers EBVs produits\n\nBuilding essential biodiversity variables (EBVs) of species distribution and abundance at a global scale\nTowards global data products of Essential Biodiversity Variables on species traits\n\nGestion de l‚Äôincertitude dans l‚ÄôEBV workflow? Responsabilit√© repose sur l‚Äôutilisateur du WF - PNDB cr√©√© le WF mais ne manipule pas la donn√©es (m√™me √©tat d‚Äôesprit que pour l‚Äôagr√©gateur de m√©tadonn√©es)"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#vincent-beauregard---accessing-biodiversity-data",
    "href": "posts/2024-05-13_post/index.html#vincent-beauregard---accessing-biodiversity-data",
    "title": "Indicateurs de biodiversit√©",
    "section": "Vincent Beauregard - Accessing Biodiversity Data",
    "text": "Vincent Beauregard - Accessing Biodiversity Data\nMajority of data are stocked in cloud\n\nweb app, supported by database (for storing occurrences) and interactive ma p & portal\nR package providing acces to te data\nprocessing pipeline to produce indicators\n\n\nFundamentals behind wed data system\nClient-server model = fondamental unit behind web server\n\nClient & server communicate with protocol (HTTP = rules that define how client and server communicate and exchange data)\nEx in web browsing\n\nclient is the web browser\nserver can be a web server such as Apache, Nginx or a web app server such as Node.js, Django, Shiny\nprotocole is HTTP or HTTPS (S for secured, data are encrypted)\n\n\n\nclient = email desktop, email web\nserver = email servers\nprotocoles = SMTP, IMAP, POP3\n\nDatabase access\n\nclient = database clients (MySQL, ‚Ä¶),R packages, web applications, APIs\nserver = database servers (MySQL, PostgreSQL), APIs ()\nprotocoles = HTTP, ODBC\n\n\n\nWeb architecture\nfront-end vs.¬†back-end\nAPI = interface between client and server parts or server and server- Use to do the translation between different protocoles used by each part.\nHTTP = define how messages are formatted amd transmitted (request-response model), allows CRUD operations (Create POST, Read GET, Update PUT, Delete DELETE) with http requests and supports variety of data formats\nCookies are due to the stateless feature of APIs\nExample of the GBIF API\n\n\nAccessing data of Biodiversity\nWe can use:\n\nstatic file\nAPIs\nCloud-Optimized Formats (COF) = big data stored as static files in the cloud, but optimized for fast access and processing (Parquet, large environment raster file - stacatalog)\n\nCoodinates format - always favored projected coordinates for geospatial stuff"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#dom---build-your-own-indicator",
    "href": "posts/2024-05-13_post/index.html#dom---build-your-own-indicator",
    "title": "Indicateurs de biodiversit√©",
    "section": "Dom - Build your own indicator",
    "text": "Dom - Build your own indicator\nCreation of indicator based on habitat destruction"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#erin-baynes---alberta-monitoring-biodiversity-institute",
    "href": "posts/2024-05-13_post/index.html#erin-baynes---alberta-monitoring-biodiversity-institute",
    "title": "Indicateurs de biodiversit√©",
    "section": "Erin Baynes - Alberta Monitoring Biodiversity Institute",
    "text": "Erin Baynes - Alberta Monitoring Biodiversity Institute\nProfessor at the university and director of ABMI"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#biodiversity-intactness-index-bii",
    "href": "posts/2024-05-13_post/index.html#biodiversity-intactness-index-bii",
    "title": "Indicateurs de biodiversit√©",
    "section": "Biodiversity Intactness Index (BII)",
    "text": "Biodiversity Intactness Index (BII)"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#real-time---habitat-prediction-for-operational-decision-making",
    "href": "posts/2024-05-13_post/index.html#real-time---habitat-prediction-for-operational-decision-making",
    "title": "Indicateurs de biodiversit√©",
    "section": "Real time - Habitat prediction for operational decision making",
    "text": "Real time - Habitat prediction for operational decision making"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#break-the-indicator",
    "href": "posts/2024-05-13_post/index.html#break-the-indicator",
    "title": "Indicateurs de biodiversit√©",
    "section": "Break the indicator",
    "text": "Break the indicator\n\nretravailler l‚Äôintro dans mise en contexte goal et target\ninterpr√©tation resultats avec support visuel"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#ciara-chlo√©---raudsepp-hearn-key-biodiversity-areas",
    "href": "posts/2024-05-13_post/index.html#ciara-chlo√©---raudsepp-hearn-key-biodiversity-areas",
    "title": "Indicateurs de biodiversit√©",
    "section": "Ciara & Chlo√© - Raudsepp-Hearn: Key Biodiversity Areas",
    "text": "Ciara & Chlo√© - Raudsepp-Hearn: Key Biodiversity Areas\nsite web"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html#raw-data",
    "href": "posts/2024-05-10_post/index.html#raw-data",
    "title": "Workflow pour production EBV richesse sp√©cifique",
    "section": "Raw data",
    "text": "Raw data\n\n[ ] Utilisation de toutes les donn√©es dans Atlas\n[ ] Division par groupes taxonomiques pour la visualisation - cat√©gories dans Atlas\n[ ] Division par ecozones (?)\n\n[ ] Division par ecor√©gions (?)\n\n\n\n\nnom\nnom\nnom\n\n\n\n\nAlgues\nAmphibiens\nAngiospermes\n\n\nArthropodes\nAutres angiospermes\nAutres invert√©br√©s\n\n\nAutres plantes\nAutres taxons\nBryophytes\n\n\nC√©phalocord√©es (org. marins)\nConif√®res\nCryptogames vasculaires\n\n\nMammif√®res\nMyc√®tes\nOiseaux\n\n\nPoissons\nReptiles\nTuniciers (inv. marins)"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html#sdm-data",
    "href": "posts/2024-05-10_post/index.html#sdm-data",
    "title": "Workflow pour production EBV richesse sp√©cifique",
    "section": "SDM data",
    "text": "SDM data\n[ ] √âtudier les m√©thodes de thresholding\n[ ] Continuer les calculs √† partir des cartes de Vincent car actuellement juste pour 2017"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html#synth√®se",
    "href": "posts/2024-05-10_post/index.html#synth√®se",
    "title": "Workflow pour production EBV richesse sp√©cifique",
    "section": "Synth√®se",
    "text": "Synth√®se\n[ ] Voir pour produire les figures de synth√®se - cf discussion avec Dom\nlibrary(dplyr)\nlibrary(duckdb)\nlibrary(duckdbfs)\nlibrary(sf)\nlibrary(stringr)\n\n# ---------------------------------#\n# access to the catalog\nbase_url &lt;- \"https://object-arbutus.cloud.computecanada.ca/bq-io/atlas/parquet/\"\n# version date of Atlas parquet\nparquet_date &lt;- \"2024-05-03\"\n# function to retrieve Atlas remotly\natlas_remote &lt;- function(parquet_date, tblname = \"atlas\") {\n    file_name &lt;- paste0(\"atlas_\", parquet_date, \".parquet\")\n    requireNamespace(\"duckdbfs\")\n    duckdbfs::open_dataset(paste0(base_url, file_name), tblname = tblname)\n}\natlas &lt;- atlas_remote(parquet_date = parquet_date) |&gt; select(valid_scientific_name, observation_value, longitude, latitude, year_obs, group_fr)\natlas2 &lt;- atlas |&gt; mutate_at(c('longitude', 'latitude'), as.numeric)\natlas_sf &lt;- atlas |&gt; mutate(geometry = ST_Point(longitude, latitude)) |&gt; to_sf(crs = 4326)\n\n# ====&gt; probl√®me de conversion parquet en sf\n\nclass(atlas)\ndim(atlas)\ncolnames(atlas)\nst_crs(atlas)\n# Exploration\nView(atlas |&gt; group_by(year_obs) |&gt; summarize(cnt = count()) |&gt; arrange(desc(year_obs)) |&gt; collect())\nView(atlas |&gt; group_by(within_quebec) |&gt; summarize(cnt = count()) |&gt; collect())\nView(atlas |&gt; group_by(group_fr) |&gt; summarize(cnt = count()) |&gt; collect())\n\n# Queries\ndbGetQuery(atlas, \"SELECT COUNT(*) FROM atlas\")\n#### Code propre ####\n# =&gt; obj = unique gpkg for polygons of all spatial scale\nlist_qc_spat &lt;- list.files(\"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP\", full.names = T)\n### pixel scale\nspatpix &lt;- st_read(list_qc_spat[6])\n# ---&gt; crs conversion\nspatpix &lt;- st_transform(spatpix, crs = st_crs(4326)) # same crs than atlas\n# ---&gt; variable homogeneisation\nnames(spatpix)\nspatpix$scale &lt;- \"PIXEL10x10KM\"\nspatpix$nom &lt;- as.character(spatpix$ID)\nspatpix$name &lt;- as.character(spatpix$ID)\nspatpix$area &lt;- 10000 * 10000\nst_write(\n    spatpix,\n    \"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP/QUEBEC_all_spat_scales.gpkg\"\n)\n### other spatial scales\nscale &lt;- c(\"FID01\", \"FID02\", \"FID03\", \"FID04\")\nfor (i in 1:length(scale)) {\n    print(paste0(\"----------------&gt; \", scale[i]))\n    db &lt;- st_read(list_qc_spat[i])\n    db &lt;- st_transform(db, crs = st_crs(4326))\n    var &lt;- c(\n        stringr::str_which(names(db), \"NOM\"),\n        stringr::str_which(names(db), \"NAM\"),\n        stringr::str_which(names(db), \"Area\"),\n        stringr::str_which(names(db), \"geom\")\n    )\n    db &lt;- db[, c(1, var)]\n    print(names(db))\n    if (length(var) == 4) {\n        names(db)[1:4] &lt;- c(\"scale\", \"nom\", \"name\", \"area\")\n    } else {\n        names(db)[1:3] &lt;- c(\"scale\", \"nom\", \"area\")\n    }\n    db$scale &lt;- scale[i]\n    print(head(db))\n    st_write(db,\n        \"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP/QUEBEC_all_spat_scales.gpkg\",\n        append = TRUE\n    )\n}\nall_spat &lt;- st_read(\"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP/QUEBEC_all_spat_scales.gpkg\")\ntable(all_spat$scale)\nhead(all_spat)\n### test for 2005 ###\n# Coordonnates in lat/lon epsg\natlas2005 &lt;- atlas |&gt; filter(year_obs == 2005 & within_quebec == \"t\")\nView(atlas2005 |&gt; group_by(group_en) |&gt; summarize(cnt = count()) |&gt; arrange(group_en) |&gt; collect())\n\ntest_sf &lt;- atlas2005 |&gt; mutate(geometry = st_point(longitude, latitude)) |&gt; to_sf(crs = 4326)\n\n# List of different spatial scale of Quebec\nlist_qc_spat &lt;- list.files(\"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP\", full.names = T)\nspat1 &lt;- st_read(list_qc_spat[1])\nspat2 &lt;- st_read(list_qc_spat[2])\nspat6 &lt;- st_read(list_qc_spat[6])\nst_crs(spat1) == st_crs(spat6)\nnames(spat1) == names(spat2)\nnames(spat1)\nnames(spat2)\n#### =&gt; obj = creation of a single spatial geopackage ####\n# treatment of pixel scale data\n# ---&gt; crs conversion\nspat6_trans &lt;- st_transform(spat6, crs = st_crs(spat1))\n# ---&gt; variable creation\nnames(spat6_trans)\nspat6_trans$scale &lt;- \"PIXEL\"\nspat6_trans$nom &lt;- as.character(spat6_trans$ID)\nspat6_trans$name &lt;- as.character(spat6_trans$ID)\nspat6_trans$area &lt;- 10000 * 10000\nspat6bis &lt;- spat6_trans[, -1]\n###\nspat1bis &lt;- spat1[, c(1, 3, 4, 7, 8)]\nnames(spat1bis) &lt;- c(\"scale\", \"nom\", \"name\", \"area\", \"geom\")\nspat1bis$scale &lt;- \"FID01\"\ngpkg_test &lt;- st_write(spat1bis,\n    \"/home/local/USHERBROOKE/juhc3201/Desktop/file_gpkg_test.gpkg\",\n    append = TRUE\n)"
  }
]