[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "code/ubuntu_bash.html",
    "href": "code/ubuntu_bash.html",
    "title": "ğŸš Aide-mÃ©moire Ubuntu & bash",
    "section": "",
    "text": "commande [paramÃ¨tres] [arguments]\nRÃ´le\n\n\n\n\n\n\ngnome-system-monitor\nÃ©quivalent de â€˜task managerâ€™\n\n\n\n\nchown\nchanges the owner of the file or directory specified by the File or Directory parameter to the user specified by the Owner parameter\n\n\n\n\nll\nalias pour ls -l\n\n\n\n\nâ€˜ls -1 | wc -lâ€™\ndÃ©nombre quantitÃ© de files\n\n\n\n\nhistory\nhistorique des commandes\n\n\n\n\nfc -l -xx\nles xx derniÃ¨res commandes effectuÃ©es\n\n\n\n\nfc -s xx\nrelance la commande numÃ©ro xx\n\n\n\n\nfc -s fc=ls xx\nrelance la commande xx en remplaÃ§ant\nfc par ls\naller dÃ©but de la ligne\n\n\nctrl + a\naller fin ligne\n\n\n\n\nctrl + e\ncleaner le termine\n\n\n\n\nctrl + l\neffacer la ligne jusquâ€™au dÃ©but\n\n\n\n\nctrl + k\neffacer la ligne jusquâ€™Ã  la fin\n\n\n\n\ntouch   \ncreate one or several files\n\n\n\n\nvi \ni for insert\n\n\n\n\nnano\nread, modify & save a file - There are two modes - cf RedHat Vi infoseasier!!!\n\n\n\n\nmkdir\ncrÃ©ation dâ€™un dossier\n\n\n\n\nrmdir\nefface un dossier\n\n\n\n\nrm \neffacer un fichier\n\n\n\n\nrm -rf \neffacer un dossier\n\n\n\n\nrealpath  ou pwd\nchemin absolu\n\n\n\n\necho\naffiche du texte\n\n\n\n\nnpm\nlibrary and registry for JavaScript software packages. npm also has command-line tools to help you install the different packages and manage their dependencies\n\n\n\n\nzip -r &lt;file.zip&gt; \nzip un dossier\n\n\n\n\nsed -i â€˜s/old-text/new-text/gâ€™ input.txt\nfind and replace in file(s) cf docu\n\n\n\n\nsed -s â€˜2!dâ€™ *.txt &gt; test_cat2.txt\nconcatenate second line of several files\n\n\n\n\nsudo dpkg -i xxx.deb\ninstallation dâ€™un package tÃ©lÃ©chargÃ©\n\n\n\n\nquarto render xxx.qmd\ncompilation en local dâ€™un fichier quarto\n\n\n\n\n[ctrl][Alt][f5]\nmode tty\n\n\n\n\n[alt][F1]\nexit mode tty\n\n\n\n\nmv ex.txt new.txt\nrenommer un fichier\n\n\n\n\nscp (-r) file/folder_to_send targeted_folder\n-r is for recursive sâ€™il sâ€™agit dâ€™un dossier Ã  envoyer. exemple pour calcul Canada scp ccjuhasz@narval.computecanada.ca:projects/def-dgravel/ccjuhasz/sf_converted_occ_pres_only2.zip\n\n\n\n\nogrinfo -sql â€œCREATE INDEX index_name ON table_name (column1, column2,columnNâ€¦)â€ my_geopackage.gpkg\nIndex creation for sql request to geopackage file\n\n\n\n\nogrinfo file.gpkg\ngive the name of the database"
  },
  {
    "objectID": "code/python_aide-memoire.html",
    "href": "code/python_aide-memoire.html",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "",
    "text": "Certains mots font partie du langage Python, et ne peuvent pas Ãªtre utilisÃ©s comme noms de variables. Par exemple, def, match, case, _, del , if, else, break & continue."
  },
  {
    "objectID": "code/python_aide-memoire.html#listes",
    "href": "code/python_aide-memoire.html#listes",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "Listes",
    "text": "Listes\nlist=[el1, el2, el3, ...]"
  },
  {
    "objectID": "code/python_aide-memoire.html#tuples",
    "href": "code/python_aide-memoire.html#tuples",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "Tuples",
    "text": "Tuples\nSimilaire aux listes mais non modifiables et dÃ©finit avec () au lieu de [].\ntuple=(el1, el2, el3, ...)"
  },
  {
    "objectID": "code/python_aide-memoire.html#dictionnaires",
    "href": "code/python_aide-memoire.html#dictionnaires",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "Dictionnaires",
    "text": "Dictionnaires\nUn dictionnaire est une structure de donnÃ©es qui enregistre des donnÃ©es dans des paires clÃ©s-valeurs. Un dictionnaire est dÃ©fini Ã  lâ€™aide des {}.\n\nnouvelle_campagne = {\n\"responsable_de_campagne\": \"Jeanne d'Arc\",\n\"nom_de_campagne\": \"Campagne nous aimons les chiens\",\n\"date_de_dÃ©but\": \"01/01/2020\",\n\"influenceurs_importants\": [\"@MonAmourDeChien\", \"@MeilleuresFriandisesPourChiens\"]\n}\nLa fonction dict() peut aussi Ãªtre utilisÃ©e.\nd = dict([\n    (&lt;key&gt;, &lt;value&gt;),\n    (&lt;key&gt;, &lt;value),\n      .\n      .\n      .\n    (&lt;key&gt;, &lt;value&gt;)\n])\nUne valeur peut Ãªtre un objet complexe telle quâ€™une liste. Il est possible de modifier le dictionnaire aprÃ¨s sa crÃ©ation.\n# creation dictionnaire\ninfos_labradoodle = {\n    \"poids\": \"13 Ã  16 kg\",\n    \"origine\": [\"Ã‰tats-Unis\", \"Canada\"]\n}\n\n# Ajout d'une paire clÃ©-valeur\ninfos_labradoodle[\"nom_scientifique\"]=\"Canis lupus familiaris\"\n\n# Appel des valeurs associÃ©es Ã  origine\nprint(infos_labradoodle[\"origine\"]) # [\"Ã‰tats-Unis\", \"Canada\"]\nprint(infos_labradoodle[\"origine\"][0]) # Canada\n\n# Suppression d'une association clÃ©-valeur avec l'utilisation d'un mot clÃ© del\ndel infos_labradoodle[\"nom_scientifique\"] # retrait de l'association nom_scientifique - Canis lupus familiaris\ndel infos_labradoodle[\"origine\"][0] # retrait de la premiÃ¨re valeur associÃ©e Ã  origine\n\n# VÃ©rification de l'existence d'une clÃ©\n\nprint(\"poids\" in infos_labradoodle) # True\nprint(\"race\" in infos_labradoodle) # False"
  },
  {
    "objectID": "code/python_aide-memoire.html#mÃ©thodes-les-plus-courantes-associÃ©es-aux-listes",
    "href": "code/python_aide-memoire.html#mÃ©thodes-les-plus-courantes-associÃ©es-aux-listes",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "MÃ©thodes les plus courantes associÃ©es aux listes",
    "text": "MÃ©thodes les plus courantes associÃ©es aux listes\n\n\n\n\n\n\n\nmÃ©thode\ndÃ©finition\n\n\n\n\nextend()\nAjoute plusieurs Ã©lÃ©ments Ã  la fin\n\n\ninsert()\nInsÃ¨re un Ã©lÃ©ment Ã  une position donnÃ©e\n\n\npop()\nSupprime et renvoie lâ€™Ã©lÃ©ment Ã  une position donnÃ©e ou le dernier Ã©lÃ©ment si aucun indice nâ€™est spÃ©cifiÃ©\n\n\nindex()\nRenvoie la premiÃ¨re occurrence de lâ€™Ã©lÃ©ment spÃ©cifiÃ©\n\n\ncount()\nRenvoie le nombre dâ€™occurrences de lâ€™Ã©lÃ©ment spÃ©cifiÃ©\n\n\nreverse()\nInverse lâ€™ordre des Ã©lÃ©ments\n\n\n\nlist=[el1, el2, el3]\nlist.append(el4) # el1, el2, el3, el4\nlist.reverse() # el4, el3, el2, el1\nCf documentation python sur les mÃ©thodes."
  },
  {
    "objectID": "code/python_aide-memoire.html#mÃ©thodes-les-plus-courantes-associÃ©es-aux-dictionnaires",
    "href": "code/python_aide-memoire.html#mÃ©thodes-les-plus-courantes-associÃ©es-aux-dictionnaires",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "MÃ©thodes les plus courantes associÃ©es aux dictionnaires",
    "text": "MÃ©thodes les plus courantes associÃ©es aux dictionnaires\n\n\n\n\n\n\n\nmÃ©thode\ndÃ©finition\n\n\n\n\nkeys()\nâ€‹â€‹Retourne une vue sur les clÃ©s du dictionnaire\n\n\nvalues()\nRetourne une vue sur les valeurs du dictionnaire\n\n\nitems()\nRetourne une vue sur les couples (clÃ©, valeur) du dictionnaire\n\n\nget(clÃ©)\nRetourne la valeur associÃ©e Ã  la clÃ© spÃ©cifiÃ©e. Si la clÃ© nâ€™est pas prÃ©sente dans le dictionnaire, retourne la valeur None\n\n\npop(clÃ©)\nSupprime la clÃ© spÃ©cifiÃ©e et retourne la valeur associÃ©e. Si la clÃ© nâ€™est pas prÃ©sente dans le dictionnaire, retourne la valeur None\n\n\nclear()\nSupprime tous les Ã©lÃ©ments du dictionnaire"
  },
  {
    "objectID": "code/python_aide-memoire.html#ifelifelse",
    "href": "code/python_aide-memoire.html#ifelifelse",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "if/elif/else",
    "text": "if/elif/else\nLes instructions if/elif/else permettent de dÃ©finir des conditions multiples. Le mot-clÃ© elif vous permet dâ€™ajouter autant de conditions que vous voulez. Vous devez ensuite terminer avec une instruction else. Les opÃ©rateurs logiques and, or, not peuvent Ãªtre utilisÃ©s pour vÃ©rifier des conditions multiples au sein dâ€™une mÃªme instructions.\nfruit = \"pomme\"\nif fruit==\"pomme\":\n    print(\"J'aime les pommes !\")\nelif fruit==\"banane\":\n    print(\"J'aime les bananes !\")\nelif fruit==\"orange\":\n    print(\"Les oranges sont bonnes pour la santÃ©.\")\nelse :\n    print(\"Je ne connais pas ce fruit.\")\nAfin de rendre plus lisible ce genre de boucle, les match cases peuvent Ãªtre utilisÃ©s.\nmatch fruit:\n    case \"pomme\":\n        print(\"J'aime les pommes !\")\n    case \"banane\":\n        print(\"Je n'aime pas les bananes.\")\n    case \"orange\":\n        print(\"Les oranges sont bonnes pour la santÃ©.\")\n    case _:\n        print(\"Je ne connais pas ce fruit.\")"
  },
  {
    "objectID": "code/python_aide-memoire.html#for",
    "href": "code/python_aide-memoire.html#for",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "for",
    "text": "for\nraces_de_chien = [\"golden retriever\", \"chihuahua\", \"terrier\", \"carlin\"]\nfor chien in races_de_chien:\n    print(chien)"
  },
  {
    "objectID": "code/python_aide-memoire.html#while",
    "href": "code/python_aide-memoire.html#while",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "while",
    "text": "while\ncapacite_maximale = 10\ncapacite_actuelle = 3\nwhile capacite_actuelle &lt; capacite_maximale:\n    capacite_actuelle += 1"
  },
  {
    "objectID": "code/python_aide-memoire.html#plusieurs-listes-en-mÃªme-temps",
    "href": "code/python_aide-memoire.html#plusieurs-listes-en-mÃªme-temps",
    "title": "ğŸ Aide-mÃ©moire Python",
    "section": "Plusieurs listes en mÃªme temps",
    "text": "Plusieurs listes en mÃªme temps\nSâ€™il est nÃ©cessaire de traiter deux (ou plus) listes en mÃªme temps dans une boucle, il est possible dâ€™utiliser la fonction zip().\nlistA = [\"pomme\", \"poire\", \"pÃªche\"]\nlistB = [2, 5, 1]\n\nfor val1, val2 in zip(listA, listB):\n    print(val2, '\\t',  val1)\n\n# 2        pomme\n# 5        poire\n# 1        pÃªche"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "QUARTO_grimmoire_job",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Job Blog",
    "section": "",
    "text": "Bash, grappes de calcul, analyse et visualisation en Python\n\n\n\nformation\n\n\nÃ©cole Ã©tÃ©\n\n\n\nÃ‰cole printemps Calcul QuÃ©bec - Bases de bash et grappes de calcul\n\n\n\nClaire-CÃ©cile Juhasz\n\n\nMay 21, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIndicateurs de biodiversitÃ©\n\n\n\nformation\n\n\nÃ©cole Ã©tÃ©\n\n\n\nÃ‰cole dâ€™Ã©tÃ© Dominique Gravel\n\n\n\nClaire-CÃ©cile Juhasz\n\n\nMay 13, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWorkflow pour production EBV richesse spÃ©cifique\n\n\n\nEBV\n\n\n\nÃ€ partir des donnÃ©es brutes\n\n\n\nClaire-CÃ©cile Juhasz\n\n\nMay 10, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTableau de bord - Richesse spÃ©cifique\n\n\n\nEBV\n\n\ntableau de bord\n\n\n\nPremiÃ¨re Ã©tape de production dâ€™un tableau de bord\n\n\n\nClaire-CÃ©cile Juhasz\n\n\nMay 6, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProjet EBVs\n\n\n\nEBV\n\n\nindicateurs\n\n\n\nDescription et dÃ©finition des objectifs du projet\n\n\n\nClaire-CÃ©cile Juhasz\n\n\nMay 6, 2024\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2024-05-06_post/index.html",
    "href": "posts/2024-05-06_post/index.html",
    "title": "Projet EBVs",
    "section": "",
    "text": "Lâ€™objectif est de dÃ©velopper les EBVs superficie des aires de distribution des espÃ¨ces et richesse spÃ©cifique Ã  partir des rÃ©sultats de Species Distribution models. Les EBVs doivent ensuite Ãªtre organisÃ©es sous le format dâ€™un cube avec les trois axes correspondant (idÃ©alement) aux taxons, lâ€™espace et le temps."
  },
  {
    "objectID": "posts/2024-05-06_post2/index.html",
    "href": "posts/2024-05-06_post2/index.html",
    "title": "Tableau de bord - Richesse spÃ©cifique",
    "section": "",
    "text": "Un premier tableau de bord  a Ã©tÃ© dÃ©veloppÃ© Ã  partir: - des donnÃ©es brutes utilisÃ©es par Vincent Bellavance pour ses modÃ¨les de distribution (INLA). Ces donnÃ©es, issues dâ€™Atlas ne concernent que les oiseaux nicheurs du QuÃ©bec entre 1990 et 2019. - la richesse spÃ©cifique a Ã©tÃ© obtenue pour diffÃ©rentes Ã©chelles spatiales: provinces naturelles, rÃ©gions naturelles, niveaux physiogÃ©ographiques, districts Ã©cologiques et pixels 10x10 km.\nUne version de cartes de richesse spÃ©cifique ont Ã©tÃ© obtenue Ã©galement Ã  partir des carte de distribution de Vincent Bellavance pour lâ€™annÃ©es 2017."
  },
  {
    "objectID": "posts/2024-05-06_post/index.html#ressources-dintÃ©rÃªt",
    "href": "posts/2024-05-06_post/index.html#ressources-dintÃ©rÃªt",
    "title": "Projet EBVs",
    "section": "Ressources dâ€™intÃ©rÃªt",
    "text": "Ressources dâ€™intÃ©rÃªt\n\nprÃ©sentation sur les EBVs de Louis QuÃ©nÃ©e (chargÃ© de mission Ã  PatriNat - 2023)\n\n\n\nCf mendeley library"
  },
  {
    "objectID": "posts/2024_05_21/index.html",
    "href": "posts/2024_05_21/index.html",
    "title": "Analyse et visualisation en Python",
    "section": "",
    "text": "crÃ©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la crÃ©ation dâ€™un notebook (comme rmarkdown)\nprÃ©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donnÃ©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash â€“&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entourÃ©e le noyau de lâ€™ordinateur et le protÃ©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, â€¦), mais bash Ã©tant le plus rÃ©pandu. The bash shell is written in C.\nListe de commandes Ã  connaÃ®tre:\nStructure classique dâ€™une commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le rÃ©pertoire dans lequel on se trouve actuellement\npremier slash / correspd Ã  la racine dâ€™oÃ¹ partent tous les rÃ©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer lâ€™Ã©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par lâ€™humain, -l for long list (contient plus dâ€™informations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au rÃ©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de lÃ  oÃ¹ je me trouve, cd sans argument fait repartir dans le rÃ©pertoire personnel /home/user/, cd peut aussi Ãªtre utilisÃ© avec un absolute path, cd ~/project/ avec le tild qui permet de rÃ©fÃ©rer au repo personnel et cd . correspond au rÃ©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour complÃ©ter Ã  partir de la/les premiÃ¨res lettres des fichiers/dossiers prÃ©sents dans le repo\n\n\n\nmkdir folderName\ncrÃ©ation dâ€™un rÃ©pertoire\nfor make directory - Ã©eviter les espaces dans les noms de files and folders (sinon crÃ©ation de deux fichiers ou repo), pas dâ€™accents non plus ou caractÃ¨res spÃ©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer lâ€™effacement, -i pour demander (interroger) si on est sÃ»r de remove\n\n\nnano ou touch\ncrÃ©ation dâ€™un fichier\nÃ©quivalent dâ€™Ã©diteur de texte, plus efficace Ã  utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch crÃ©Ã© un fichier complÃ¨tement vide utilisÃ© pour des logiciels qui ont besoin dâ€™un fichier dÃ©jÃ  existant pour Ã©crire les rÃ©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou dÃ©place un fichier\nfor move si on ajoute un absolute path dans la deuxiÃ¨me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut Ãªtre multiple, lâ€™essentiel Ã©tant que le dernier dossier soit la cible\n\n\n&&\nsÃ©pare deux commandes que lâ€™on souhaite excÃ©cuter successivement\nsâ€™excecute sous condition que la premiÃ¨re fonctionne, ; peut aussi Ãªtre utilisÃ© Ã  la place du double esperluette &&\n\n\n*\nwildcart (caractÃ¨re gÃ©nÃ©rique) permettant un pattern matching\npeu importe le nombre de caractÃ¨re\n\n\n?\nremplace un seul caractÃ¨re\n\n\n\ncat\nvoir le contenu dâ€™un fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caractÃ¨res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmiÃ¨re colonne dâ€™un fichier\n-n pour numÃ©rique, -k qui permet de choisir sur quelle colonne triÃ©e\n\n\nhead\nrÃ©cupÃ¨re les premiÃ¨res lignes dâ€™un fichier\n-n permet de spÃ©cifier le nombre de ligne que lâ€™on souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet dâ€™utiliser la sortie de la premiÃ¨re commande pour excÃ©cuter la deuxiÃ¨me et ainsi de suite\n\n\n\nExemple du pipe - ReprÃ©sente la puissance de lâ€™utilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limitÃ© par la ressource dispo (ex. CPU, GPU, mÃ©moire, stockage,Â temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\nÃ€ disponibilitÃ©: grappes de calcul, espace info-nuagiques (hÃ©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche numÃ©rique chapote Ã  lâ€™Ã©chelle nationale (grand coordonnateur) \nCalcul QuÃ©bec est une antenne de lâ€™alliance.\nQuelle grappe choisir ?\n\ncelle dÃ©jÃ  utilisÃ©e par le labo\ncelle physiquement prÃ©sente au plus proche (bÃ©luga, narval)\ncelle qui correspond Ã  nos besoins (gna)\n\nPour la suite, cf la prÃ©sentation\nPremiÃ¨re Ã©tape aprÃ¨s la connexion SSH, arrivÃ© sur un noeud de connexion qui donne accÃ¨s aux noeuds de calcul. Le noeud de login (qui peut Ãªtre utilisÃ© pour la session interactive) a accÃ¨s Ã  internet mais pas les noeuds de calcul. Ã€ partir du noeud de login, accÃ¨s aux diffÃ©rents dossiers, chargement des fichiers nÃ©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les rÃ©cupÃ©rer). Sur le noeud de connexion, possible dâ€™utiliser git (clone) via git-lfs pour large file system qui permet dâ€™associer et stocker des jeux de donnÃ©es Ã  un rÃ©pertoire git (outil complÃ©mentaire qui peut Ãªtre utiliser dans le souci de reproductibilitÃ© et transparence). Pour aller chercher les donnÃ©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot clÃ©&gt;  # recherche par mot clÃ©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # dÃ©charger un module\nmodule list              # afficher les modules activÃ©s\nmodule purge             # Revenir Ã  lâ€™Ã©tat dâ€™origine\nğŸ’¥ ATTENTION ! Ne pas utiliser conda (problÃ©matique pour les grappes)\nğŸ’¡ En utilisant module spider r/4.4.0, permet de voir quelles dÃ©pendances sont nÃ©cessaires.\nğŸ’¡ Bonne pratique: toujours prÃ©ciser la version des modules que lâ€™on charge.\nğŸ’¡ module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir Ã  partir de la description, utiliser le wiki ! ğŸ˜€\n\n\n\nRessources utilisÃ©es dÃ©pendent su type de tÃ¢che\n\nsÃ©quencielle - un seul coeur, sur un seul noeud - tÃ¢ches qui sâ€™excecutent les unes aprÃ¨s les autres\nen parallÃ¨le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donnÃ©es et de tÃ¢ches. Parall. de donnÃ©es est par ex, des tÃ¢ches sÃ©quentielles sur plusieurs jeux de donnÃ©es en mÃªme temps. Parall. de tÃ¢ches est par ex. un logiciel qui est capable dâ€™effectuer plusieurs tÃ¢ches en parall. sur un mÃªme jeux de donnÃ©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouvÃ© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les tÃ¢ches dans les noeuds de calcul.\n\nğŸ’¡ utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimisÃ©, crÃ©dit au profil et les tÃ¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les prioritÃ©es sont indÃ©pendantes dâ€™une grappe Ã  lâ€™autre, cÃ d entre Beluga, Narval, â€¦ sshare et htop pour voir lâ€™Ã©tat de prioritÃ© quand la tÃ¢che est lancÃ©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour ğŸ¬Narval\n\nğŸ’¡ GPU carte pour accÃ©lÃ©rer et nÃ©cessaire que pour certains logiciels (dans lâ€™IA par ex), pas nÃ©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme dâ€™un fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par dÃ©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la prÃ©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir accÃ¨s au CPU en direct pendant que la tÃ¢che est en cours\nPossible aussi dâ€™utiliser le portail, pour ğŸ¬Narval\nğŸ’¡ PrÃ©voir un peu de ressources en plus pour le temps et la mÃ©moire.\nğŸ’¡ Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\ncf diapo 69"
  },
  {
    "objectID": "posts/2024_05_21/index.html#day-1",
    "href": "posts/2024_05_21/index.html#day-1",
    "title": "Analyse et visualisation en Python",
    "section": "",
    "text": "crÃ©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la crÃ©ation dâ€™un notebook (comme rmarkdown)\nprÃ©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donnÃ©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash â€“&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entourÃ©e le noyau de lâ€™ordinateur et le protÃ©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, â€¦), mais bash Ã©tant le plus rÃ©pandu. The bash shell is written in C.\nListe de commandes Ã  connaÃ®tre:\nStructure classique dâ€™une commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le rÃ©pertoire dans lequel on se trouve actuellement\npremier slash / correspd Ã  la racine dâ€™oÃ¹ partent tous les rÃ©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer lâ€™Ã©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par lâ€™humain, -l for long list (contient plus dâ€™informations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au rÃ©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de lÃ  oÃ¹ je me trouve, cd sans argument fait repartir dans le rÃ©pertoire personnel /home/user/, cd peut aussi Ãªtre utilisÃ© avec un absolute path, cd ~/project/ avec le tild qui permet de rÃ©fÃ©rer au repo personnel et cd . correspond au rÃ©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour complÃ©ter Ã  partir de la/les premiÃ¨res lettres des fichiers/dossiers prÃ©sents dans le repo\n\n\n\nmkdir folderName\ncrÃ©ation dâ€™un rÃ©pertoire\nfor make directory - Ã©eviter les espaces dans les noms de files and folders (sinon crÃ©ation de deux fichiers ou repo), pas dâ€™accents non plus ou caractÃ¨res spÃ©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer lâ€™effacement, -i pour demander (interroger) si on est sÃ»r de remove\n\n\nnano ou touch\ncrÃ©ation dâ€™un fichier\nÃ©quivalent dâ€™Ã©diteur de texte, plus efficace Ã  utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch crÃ©Ã© un fichier complÃ¨tement vide utilisÃ© pour des logiciels qui ont besoin dâ€™un fichier dÃ©jÃ  existant pour Ã©crire les rÃ©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou dÃ©place un fichier\nfor move si on ajoute un absolute path dans la deuxiÃ¨me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut Ãªtre multiple, lâ€™essentiel Ã©tant que le dernier dossier soit la cible\n\n\n&&\nsÃ©pare deux commandes que lâ€™on souhaite excÃ©cuter successivement\nsâ€™excecute sous condition que la premiÃ¨re fonctionne, ; peut aussi Ãªtre utilisÃ© Ã  la place du double esperluette &&\n\n\n*\nwildcart (caractÃ¨re gÃ©nÃ©rique) permettant un pattern matching\npeu importe le nombre de caractÃ¨re\n\n\n?\nremplace un seul caractÃ¨re\n\n\n\ncat\nvoir le contenu dâ€™un fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caractÃ¨res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmiÃ¨re colonne dâ€™un fichier\n-n pour numÃ©rique, -k qui permet de choisir sur quelle colonne triÃ©e\n\n\nhead\nrÃ©cupÃ¨re les premiÃ¨res lignes dâ€™un fichier\n-n permet de spÃ©cifier le nombre de ligne que lâ€™on souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet dâ€™utiliser la sortie de la premiÃ¨re commande pour excÃ©cuter la deuxiÃ¨me et ainsi de suite\n\n\n\nExemple du pipe - ReprÃ©sente la puissance de lâ€™utilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limitÃ© par la ressource dispo (ex. CPU, GPU, mÃ©moire, stockage,Â temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\nÃ€ disponibilitÃ©: grappes de calcul, espace info-nuagiques (hÃ©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche numÃ©rique chapote Ã  lâ€™Ã©chelle nationale (grand coordonnateur) \nCalcul QuÃ©bec est une antenne de lâ€™alliance.\nQuelle grappe choisir ?\n\ncelle dÃ©jÃ  utilisÃ©e par le labo\ncelle physiquement prÃ©sente au plus proche (bÃ©luga, narval)\ncelle qui correspond Ã  nos besoins (gna)\n\nPour la suite, cf la prÃ©sentation\nPremiÃ¨re Ã©tape aprÃ¨s la connexion SSH, arrivÃ© sur un noeud de connexion qui donne accÃ¨s aux noeuds de calcul. Le noeud de login (qui peut Ãªtre utilisÃ© pour la session interactive) a accÃ¨s Ã  internet mais pas les noeuds de calcul. Ã€ partir du noeud de login, accÃ¨s aux diffÃ©rents dossiers, chargement des fichiers nÃ©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les rÃ©cupÃ©rer). Sur le noeud de connexion, possible dâ€™utiliser git (clone) via git-lfs pour large file system qui permet dâ€™associer et stocker des jeux de donnÃ©es Ã  un rÃ©pertoire git (outil complÃ©mentaire qui peut Ãªtre utiliser dans le souci de reproductibilitÃ© et transparence). Pour aller chercher les donnÃ©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot clÃ©&gt;  # recherche par mot clÃ©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # dÃ©charger un module\nmodule list              # afficher les modules activÃ©s\nmodule purge             # Revenir Ã  lâ€™Ã©tat dâ€™origine\nğŸ’¥ ATTENTION ! Ne pas utiliser conda (problÃ©matique pour les grappes)\nğŸ’¡ En utilisant module spider r/4.4.0, permet de voir quelles dÃ©pendances sont nÃ©cessaires.\nğŸ’¡ Bonne pratique: toujours prÃ©ciser la version des modules que lâ€™on charge.\nğŸ’¡ module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir Ã  partir de la description, utiliser le wiki ! ğŸ˜€\n\n\n\nRessources utilisÃ©es dÃ©pendent su type de tÃ¢che\n\nsÃ©quencielle - un seul coeur, sur un seul noeud - tÃ¢ches qui sâ€™excecutent les unes aprÃ¨s les autres\nen parallÃ¨le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donnÃ©es et de tÃ¢ches. Parall. de donnÃ©es est par ex, des tÃ¢ches sÃ©quentielles sur plusieurs jeux de donnÃ©es en mÃªme temps. Parall. de tÃ¢ches est par ex. un logiciel qui est capable dâ€™effectuer plusieurs tÃ¢ches en parall. sur un mÃªme jeux de donnÃ©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouvÃ© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les tÃ¢ches dans les noeuds de calcul.\n\nğŸ’¡ utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimisÃ©, crÃ©dit au profil et les tÃ¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les prioritÃ©es sont indÃ©pendantes dâ€™une grappe Ã  lâ€™autre, cÃ d entre Beluga, Narval, â€¦ sshare et htop pour voir lâ€™Ã©tat de prioritÃ© quand la tÃ¢che est lancÃ©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour ğŸ¬Narval\n\nğŸ’¡ GPU carte pour accÃ©lÃ©rer et nÃ©cessaire que pour certains logiciels (dans lâ€™IA par ex), pas nÃ©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme dâ€™un fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par dÃ©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la prÃ©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir accÃ¨s au CPU en direct pendant que la tÃ¢che est en cours\nPossible aussi dâ€™utiliser le portail, pour ğŸ¬Narval\nğŸ’¡ PrÃ©voir un peu de ressources en plus pour le temps et la mÃ©moire.\nğŸ’¡ Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\ncf diapo 69"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html",
    "href": "posts/2024-05-10_post/index.html",
    "title": "Workflow pour production EBV richesse spÃ©cifique",
    "section": "",
    "text": "duckdb & duckdbfs: packages R qui permettent dâ€™ouvrir et de manipuler les fichiers geoparquets\nduckdb_spatial - package en cours de dÃ©veloppement - lâ€™objectif est de travailler avec les donnÃ©es spatiales basÃ©es sur le modÃ¨le â€œSimple Feature Geometryâ€\nebvcube: package R pour manipuler les EBVs stockÃ©es sous le format netCDF dans le portail dâ€™EBVs de GEOBON."
  },
  {
    "objectID": "code/astuces.html",
    "href": "code/astuces.html",
    "title": "ğŸ’¡ Astuces",
    "section": "",
    "text": "Il sâ€™agit dâ€™une solution â€œÃ  la mitaineâ€ qui peut Ãªtre remplacÃ©e par lâ€™utilisation de lâ€™outil META-Farm de lâ€™Alliance.\nMise en contexte\nOn veut calculer le PCI pour plusieurs espÃ¨ces. Initialement le array range allait de 1-243, ce qui correspondait aux 243 espÃ¨ces. AprÃ¨s le premier lancement du script, 33 espÃ¨ces (ou tÃ¢ches) avaient Ã©chouÃ©es:\n\nRÃ©cupÃ©rer le statut des tÃ¢ches (sjobexitmod)\nRÃ©cupÃ©rer les lignes qui prÃ©sentent le pattern FAILED (grep)\nRÃ©cupÃ©rer la premiÃ¨re colonnes qui contient jobId_taskId (awk)\nCouper les strings au niveau de _ et rÃ©cupÃ©rer la deuxiÃ¨me partie de string qui correspond Ã  la tÃ¢che ID (cut)\nEnregistrer la sortie dans un fichier (&gt;)\n\nsjobexitmod -l jobId &gt; sjobexitmod_status.txt\ngrep -e 'FAILED' sjobexitmod_status.txt | awk '{print $1}' | cut -d '_' -f 2 &gt; failed_task_id.txt\n\nDans le fichier bash envoyÃ© Ã  lâ€™ordonnanceur slurm, crÃ©er une variable shell qui pourra Ãªtre importÃ© dans lâ€™environnement R.\n\n#!/bin/bash\n#SBATCH --account=def-dgravel\n#SBATCH --array=1-33\n#SBATCH -t 01:00:00\n#SBATCH --mem-per-cpu=50GB\n#SBATCH --cpus-per-task=1\n#SBATCH --job-name=Summer_school_test\n#SBATCH --mail-user=juhc3201@usherbrooke.ca\n#SBATCH --mail-type=ALL\n\necho $SLURM_ARRAY_TASK_ID\n\nFAILED_TASK_ID=$(sed -n \"${SLURM_ARRAY_TASK_ID}p\" failed_task_id.txt)\n\necho $FAILED_TASK_ID\n\nmodule load StdEnv/2023 gcc/12.3 gdal/3.7.2 arrow/15.0.1 udunits/2.2.28 r/4.4.0\nRscript pci.r\nfailed_task_id &lt;- as.integer(Sys.getenv(\"FAILED_TASK_ID\")) #rÃ©cupÃ¨re la variable shell FAILED_TASK_ID\nIci la taille de lâ€™array correspond au nombre de tÃ¢ches qui ont Ã©chouÃ©. sed permet de rÃ©cupÃ©rer la valeur dans le fichier failed_task_id.txt qui correspond au numÃ©ro du SLURM_ARRAY_TASK_ID. Et cette task_id est utilisÃ©e pour indexer le nom de lâ€™espÃ¨ce qui manque (dans cet exemple)."
  },
  {
    "objectID": "code/astuces.html#rÃ©cupÃ©rer-les-tÃ¢ches-Ã©chouÃ©es-et-les-relancer",
    "href": "code/astuces.html#rÃ©cupÃ©rer-les-tÃ¢ches-Ã©chouÃ©es-et-les-relancer",
    "title": "ğŸ’¡ Astuces",
    "section": "",
    "text": "Il sâ€™agit dâ€™une solution â€œÃ  la mitaineâ€ qui peut Ãªtre remplacÃ©e par lâ€™utilisation de lâ€™outil META-Farm de lâ€™Alliance.\nMise en contexte\nOn veut calculer le PCI pour plusieurs espÃ¨ces. Initialement le array range allait de 1-243, ce qui correspondait aux 243 espÃ¨ces. AprÃ¨s le premier lancement du script, 33 espÃ¨ces (ou tÃ¢ches) avaient Ã©chouÃ©es:\n\nRÃ©cupÃ©rer le statut des tÃ¢ches (sjobexitmod)\nRÃ©cupÃ©rer les lignes qui prÃ©sentent le pattern FAILED (grep)\nRÃ©cupÃ©rer la premiÃ¨re colonnes qui contient jobId_taskId (awk)\nCouper les strings au niveau de _ et rÃ©cupÃ©rer la deuxiÃ¨me partie de string qui correspond Ã  la tÃ¢che ID (cut)\nEnregistrer la sortie dans un fichier (&gt;)\n\nsjobexitmod -l jobId &gt; sjobexitmod_status.txt\ngrep -e 'FAILED' sjobexitmod_status.txt | awk '{print $1}' | cut -d '_' -f 2 &gt; failed_task_id.txt\n\nDans le fichier bash envoyÃ© Ã  lâ€™ordonnanceur slurm, crÃ©er une variable shell qui pourra Ãªtre importÃ© dans lâ€™environnement R.\n\n#!/bin/bash\n#SBATCH --account=def-dgravel\n#SBATCH --array=1-33\n#SBATCH -t 01:00:00\n#SBATCH --mem-per-cpu=50GB\n#SBATCH --cpus-per-task=1\n#SBATCH --job-name=Summer_school_test\n#SBATCH --mail-user=juhc3201@usherbrooke.ca\n#SBATCH --mail-type=ALL\n\necho $SLURM_ARRAY_TASK_ID\n\nFAILED_TASK_ID=$(sed -n \"${SLURM_ARRAY_TASK_ID}p\" failed_task_id.txt)\n\necho $FAILED_TASK_ID\n\nmodule load StdEnv/2023 gcc/12.3 gdal/3.7.2 arrow/15.0.1 udunits/2.2.28 r/4.4.0\nRscript pci.r\nfailed_task_id &lt;- as.integer(Sys.getenv(\"FAILED_TASK_ID\")) #rÃ©cupÃ¨re la variable shell FAILED_TASK_ID\nIci la taille de lâ€™array correspond au nombre de tÃ¢ches qui ont Ã©chouÃ©. sed permet de rÃ©cupÃ©rer la valeur dans le fichier failed_task_id.txt qui correspond au numÃ©ro du SLURM_ARRAY_TASK_ID. Et cette task_id est utilisÃ©e pour indexer le nom de lâ€™espÃ¨ce qui manque (dans cet exemple)."
  },
  {
    "objectID": "posts/2024_05_21_post/index.html",
    "href": "posts/2024_05_21_post/index.html",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "crÃ©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la crÃ©ation dâ€™un notebook (comme rmarkdown)\nprÃ©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donnÃ©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash â€“&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entourÃ©e le noyau de lâ€™ordinateur et le protÃ©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, â€¦), mais bash Ã©tant le plus rÃ©pandu. The bash shell is written in C.\nListe de commandes Ã  connaÃ®tre:\nStructure classique dâ€™une commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le rÃ©pertoire dans lequel on se trouve actuellement\npremier slash / correspd Ã  la racine dâ€™oÃ¹ partent tous les rÃ©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer lâ€™Ã©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par lâ€™humain, -l for long list (contient plus dâ€™informations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au rÃ©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de lÃ  oÃ¹ je me trouve, cd sans argument fait repartir dans le rÃ©pertoire personnel /home/user/, cd peut aussi Ãªtre utilisÃ© avec un absolute path, cd ~/project/ avec le tild qui permet de rÃ©fÃ©rer au repo personnel et cd . correspond au rÃ©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour complÃ©ter Ã  partir de la/les premiÃ¨res lettres des fichiers/dossiers prÃ©sents dans le repo\n\n\n\nmkdir folderName\ncrÃ©ation dâ€™un rÃ©pertoire\nfor make directory - Ã©eviter les espaces dans les noms de files and folders (sinon crÃ©ation de deux fichiers ou repo), pas dâ€™accents non plus ou caractÃ¨res spÃ©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer lâ€™effacement, -i pour demander (interroger) si on est sÃ»r de remove\n\n\nnano ou touch\ncrÃ©ation dâ€™un fichier\nÃ©quivalent dâ€™Ã©diteur de texte, plus efficace Ã  utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch crÃ©Ã© un fichier complÃ¨tement vide utilisÃ© pour des logiciels qui ont besoin dâ€™un fichier dÃ©jÃ  existant pour Ã©crire les rÃ©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou dÃ©place un fichier\nfor move si on ajoute un absolute path dans la deuxiÃ¨me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut Ãªtre multiple, lâ€™essentiel Ã©tant que le dernier dossier soit la cible\n\n\n&&\nsÃ©pare deux commandes que lâ€™on souhaite excÃ©cuter successivement\nsâ€™excecute sous condition que la premiÃ¨re fonctionne, ; peut aussi Ãªtre utilisÃ© Ã  la place du double esperluette &&\n\n\n*\nwildcart (caractÃ¨re gÃ©nÃ©rique) permettant un pattern matching\npeu importe le nombre de caractÃ¨re\n\n\n?\nremplace un seul caractÃ¨re\n\n\n\ncat\nvoir le contenu dâ€™un fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caractÃ¨res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmiÃ¨re colonne dâ€™un fichier\n-n pour numÃ©rique, -k qui permet de choisir sur quelle colonne triÃ©e\n\n\nhead\nrÃ©cupÃ¨re les premiÃ¨res lignes dâ€™un fichier\n-n permet de spÃ©cifier le nombre de ligne que lâ€™on souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet dâ€™utiliser la sortie de la premiÃ¨re commande pour excÃ©cuter la deuxiÃ¨me et ainsi de suite\n\n\n\nExemple du pipe - ReprÃ©sente la puissance de lâ€™utilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limitÃ© par la ressource dispo (ex. CPU, GPU, mÃ©moire, stockage,Â temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\nÃ€ disponibilitÃ©: grappes de calcul, espace info-nuagiques (hÃ©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche numÃ©rique chapote Ã  lâ€™Ã©chelle nationale (grand coordonnateur) \nCalcul QuÃ©bec est une antenne de lâ€™alliance.\nQuelle grappe choisir ?\n\ncelle dÃ©jÃ  utilisÃ©e par le labo\ncelle physiquement prÃ©sente au plus proche (bÃ©luga, narval)\ncelle qui correspond Ã  nos besoins (gna)\n\nPour la suite, cf la prÃ©sentation\nPremiÃ¨re Ã©tape aprÃ¨s la connexion SSH, arrivÃ© sur un noeud de connexion qui donne accÃ¨s aux noeuds de calcul. Le noeud de login (qui peut Ãªtre utilisÃ© pour la session interactive) a accÃ¨s Ã  internet mais pas les noeuds de calcul. Ã€ partir du noeud de login, accÃ¨s aux diffÃ©rents dossiers, chargement des fichiers nÃ©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les rÃ©cupÃ©rer). Sur le noeud de connexion, possible dâ€™utiliser git (clone) via git-lfs pour large file system qui permet dâ€™associer et stocker des jeux de donnÃ©es Ã  un rÃ©pertoire git (outil complÃ©mentaire qui peut Ãªtre utiliser dans le souci de reproductibilitÃ© et transparence). Pour aller chercher les donnÃ©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot clÃ©&gt;  # recherche par mot clÃ©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # dÃ©charger un module\nmodule list              # afficher les modules activÃ©s\nmodule purge             # Revenir Ã  lâ€™Ã©tat dâ€™origine\nğŸ’¥ ATTENTION ! Ne pas utiliser conda (problÃ©matique pour les grappes)\nğŸ’¡ En utilisant module spider r/4.4.0, permet de voir quelles dÃ©pendances sont nÃ©cessaires.\nğŸ’¡ Bonne pratique: toujours prÃ©ciser la version des modules que lâ€™on charge.\nğŸ’¡ module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir Ã  partir de la description, utiliser le wiki ! ğŸ˜€ ğŸ’¡ thread = nombre de coeurs. Utile pour certains logiciel dont le paramÃ©trage nÃ©cessite une valeur pour thread et nom pas un nombre de coeur\nğŸ’¡ Pour voir la liste des variables environnement â€”-&gt; Slurm\n\n\n\nRessources utilisÃ©es dÃ©pendent su type de tÃ¢che\n\nsÃ©quencielle - un seul coeur, sur un seul noeud - tÃ¢ches qui sâ€™excecutent les unes aprÃ¨s les autres\nen parallÃ¨le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donnÃ©es et de tÃ¢ches. Parall. de donnÃ©es est par ex, des tÃ¢ches sÃ©quentielles sur plusieurs jeux de donnÃ©es en mÃªme temps. Parall. de tÃ¢ches est par ex. un logiciel qui est capable dâ€™effectuer plusieurs tÃ¢ches en parall. sur un mÃªme jeux de donnÃ©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouvÃ© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les tÃ¢ches dans les noeuds de calcul - cf liste de commandes de slurm\n\n\nğŸ’¡ utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimisÃ©, crÃ©dit au profil et les tÃ¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les prioritÃ©es sont indÃ©pendantes dâ€™une grappe Ã  lâ€™autre, cÃ d entre Beluga, Narval, â€¦ sshare et htop pour voir lâ€™Ã©tat de prioritÃ© quand la tÃ¢che est lancÃ©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour ğŸ¬Narval\n\nğŸ’¡ GPU carte pour accÃ©lÃ©rer et nÃ©cessaire que pour certains logiciels (dans lâ€™IA par ex), pas nÃ©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme dâ€™un fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par dÃ©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la prÃ©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir accÃ¨s au CPU en direct pendant que la tÃ¢che est en cours\nPossible aussi dâ€™utiliser le portail, pour ğŸ¬Narval\nğŸ’¡ PrÃ©voir un peu de ressources en plus pour le temps et la mÃ©moire.\nğŸ’¡ Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\n\nGLOST\nMETA-FARM qui peut aider pour gÃ©rer les tÃ¢ches qui ont Ã©chouÃ© (les relancer par exemple)\nCharles conseille de prÃ©fÃ©rer GNU parallel !\n\n\n\n\ncf diapo 69\n\n\n\n\n\n\n\nResponsable de la mise en place dâ€™un programme de gestion de donnÃ©es\nDonnÃ©es de recherche extra variÃ©es avec des volumes pouvant Ãªtre trÃ¨s important. MultiplicitÃ© des formats de fichiers pour un type de donnÃ©es, ce qui reprÃ©sente un vrai challenge.\n\n\n\ncf diapo 5\nPour chaque Ã©tape, dÃ©fi de stockage et archivage. Il existe plusieurs phases actives dans ce cycle de vie\n\n\n\n\nLes avantages dâ€™une bonne gestion = favorise une recherche efficace et reproductible(!), rÃ©duit le coÃ»t de la recherche en temps et en argent (Ã©vite la redondance), favorise visibilitÃ© et impacte de la recherche et facilite science ouverte et transparente.\n\n\n\n\n\n\n\n\n Voir Ã©galement la formation de Software Carpentry\n\nOpenRefine est un outil open-source, gratuit, ouvert avec UI simple et intuitif. Il supporte nombreux type de fichiers, traitement des doublons, rÃ©conciliation de plusieurs jeux de donnÃ©es, â€¦ et enrichissement des donnÃ©es via des requÃªtes Ã  des APIs. Le langage de prog utilisÃ© est GREL.\n\n\nAccÃ¨s Ã  openRefine via JupiterLab. Aller sur lâ€™onglet software, chercher OpenRefine et le loader. Si il nâ€™est pas prÃ©sent, loader StdEnv 2020 dâ€™Abord.\nSource des donnÃ©es: MontrÃ©al donnÃ©es ouvertes\n\n\n\n\n\nPour les ressources, voir intro Python & analyse et visualisation Python\n\n\nGLOBALEMENT, FAIRE TRÃˆS ATTENTION AUX SUBTILITÃ‰S SUR Lâ€™INDENTATIONS\n\nprÃ©sentation de Jupyter lab\npython langage haut niveau - code qui est interprÃ©tÃ© sans avoir besoin de le compiler - de ce fait interaction facile et rapide\nformation basÃ©e sur contenu de software carpentry\nlangage trÃ¨s utilisÃ© dans la science des donnÃ©es, dev web, framework web, intelligence artificielle\n\n\n\nUn notebook prÃ©sente un noyau (python ici) qui permet de faire des calculs dans le document crÃ©er (existe aussi avec R)\nPage web avec texte, code, â€¦. comme rmarkdown mais avec extension ipynb\nPour excÃ©cuter une section de code shift + enter et doit conserver lâ€™ordre logique.\nEviter dâ€™utiliser ChatGPT et Copilot quand on dÃ©bute dans le langage. Utiliser Ã  lâ€™inverse, vÃ©rifier des sections de codes quâ€™on a dÃ©jÃ  Ã©crit.\nğŸ’¡ğŸ’¡ğŸ’¡ %whos = mot magique, liste toutes les variables existantes (% prÃ©fixe pour certains mot magique)\nğŸ’¡ Quand erreur de syntaxe, ^ pointe sous lâ€™erreur, dÃ©calÃ© de un caractÃ¨re vers la droite. ğŸ’¡ Utiliser TAB pour complÃ©tion de variables dÃ©jÃ  dÃ©finies\n\n\n\nCertains type de donnÃ©es sont immutables. List, set, dictionnary sont modifiables. Pour crÃ©er des strings, possible dâ€™utiliser '' ou \"\". Au choix, mais rester persistant.\nğŸ’¡ pour concatÃ©ner, pas besoin de lâ€™Ã©quivalent de function paste\nFonction = bloc de code regroupÃ© sous un nom et qui sâ€™excÃ©cute lorsque ce nom est appelÃ©\nKey points\n\n  - Basic data types in Python include integers, strings, and floating-point numbers.\n  - Use variable = value to assign a value to a variable in order to record it in memory.\n  - Variables are created on demand whenever a value is assigned to them.\n  - Use print(something) to display the value of something.\n  - Built-in functions are always available to use.\n\n\n\n= librairie pour manipuler matrices et tableaux\nPour travailler avec des dataframes, utiliser la librairie ğŸ¼ pandas\nğŸ’¡ help() pour avoir lâ€™aide et les informations sur une fonction\nğŸ’¡ shift + tab pour activer lâ€™intellisense sur une fonction\nğŸ’¡ data[:, 3] sÃ©lectionne toutes les lignes : de la troisiÃ¨me colonne\nğŸ’¡ ndarray est pour n dimension array\nğŸ’¥ğŸ’¡ğŸ’¥ Lors de slicing (sÃ©lection dâ€™une suite de valeurs), selection open ended [from: to[\nğŸ’¥ğŸ’¡ğŸ’¥ Lâ€™indexation commence Ã  0\nğŸ’¡ small = data[:3, 36:] ici sÃ©lection des lignes de 0 Ã  2 et les colonnes de 36 Ã  la fin.\nPour charger un jeux de donnÃ©es\ndata = numpy.loadtxt(fname='data/inflammation-01.csv', delimiter=',')\nLes librairies peuvent Ãªtre chargÃ©es avec des alias.\nimport numpy as np\ndata.dtype permet de savoir le type des objets contenu dans la matrice data.\ndata.shape donne la dimension de la matrice data.\nDans la fonction numpy.mean(), lâ€™argument axis = 1 ou 0 permet dâ€™appliquer la moyenne par colonne 0 ou par ligne 1.\nPour travailler sur certaines colonnes ou lignes qui ne suivent pas, il est nÃ©cessaire de crÃ©er une vue, puis de travailler Ã  partir de celle-ci.\nKey points\n\n    - Import a library into a program using import libraryname.\n    - Use the numpy library to work with arrays in Python.\n    - The expression array.shape gives the shape of an array.\n    - Use array[x, y] to select a single element from a 2D numpy array.\n    - Array indices start at 0, not 1.\n    - Use low:high to specify a slice that includes the indices from low to high-1.\n    - Use `# some kind of explanation to add comments to programs.\n    - Use numpy.mean(array), numpy.max(array), and numpy.min(array) to calculate simple statistics.\n    - Use numpy.mean(array, axis=0) or numpy.mean(array, axis=1) to calculate statistics across the specified axis.\n\n\n\n= ğŸ“ˆ librairie pour visualiser des donnÃ©es tabulaires\n\n\n\nğŸ’¡ indexation nÃ©gative pour accÃ©der au(x) dernier(s) Ã©lÃ©ment(s)\nğŸ’¡ indexation possible avec step list[from:to:step]\nğŸ’¡ pour lister en reverse, il est indispensable dâ€™indiquer la step -1 pour que la lecture aille vers la gauche et non pas vers la droite.\nğŸ’¥ğŸ’¡ğŸ’¥ Possible dâ€™aller indexer une ou plusieurs lettres dans un string, mais cette indexation ne fonctionne pas si on veut modifier une de ces lettres.\nname=\"Darwin\"\nname[2] # r\nname[2]=\"R\" # ERROR\nğŸ’¥ğŸ’¡ğŸ’¥ ATTENTION !!!!! Les copys dâ€™Ã©lÃ©ments ne se font pas aussi simplement que dans R. Si list = list2, les deux sont NON-INDÃ‰PENDANTES. SI modification sur lâ€™une, sera appliquÃ©e Ã©galement sur lâ€™autre. Pour faire ceci, utiliser list2 = list.copy() ou list2 = list(list). T_T\nKey Points\n\n    - [value1, value2, value3, ...] creates a list.\n    - Lists can contain any Python object, including lists (i.e., list of lists).\n    - Lists are indexed and sliced with square brackets (e.g., list[0] and list[2:9]), in the same way as strings and arrays.\n    - Lists are mutable (i.e., their values can be changed in place).\n    - Strings are immutable (i.e., the characters in them cannot be changed).\n\n\n\n: permet de terminer la dÃ©claration de la ligne dâ€™instruction de la bouble. Est suivi par le corps de la boucle qui doit Ãªtre indentÃ©.\nğŸ’¥ğŸ’¡ğŸ’¥ range(from, to_non_inclut, step) est un gÃ©nÃ©rateur qui ne va pas inscrire les valeurs dans la mÃ©moire. Ceci permet lâ€™optimisation quand utilisation de large sÃ©quence. Pour enregistrer dans une variable, nÃ©cessaire de faire r = list(range(1, 6)) par exemple.\nKey Points\n\n    - Use for variable in sequence to process the elements of a sequence one at a time.\n    - The body of a for loop must be indented.\n    - Use len(thing) to determine the length of something that contains other values.\n\n\n\n\n\ndocumentation\npar dÃ©faut, tout variable vide sera considÃ©rÃ©e comme false en terme boolÃ©en\nsubtilitÃ© avec None (qui nâ€™est pas Ã©quivalent Ã  null) dans une boucle. None est de classe noneType et ne peut Ãªtre comparÃ© avec dâ€™autres type dâ€™objet.\nBonne pratique de code = mettre en premiÃ¨re la condition que serait la plus souvent remplie. Optimisation !\n\n\nKey Points\n\n    - Use if condition to start a conditional statement, elif condition to provide additional tests, and else to provide a default.\n    - The bodies of the branches of conditional statements must be indented.\n    - Use == to test for equality.\n    - X and Y is only true if both X and Y are true.\n    - X or Y is true if either X or Y, or both, are true.\n    - Zero, the empty string, and the empty list are considered false; all other numbers, strings, and lists are considered true.\n    - True and False represent truth values.\n\n\n\n\nğŸ—ï¸ Functions let us reuse pieces of code frequently used with different parameters.\nğŸ—ï¸ Par dÃ©faut, ttes fonctions retournent Ç¸one, dâ€™oÃ¹ lâ€™importance dâ€™utiliser return dans le corps de la fonction.\n\nğŸ’¥ğŸ’¡ğŸ’¥ We need to verify that our functions are behaving correctly. In order to do so, we can run each function and print out the boolean result of an equality test. We can also assert that our function behave correctly by using an assertion statement. An assertion will pass when the statement is True, otherwise will raise an exception and the code or function will not be allowed to continue. This is very useful in preventing bugs and ensuring correctness.\nğŸ’¡ Utiliser la doc string pour ecrire lâ€™aide de la function\ndef fahr_to_celsius(temp):\n    \"\"\"\n    Converts Fahrenheit to Celcius.\n\n    Parameters:\n        temp: Temperature in Fahr.\n\n    Example:\n        fahr_to_celsius(32) =&gt; 0.0\n    \"\"\"\n    # this is a comment\n    return ((temp - 32) * (5/9))\n\n    help(fahr_to_celsius)\nExemple de fonction\ndef wrap(str1=\"\", str2=\"*\"):\n    if (isinstance(str1, str) & isinstance(str2, str)):\n        print(str2, str1, str2, sep = \"\")\n    elif type(str1) is not str:\n        print(\"Please enter a string as first argument\")\n    else:\n        print(\"Please enter a string as second argument\")\n\n\nwrap(\"value\")\nwrap()\nwrap(\"value\", \"+\")\nwrap(3)\nwrap(\"l\", 4)\n\n# *value*\n# **\n# +value+\n# Please enter a string as first argument\n# Please enter a string as second argument\n\n\n\nAssociation clÃ© valeur !\nLa clÃ© doit UNIQUE, sinon on Ã©crase le contenu prÃ©cÃ©dent. Pour visualisation plus sympa des gros dictionnaire\nfrom pprint import pprint\n\npprint(d)\npprint is for pretty print - mais fonctionnel Ã  partir dâ€™une certaine quantitÃ© dâ€™information dans le dictionnaire (fonctionne aussi avec dâ€™autres types dâ€™objets)\nPour visualiser la liste des clÃ©s-valeurs dans le dictionnaire, possible dâ€™utiliser le code suivant (utilisÃ© frÃ©quemment):\nfor k, v in d.items():\n    print(k, v)\n\n\n\n\nvariable.rstrip() remove les caractÃ¨res dit blanc (espace, saut de ligne, â€¦.)\nenumerate() donne les indices des valeurs dans une liste\n\ncf exercice de tirage de nom alÃ©atoire avec retrait\nğŸ’¡possible aussi dâ€™utiliser .remove() pour faire la sans remise\nğŸ’¡exemple possible car pas une copie de la liste nom dans la fonction, mais bien un pointeur vers le jeux de donnÃ©e, ce qui permet de faire sa modification Ã  chaque tirage.\n\n\n\nJupiter Lab est idÃ©al pour travailler avec les notebook python (qui sont rÃ©cupÃ©rables en local).\ncf documentation wiki\n\n\n\n\n\n\n\n\ncharger, modif et sauvegarder donnÃ©es tabulaires\nutilisation dataframe de pandas\ngrouper des donnÃ©es pour faire des stats\nsÃ©lectionner osus-ensemble\ncombiner donnÃ©es tabulaires\nvisualiser avec altair (graphiques interactifs)\n\nFormation basÃ©e sur software Carpentry\nContenu notebook IPython\nPour les donnÃ©es tabulaires, la librairie la plus courante est pandas (alias pd). Cette librairie permet la manip des donnÃ©es et fonctionne trÃ¨s bien avec dâ€™autres librairies de visualisation.\nÃ€ vÃ©rifier mais pandas utilise NaN plutÃ´t que NA.\ndata.function() = mÃ©thode qui correspo0nd Ã  une fonction qui doit calculer quelque chose sur la data (ex. .head(), .describe())\nDiffÃ©rent de data.attribut qui est une fonction qui extrait une information Ã  la data (par ex. .shape, .columns)\ncount dans data['nomColonne'].describe() sur une colonne ne prend pas en compte les valeurs nulles.\nLes mÃ©thodes et attributs utilisÃ©s ici sont associÃ©s Ã  pandas.\ndata[nomColonne].value_counts() nombre dâ€™occurrences par valeurs\ndata.loc[ligne, colonne] pour sÃ©lectionner des rangÃ©es et colonnes dâ€™un dataframe (attribut .loc), existe aussi iloc mais se comporte diffÃ©remment avec lâ€™indexation\nIndice -1 ne fonctionne pas avec pandas\nPour sÃ©lection par critÃ¨res, il existe isin() pour aller chercher les enregistrements dont les valeurs dâ€™une colonne correspondent Ã  lâ€™une des valeurs fournies dans une liste\nMÃ©thode .dropna() permet de virer toutes lignes qui contient au moins une donnÃ©e manquante\ndata.isnull().sum() va sommer tous les â€˜NaNâ€™ pour chaque colonne. Permet de donnÃ©es un aperÃ§u du contenu du jeu de donnÃ©es\n\n\nPourquoi altair? Pourquoi pas matplotlib?\nBien que matplotlib soit une bibliothÃ¨que de visualisation largement rÃ©pandue et relativement flexible, la programmation des graphiques ne suit pas une grammaire spÃ©cifique.\nAinsi, pour ce chapitre, nous avons fait le choix de vous prÃ©senter la bibliothÃ¨que altair qui facilite la crÃ©ation de graphiques hautement informatifs tout en sâ€™intÃ©grant bien avec Pandas. Le fonctionnement de altair se base sur la grammaire des graphiques interactifs de Vega-Lite, ce qui rend la programmation Ã  la fois Ã©lÃ©gante et puissante.\nNous verrons diffÃ©rents concepts de visualisation qui peuvent Ãªtre reproduits plus ou moins facilement avec dâ€™autres bibliothÃ¨ques telles que matplotlib, plotnine (utilise grammaire de ggplot2) dans R, plotly et seaborn.\nğŸ’¡ Possible dâ€™utiliser plotly pour graphique interactif, juste plus compliquÃ© Ã  installer sur le notebook.\nğŸ’¡Voir exemple altair\nğŸ’€ Attention ! Par dÃ©faut, altair a une gamme de couleur limitÃ©e Ã  10. Si plus de valeur Ã  colorer, la palette devient redondante.\nğŸ’¡ Palette de couleurs dans altair\nğŸ’¡ altair a une technique spÃ©ciale appelÃ©e crÃ©ation de facettes permettant de diviser un graphique en plusieurs sous-graphiques selon les valeurs dâ€™une variable."
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#mardi-21-mai-2024",
    "href": "posts/2024_05_21_post/index.html#mardi-21-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "crÃ©ation compte sur Jupyterhub (voir projet Jupyter & documentation about Jupyter) - JupyterLab permet la crÃ©ation dâ€™un notebook (comme rmarkdown)\nprÃ©sentation & mot de bienvenue par Charles - Canal Slack #analyse-de-donnÃ©es\n\n\n\nCarpentry formation\nExercices dans JupyterHub\ncheat sheet interactive pour les commandes bash â€“&gt; tldr pages ou devhints mais on peut aussi utiliser command --help ou man command\nprompt = invite de commande - donne le nom de usager et le nom de la machine (ici nodex)\nshell = faite pour entourÃ©e le noyau de lâ€™ordinateur et le protÃ©ger. On ne communique pas diretement avec le noyau, mais on passe par le shell\nIl existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, â€¦), mais bash Ã©tant le plus rÃ©pandu. The bash shell is written in C.\nListe de commandes Ã  connaÃ®tre:\nStructure classique dâ€™une commande command -options argument\n\n\n\n\n\n\n\n\n\ncommand\nfunction\nremarq\n\n\n\n\npwd\naffiche le rÃ©pertoire dans lequel on se trouve actuellement\npremier slash / correspd Ã  la racine dâ€™oÃ¹ partent tous les rÃ©pertoires - pwd for path working directory \n\n\nctl + l or clear\nnettoyer lâ€™Ã©cran\n\n\n\nls -F\naffiche le contenu du repo dans lequel on se trouve\nfor list - -F pour discerner repo & files, -h montre la taille des fichiers lisibles par lâ€™humain, -l for long list (contient plus dâ€™informations), -t tri par date, -S tri par taille de fichier\n\n\ncd\nnavigation dans un autre repo\nfor change directory, commande relative au rÃ©pertoire actuelle, utiliser cd .. pour revenir un niveau au dessus de lÃ  oÃ¹ je me trouve, cd sans argument fait repartir dans le rÃ©pertoire personnel /home/user/, cd peut aussi Ãªtre utilisÃ© avec un absolute path, cd ~/project/ avec le tild qui permet de rÃ©fÃ©rer au repo personnel et cd . correspond au rÃ©pertoire actuel, cd / dirige vers la racine de tous les fichiers\n\n\nTAB completion\npour complÃ©ter Ã  partir de la/les premiÃ¨res lettres des fichiers/dossiers prÃ©sents dans le repo\n\n\n\nmkdir folderName\ncrÃ©ation dâ€™un rÃ©pertoire\nfor make directory - Ã©eviter les espaces dans les noms de files and folders (sinon crÃ©ation de deux fichiers ou repo), pas dâ€™accents non plus ou caractÃ¨res spÃ©ciaux\n\n\nrm -r\neffece un fichier/dossier\n-r is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, -f pour forcer lâ€™effacement, -i pour demander (interroger) si on est sÃ»r de remove\n\n\nnano ou touch\ncrÃ©ation dâ€™un fichier\nÃ©quivalent dâ€™Ã©diteur de texte, plus efficace Ã  utiliser sont vim ou emacs si on utilise beaucoup le shell, avec touch crÃ©Ã© un fichier complÃ¨tement vide utilisÃ© pour des logiciels qui ont besoin dâ€™un fichier dÃ©jÃ  existant pour Ã©crire les rÃ©sultats\n\n\nwhich\nlocalise les fichiers binaires\n\n\n\nmv lastNAme.txt newName.txt\nrenomme un fichier ou dÃ©place un fichier\nfor move si on ajoute un absolute path dans la deuxiÃ¨me partie de commande ex: mv new_work.txt ~/\n\n\ncp source cible\ncopie un fichier\npossible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser -r si la source est un repo, la source peut Ãªtre multiple, lâ€™essentiel Ã©tant que le dernier dossier soit la cible\n\n\n&&\nsÃ©pare deux commandes que lâ€™on souhaite excÃ©cuter successivement\nsâ€™excecute sous condition que la premiÃ¨re fonctionne, ; peut aussi Ãªtre utilisÃ© Ã  la place du double esperluette &&\n\n\n*\nwildcart (caractÃ¨re gÃ©nÃ©rique) permettant un pattern matching\npeu importe le nombre de caractÃ¨re\n\n\n?\nremplace un seul caractÃ¨re\n\n\n\ncat\nvoir le contenu dâ€™un fichier texte\n\n\n\nwc\naffiche nb lignes, nb mots et nb caractÃ¨res\nfor word count, ex: wc *.txt applique la commande sur tous les fichiers txt et fait la somme, -l donne uniquement le nombre de lignes\n\n\n&gt; fileName\nredire la sortie de commande vers un fichier\n\n\n\n^c\npour annuler\n\n\n\nsort\ntri sur la prmiÃ¨re colonne dâ€™un fichier\n-n pour numÃ©rique, -k qui permet de choisir sur quelle colonne triÃ©e\n\n\nhead\nrÃ©cupÃ¨re les premiÃ¨res lignes dâ€™un fichier\n-n permet de spÃ©cifier le nombre de ligne que lâ€™on souhaite extraire\n\n\n\\|\npipe\ndans une succession de commande, permet dâ€™utiliser la sortie de la premiÃ¨re commande pour excÃ©cuter la deuxiÃ¨me et ainsi de suite\n\n\n\nExemple du pipe - ReprÃ©sente la puissance de lâ€™utilisation du unix shell\n\n==&gt; parcourir la suite de la formation de Carpentry\n\n\n\n\nCIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limitÃ© par la ressource dispo (ex. CPU, GPU, mÃ©moire, stockage,Â temps)\nObj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche\nMonarque = ordinateur quantique\nÃ€ disponibilitÃ©: grappes de calcul, espace info-nuagiques (hÃ©bergement de site internet par exemple) et stockage de data\nVoir la documentation\nVoir les notebooks pour de la formation Alliance de recherche numÃ©rique chapote Ã  lâ€™Ã©chelle nationale (grand coordonnateur) \nCalcul QuÃ©bec est une antenne de lâ€™alliance.\nQuelle grappe choisir ?\n\ncelle dÃ©jÃ  utilisÃ©e par le labo\ncelle physiquement prÃ©sente au plus proche (bÃ©luga, narval)\ncelle qui correspond Ã  nos besoins (gna)\n\nPour la suite, cf la prÃ©sentation\nPremiÃ¨re Ã©tape aprÃ¨s la connexion SSH, arrivÃ© sur un noeud de connexion qui donne accÃ¨s aux noeuds de calcul. Le noeud de login (qui peut Ãªtre utilisÃ© pour la session interactive) a accÃ¨s Ã  internet mais pas les noeuds de calcul. Ã€ partir du noeud de login, accÃ¨s aux diffÃ©rents dossiers, chargement des fichiers nÃ©cessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec rm, moyen de les rÃ©cupÃ©rer). Sur le noeud de connexion, possible dâ€™utiliser git (clone) via git-lfs pour large file system qui permet dâ€™associer et stocker des jeux de donnÃ©es Ã  un rÃ©pertoire git (outil complÃ©mentaire qui peut Ãªtre utiliser dans le souci de reproductibilitÃ© et transparence). Pour aller chercher les donnÃ©es en ligne: wget, curl, python, git-lfs.\n\n\nmodule spider &lt;mot clÃ©&gt;  # recherche par mot clÃ©\nmodule avail [module]    # disponible\nmodule load &lt;module&gt;     # charger un module\nmodule unload &lt;module&gt;   # dÃ©charger un module\nmodule list              # afficher les modules activÃ©s\nmodule purge             # Revenir Ã  lâ€™Ã©tat dâ€™origine\nğŸ’¥ ATTENTION ! Ne pas utiliser conda (problÃ©matique pour les grappes)\nğŸ’¡ En utilisant module spider r/4.4.0, permet de voir quelles dÃ©pendances sont nÃ©cessaires.\nğŸ’¡ Bonne pratique: toujours prÃ©ciser la version des modules que lâ€™on charge.\nğŸ’¡ module spider nom_paquet fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir Ã  partir de la description, utiliser le wiki ! ğŸ˜€ ğŸ’¡ thread = nombre de coeurs. Utile pour certains logiciel dont le paramÃ©trage nÃ©cessite une valeur pour thread et nom pas un nombre de coeur\nğŸ’¡ Pour voir la liste des variables environnement â€”-&gt; Slurm\n\n\n\nRessources utilisÃ©es dÃ©pendent su type de tÃ¢che\n\nsÃ©quencielle - un seul coeur, sur un seul noeud - tÃ¢ches qui sâ€™excecutent les unes aprÃ¨s les autres\nen parallÃ¨le qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de donnÃ©es et de tÃ¢ches. Parall. de donnÃ©es est par ex, des tÃ¢ches sÃ©quentielles sur plusieurs jeux de donnÃ©es en mÃªme temps. Parall. de tÃ¢ches est par ex. un logiciel qui est capable dâ€™effectuer plusieurs tÃ¢ches en parall. sur un mÃªme jeux de donnÃ©es (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouvÃ© en astro-physique par ex).\nordonnanceur - slurm dispatche toutes les tÃ¢ches dans les noeuds de calcul - cf liste de commandes de slurm\n\n\nğŸ’¡ utiliser seff &lt;jobID&gt; pour voir si la demande de ressource est optimale. Car si non optimisÃ©, crÃ©dit au profil et les tÃ¢ches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les prioritÃ©es sont indÃ©pendantes dâ€™une grappe Ã  lâ€™autre, cÃ d entre Beluga, Narval, â€¦ sshare et htop pour voir lâ€™Ã©tat de prioritÃ© quand la tÃ¢che est lancÃ©e.\n\ntoutes les grappes ont des limites de ressources. Par ex. pour ğŸ¬Narval\n\nğŸ’¡ GPU carte pour accÃ©lÃ©rer et nÃ©cessaire que pour certains logiciels (dans lâ€™IA par ex), pas nÃ©cessaire pour R qui peut utiliser simplement des CPU\n\n\n\nLa soumission est faite sous la forme dâ€™un fichier bash.\n#!/bin/bash  #ligne obligatoire\n\n#SBATCH --nodes=1 [1]\n#SBATCH --cpus-per-task=1 [1]\n#SBATCH --mem-per-cpu=1G [256M]\n#SBATCH --time=3:00:00 [1:00:00]\n\n#SBATCH --account=def-&lt;sponsor&gt;\n\nbash script\nEntre crochet = valeur par dÃ©faut\nAller voir Running_jobs dans le wiki\ncf diapo 57 de la prÃ©sentation\n\n\n\n\nsrun --jobid xxxx --pty htop -u $USER pour avoir accÃ¨s au CPU en direct pendant que la tÃ¢che est en cours\nPossible aussi dâ€™utiliser le portail, pour ğŸ¬Narval\nğŸ’¡ PrÃ©voir un peu de ressources en plus pour le temps et la mÃ©moire.\nğŸ’¡ Commandes utiles - cf diapo 59 (sbatch, squeue, scancel, seff, sacct)\n\n\n\n\nGLOST\nMETA-FARM qui peut aider pour gÃ©rer les tÃ¢ches qui ont Ã©chouÃ© (les relancer par exemple)\nCharles conseille de prÃ©fÃ©rer GNU parallel !\n\n\n\n\ncf diapo 69"
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#mercredi-22-mai-2024",
    "href": "posts/2024_05_21_post/index.html#mercredi-22-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "Responsable de la mise en place dâ€™un programme de gestion de donnÃ©es\nDonnÃ©es de recherche extra variÃ©es avec des volumes pouvant Ãªtre trÃ¨s important. MultiplicitÃ© des formats de fichiers pour un type de donnÃ©es, ce qui reprÃ©sente un vrai challenge.\n\n\n\ncf diapo 5\nPour chaque Ã©tape, dÃ©fi de stockage et archivage. Il existe plusieurs phases actives dans ce cycle de vie\n\n\n\n\nLes avantages dâ€™une bonne gestion = favorise une recherche efficace et reproductible(!), rÃ©duit le coÃ»t de la recherche en temps et en argent (Ã©vite la redondance), favorise visibilitÃ© et impacte de la recherche et facilite science ouverte et transparente.\n\n\n\n\n\n\n\n\n Voir Ã©galement la formation de Software Carpentry\n\nOpenRefine est un outil open-source, gratuit, ouvert avec UI simple et intuitif. Il supporte nombreux type de fichiers, traitement des doublons, rÃ©conciliation de plusieurs jeux de donnÃ©es, â€¦ et enrichissement des donnÃ©es via des requÃªtes Ã  des APIs. Le langage de prog utilisÃ© est GREL.\n\n\nAccÃ¨s Ã  openRefine via JupiterLab. Aller sur lâ€™onglet software, chercher OpenRefine et le loader. Si il nâ€™est pas prÃ©sent, loader StdEnv 2020 dâ€™Abord.\nSource des donnÃ©es: MontrÃ©al donnÃ©es ouvertes"
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#jeudi-23-mai-2024",
    "href": "posts/2024_05_21_post/index.html#jeudi-23-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "Pour les ressources, voir intro Python & analyse et visualisation Python\n\n\nGLOBALEMENT, FAIRE TRÃˆS ATTENTION AUX SUBTILITÃ‰S SUR Lâ€™INDENTATIONS\n\nprÃ©sentation de Jupyter lab\npython langage haut niveau - code qui est interprÃ©tÃ© sans avoir besoin de le compiler - de ce fait interaction facile et rapide\nformation basÃ©e sur contenu de software carpentry\nlangage trÃ¨s utilisÃ© dans la science des donnÃ©es, dev web, framework web, intelligence artificielle\n\n\n\nUn notebook prÃ©sente un noyau (python ici) qui permet de faire des calculs dans le document crÃ©er (existe aussi avec R)\nPage web avec texte, code, â€¦. comme rmarkdown mais avec extension ipynb\nPour excÃ©cuter une section de code shift + enter et doit conserver lâ€™ordre logique.\nEviter dâ€™utiliser ChatGPT et Copilot quand on dÃ©bute dans le langage. Utiliser Ã  lâ€™inverse, vÃ©rifier des sections de codes quâ€™on a dÃ©jÃ  Ã©crit.\nğŸ’¡ğŸ’¡ğŸ’¡ %whos = mot magique, liste toutes les variables existantes (% prÃ©fixe pour certains mot magique)\nğŸ’¡ Quand erreur de syntaxe, ^ pointe sous lâ€™erreur, dÃ©calÃ© de un caractÃ¨re vers la droite. ğŸ’¡ Utiliser TAB pour complÃ©tion de variables dÃ©jÃ  dÃ©finies\n\n\n\nCertains type de donnÃ©es sont immutables. List, set, dictionnary sont modifiables. Pour crÃ©er des strings, possible dâ€™utiliser '' ou \"\". Au choix, mais rester persistant.\nğŸ’¡ pour concatÃ©ner, pas besoin de lâ€™Ã©quivalent de function paste\nFonction = bloc de code regroupÃ© sous un nom et qui sâ€™excÃ©cute lorsque ce nom est appelÃ©\nKey points\n\n  - Basic data types in Python include integers, strings, and floating-point numbers.\n  - Use variable = value to assign a value to a variable in order to record it in memory.\n  - Variables are created on demand whenever a value is assigned to them.\n  - Use print(something) to display the value of something.\n  - Built-in functions are always available to use.\n\n\n\n= librairie pour manipuler matrices et tableaux\nPour travailler avec des dataframes, utiliser la librairie ğŸ¼ pandas\nğŸ’¡ help() pour avoir lâ€™aide et les informations sur une fonction\nğŸ’¡ shift + tab pour activer lâ€™intellisense sur une fonction\nğŸ’¡ data[:, 3] sÃ©lectionne toutes les lignes : de la troisiÃ¨me colonne\nğŸ’¡ ndarray est pour n dimension array\nğŸ’¥ğŸ’¡ğŸ’¥ Lors de slicing (sÃ©lection dâ€™une suite de valeurs), selection open ended [from: to[\nğŸ’¥ğŸ’¡ğŸ’¥ Lâ€™indexation commence Ã  0\nğŸ’¡ small = data[:3, 36:] ici sÃ©lection des lignes de 0 Ã  2 et les colonnes de 36 Ã  la fin.\nPour charger un jeux de donnÃ©es\ndata = numpy.loadtxt(fname='data/inflammation-01.csv', delimiter=',')\nLes librairies peuvent Ãªtre chargÃ©es avec des alias.\nimport numpy as np\ndata.dtype permet de savoir le type des objets contenu dans la matrice data.\ndata.shape donne la dimension de la matrice data.\nDans la fonction numpy.mean(), lâ€™argument axis = 1 ou 0 permet dâ€™appliquer la moyenne par colonne 0 ou par ligne 1.\nPour travailler sur certaines colonnes ou lignes qui ne suivent pas, il est nÃ©cessaire de crÃ©er une vue, puis de travailler Ã  partir de celle-ci.\nKey points\n\n    - Import a library into a program using import libraryname.\n    - Use the numpy library to work with arrays in Python.\n    - The expression array.shape gives the shape of an array.\n    - Use array[x, y] to select a single element from a 2D numpy array.\n    - Array indices start at 0, not 1.\n    - Use low:high to specify a slice that includes the indices from low to high-1.\n    - Use `# some kind of explanation to add comments to programs.\n    - Use numpy.mean(array), numpy.max(array), and numpy.min(array) to calculate simple statistics.\n    - Use numpy.mean(array, axis=0) or numpy.mean(array, axis=1) to calculate statistics across the specified axis.\n\n\n\n= ğŸ“ˆ librairie pour visualiser des donnÃ©es tabulaires\n\n\n\nğŸ’¡ indexation nÃ©gative pour accÃ©der au(x) dernier(s) Ã©lÃ©ment(s)\nğŸ’¡ indexation possible avec step list[from:to:step]\nğŸ’¡ pour lister en reverse, il est indispensable dâ€™indiquer la step -1 pour que la lecture aille vers la gauche et non pas vers la droite.\nğŸ’¥ğŸ’¡ğŸ’¥ Possible dâ€™aller indexer une ou plusieurs lettres dans un string, mais cette indexation ne fonctionne pas si on veut modifier une de ces lettres.\nname=\"Darwin\"\nname[2] # r\nname[2]=\"R\" # ERROR\nğŸ’¥ğŸ’¡ğŸ’¥ ATTENTION !!!!! Les copys dâ€™Ã©lÃ©ments ne se font pas aussi simplement que dans R. Si list = list2, les deux sont NON-INDÃ‰PENDANTES. SI modification sur lâ€™une, sera appliquÃ©e Ã©galement sur lâ€™autre. Pour faire ceci, utiliser list2 = list.copy() ou list2 = list(list). T_T\nKey Points\n\n    - [value1, value2, value3, ...] creates a list.\n    - Lists can contain any Python object, including lists (i.e., list of lists).\n    - Lists are indexed and sliced with square brackets (e.g., list[0] and list[2:9]), in the same way as strings and arrays.\n    - Lists are mutable (i.e., their values can be changed in place).\n    - Strings are immutable (i.e., the characters in them cannot be changed).\n\n\n\n: permet de terminer la dÃ©claration de la ligne dâ€™instruction de la bouble. Est suivi par le corps de la boucle qui doit Ãªtre indentÃ©.\nğŸ’¥ğŸ’¡ğŸ’¥ range(from, to_non_inclut, step) est un gÃ©nÃ©rateur qui ne va pas inscrire les valeurs dans la mÃ©moire. Ceci permet lâ€™optimisation quand utilisation de large sÃ©quence. Pour enregistrer dans une variable, nÃ©cessaire de faire r = list(range(1, 6)) par exemple.\nKey Points\n\n    - Use for variable in sequence to process the elements of a sequence one at a time.\n    - The body of a for loop must be indented.\n    - Use len(thing) to determine the length of something that contains other values.\n\n\n\n\n\ndocumentation\npar dÃ©faut, tout variable vide sera considÃ©rÃ©e comme false en terme boolÃ©en\nsubtilitÃ© avec None (qui nâ€™est pas Ã©quivalent Ã  null) dans une boucle. None est de classe noneType et ne peut Ãªtre comparÃ© avec dâ€™autres type dâ€™objet.\nBonne pratique de code = mettre en premiÃ¨re la condition que serait la plus souvent remplie. Optimisation !\n\n\nKey Points\n\n    - Use if condition to start a conditional statement, elif condition to provide additional tests, and else to provide a default.\n    - The bodies of the branches of conditional statements must be indented.\n    - Use == to test for equality.\n    - X and Y is only true if both X and Y are true.\n    - X or Y is true if either X or Y, or both, are true.\n    - Zero, the empty string, and the empty list are considered false; all other numbers, strings, and lists are considered true.\n    - True and False represent truth values.\n\n\n\n\nğŸ—ï¸ Functions let us reuse pieces of code frequently used with different parameters.\nğŸ—ï¸ Par dÃ©faut, ttes fonctions retournent Ç¸one, dâ€™oÃ¹ lâ€™importance dâ€™utiliser return dans le corps de la fonction.\n\nğŸ’¥ğŸ’¡ğŸ’¥ We need to verify that our functions are behaving correctly. In order to do so, we can run each function and print out the boolean result of an equality test. We can also assert that our function behave correctly by using an assertion statement. An assertion will pass when the statement is True, otherwise will raise an exception and the code or function will not be allowed to continue. This is very useful in preventing bugs and ensuring correctness.\nğŸ’¡ Utiliser la doc string pour ecrire lâ€™aide de la function\ndef fahr_to_celsius(temp):\n    \"\"\"\n    Converts Fahrenheit to Celcius.\n\n    Parameters:\n        temp: Temperature in Fahr.\n\n    Example:\n        fahr_to_celsius(32) =&gt; 0.0\n    \"\"\"\n    # this is a comment\n    return ((temp - 32) * (5/9))\n\n    help(fahr_to_celsius)\nExemple de fonction\ndef wrap(str1=\"\", str2=\"*\"):\n    if (isinstance(str1, str) & isinstance(str2, str)):\n        print(str2, str1, str2, sep = \"\")\n    elif type(str1) is not str:\n        print(\"Please enter a string as first argument\")\n    else:\n        print(\"Please enter a string as second argument\")\n\n\nwrap(\"value\")\nwrap()\nwrap(\"value\", \"+\")\nwrap(3)\nwrap(\"l\", 4)\n\n# *value*\n# **\n# +value+\n# Please enter a string as first argument\n# Please enter a string as second argument\n\n\n\nAssociation clÃ© valeur !\nLa clÃ© doit UNIQUE, sinon on Ã©crase le contenu prÃ©cÃ©dent. Pour visualisation plus sympa des gros dictionnaire\nfrom pprint import pprint\n\npprint(d)\npprint is for pretty print - mais fonctionnel Ã  partir dâ€™une certaine quantitÃ© dâ€™information dans le dictionnaire (fonctionne aussi avec dâ€™autres types dâ€™objets)\nPour visualiser la liste des clÃ©s-valeurs dans le dictionnaire, possible dâ€™utiliser le code suivant (utilisÃ© frÃ©quemment):\nfor k, v in d.items():\n    print(k, v)\n\n\n\n\nvariable.rstrip() remove les caractÃ¨res dit blanc (espace, saut de ligne, â€¦.)\nenumerate() donne les indices des valeurs dans une liste\n\ncf exercice de tirage de nom alÃ©atoire avec retrait\nğŸ’¡possible aussi dâ€™utiliser .remove() pour faire la sans remise\nğŸ’¡exemple possible car pas une copie de la liste nom dans la fonction, mais bien un pointeur vers le jeux de donnÃ©e, ce qui permet de faire sa modification Ã  chaque tirage.\n\n\n\nJupiter Lab est idÃ©al pour travailler avec les notebook python (qui sont rÃ©cupÃ©rables en local).\ncf documentation wiki"
  },
  {
    "objectID": "posts/2024_05_21_post/index.html#vendredi-24-mai-2024",
    "href": "posts/2024_05_21_post/index.html#vendredi-24-mai-2024",
    "title": "Bash, grappes de calcul, analyse et visualisation en Python",
    "section": "",
    "text": "charger, modif et sauvegarder donnÃ©es tabulaires\nutilisation dataframe de pandas\ngrouper des donnÃ©es pour faire des stats\nsÃ©lectionner osus-ensemble\ncombiner donnÃ©es tabulaires\nvisualiser avec altair (graphiques interactifs)\n\nFormation basÃ©e sur software Carpentry\nContenu notebook IPython\nPour les donnÃ©es tabulaires, la librairie la plus courante est pandas (alias pd). Cette librairie permet la manip des donnÃ©es et fonctionne trÃ¨s bien avec dâ€™autres librairies de visualisation.\nÃ€ vÃ©rifier mais pandas utilise NaN plutÃ´t que NA.\ndata.function() = mÃ©thode qui correspo0nd Ã  une fonction qui doit calculer quelque chose sur la data (ex. .head(), .describe())\nDiffÃ©rent de data.attribut qui est une fonction qui extrait une information Ã  la data (par ex. .shape, .columns)\ncount dans data['nomColonne'].describe() sur une colonne ne prend pas en compte les valeurs nulles.\nLes mÃ©thodes et attributs utilisÃ©s ici sont associÃ©s Ã  pandas.\ndata[nomColonne].value_counts() nombre dâ€™occurrences par valeurs\ndata.loc[ligne, colonne] pour sÃ©lectionner des rangÃ©es et colonnes dâ€™un dataframe (attribut .loc), existe aussi iloc mais se comporte diffÃ©remment avec lâ€™indexation\nIndice -1 ne fonctionne pas avec pandas\nPour sÃ©lection par critÃ¨res, il existe isin() pour aller chercher les enregistrements dont les valeurs dâ€™une colonne correspondent Ã  lâ€™une des valeurs fournies dans une liste\nMÃ©thode .dropna() permet de virer toutes lignes qui contient au moins une donnÃ©e manquante\ndata.isnull().sum() va sommer tous les â€˜NaNâ€™ pour chaque colonne. Permet de donnÃ©es un aperÃ§u du contenu du jeu de donnÃ©es\n\n\nPourquoi altair? Pourquoi pas matplotlib?\nBien que matplotlib soit une bibliothÃ¨que de visualisation largement rÃ©pandue et relativement flexible, la programmation des graphiques ne suit pas une grammaire spÃ©cifique.\nAinsi, pour ce chapitre, nous avons fait le choix de vous prÃ©senter la bibliothÃ¨que altair qui facilite la crÃ©ation de graphiques hautement informatifs tout en sâ€™intÃ©grant bien avec Pandas. Le fonctionnement de altair se base sur la grammaire des graphiques interactifs de Vega-Lite, ce qui rend la programmation Ã  la fois Ã©lÃ©gante et puissante.\nNous verrons diffÃ©rents concepts de visualisation qui peuvent Ãªtre reproduits plus ou moins facilement avec dâ€™autres bibliothÃ¨ques telles que matplotlib, plotnine (utilise grammaire de ggplot2) dans R, plotly et seaborn.\nğŸ’¡ Possible dâ€™utiliser plotly pour graphique interactif, juste plus compliquÃ© Ã  installer sur le notebook.\nğŸ’¡Voir exemple altair\nğŸ’€ Attention ! Par dÃ©faut, altair a une gamme de couleur limitÃ©e Ã  10. Si plus de valeur Ã  colorer, la palette devient redondante.\nğŸ’¡ Palette de couleurs dans altair\nğŸ’¡ altair a une technique spÃ©ciale appelÃ©e crÃ©ation de facettes permettant de diviser un graphique en plusieurs sous-graphiques selon les valeurs dâ€™une variable."
  },
  {
    "objectID": "posts/2024-05-13_post/index.html",
    "href": "posts/2024-05-13_post/index.html",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "",
    "text": "see map of ecoregions in Canada (see wikipedia)\n\n\n\nReliÃ©e au Climatoscope\n\n\n-&gt; annÃ©e charniÃ¨re pour la BD = 1992\nAvant Ã§a, deux mouvances : prÃ©servationnisme (cf def, conduisant Ã  lâ€™exclusion de peuples autochtones des zones protÃ©gÃ©es) et conservationnisme (protection des sp utiles Ã  lâ€™homme & utilisation raisonnÃ©e des ressources)\n\nCrÃ©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / liÃ©e Ã  la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - crÃ©ation de plusieurs conv. en deux semaines et notamment sur la dÃ©sertification, le rÃ©chauffement climatique et la diversitÃ© biologique - la situation gÃ©opolitique faisait quâ€™il y avait un grand espoir de collaborations (si convention poas signÃ©e, dÃ©coule sur des dÃ©clarations dâ€™intention)\n\n==&gt; Conv sur la diversitÃ© biologique (CDB) : conservation de la biodiversitÃ©, partage juste et equitable dÃ©coulant de lâ€™exploitation de la div gÃ©nÃ©tique\n\n1993 - entrÃ©e en vigueur de la CDB (Ã©tapes = signature, ratification et finalement entrÃ©e en vigueur)\n1994 - COP1 Ã  Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = idÃ©e dâ€™assurer un dev qui permet aux gÃ©nÃ©rations actuelles et furures de rÃ©pondre Ã  leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - dÃ©finition des objectifs dâ€™AICHI\ndepuis 2010 - crÃ©ation de lâ€™IPBES (Ã©quivalent du GIEC, qui lui a Ã©tÃ© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synthÃ¨se - prÃ©sence impoAnnie Chaloux - Gouvernance mondiale de la biodiversitÃ©\n\nReliÃ©e au Climatoscope\n\n\n\n-&gt; annÃ©e charniÃ¨re pour la BD = 1992\nAvant Ã§a, deux mouvances : prÃ©servationnisme (cf def, conduisant Ã  lâ€™exclusion de peuples autochtones des zones protÃ©gÃ©es) et conservationnisme (protection des sp utiles Ã  lâ€™homme & utilisation raisonnÃ©e des ressources)\n\nCrÃ©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / liÃ©e Ã  la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - crÃ©ation de plusieurs conv. en deux semaines et notamment sur la dÃ©sertification, le rÃ©chauffement climatique et la diversitÃ© biologique - la situation gÃ©opolitique faisait quâ€™il y avait un grand espoir de collaborations (si convention poas signÃ©e, dÃ©coule sur des dÃ©clarations dâ€™intention)\n\n==&gt; Conv sur la diversitÃ© biologique (CDB) : conservation de la biodiversitÃ©, partage juste et equitable dÃ©coulant de lâ€™exploitation de la div gÃ©nÃ©tique\n\n1993 - entrÃ©e en vigueur de la CDB (Ã©tapes = signature, ratification et finalement entrÃ©e en vigueur)\n1994 - COP1 Ã  Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = idÃ©e dâ€™assurer un dev qui permet aux gÃ©nÃ©rations actuelles et furures de rÃ©pondre Ã  leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - dÃ©finition des objectifs dâ€™AICHI\ndepuis 2010 - crÃ©ation de lâ€™IPBES (Ã©quivalent du GIEC, qui lui a Ã©tÃ© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synthÃ¨se - prÃ©sence importante du corps politique\nentente Kunming-MontrÃ©al car COP15 effectuÃ©e deux temps Ã  cause du COVID (une partie en remote organisÃ© par la prÃ©sidence chinoise et une partie en prÃ©sence Ã  MontrÃ©al)\n\n\n\n\nLes diffÃ©rentes structures:\n\ncadre principal - CBD, qui organise les (rÃ´le Ã  prÃ©ciser)\nCOPs (rÃ´le ?)\nle secrÃ©tariat - aide le gvnt Ã  mettre en oeuvre les plans dâ€™action, organisation, super nÃ©gociateur (nommÃ© par les membres de la COPs)\nles protocoles et autres traitÃ©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les Ã©tats) - prennent les dÃ©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, dâ€™agriculteurs, de jeunes, â€¦ - peuvent prendre la parole mais ne peuvent pas voter - RÃ´le dâ€™influenceurs inportant !\nIPBES - entitÃ© qui fournit lâ€™information utile basÃ©e sur la science pour les prises de dÃ©cision\n\nLe dÃ©roulements : Processus qui se dÃ©roulent sur deux ans environ\n\nprÃ©paration des sessions de nÃ©gociations\nla COP - sur deux semaines, plÃ©niÃ¨re, groupes de travail avec sÃ©ances de nÃ©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des dÃ©cisions en plÃ©niÃ¨re\n\nLe prÃ©sidence de la COP est un reprÃ©sentant du pays qui reÃ§oit - super extra important et trÃ¨s trÃ¨s difficilertante du corps politique\n\nentente Kunming-MontrÃ©al car COP15 effectuÃ©e deux temps Ã  cause du COVID (une partie en remote organisÃ© par la prÃ©sidence chinoise et une partie en prÃ©sence Ã  MontrÃ©al)\n\n\n\n\nLes diffÃ©rentes structures:\n\ncadre principal - CBD, qui organise les (rÃ´le Ã  prÃ©ciser)\nCOPs (rÃ´le ?)\nle secrÃ©tariat - aide le gvnt Ã  mettre en oeuvre les plans dâ€™action, organisation, super nÃ©gociateur (nommÃ© par les membres de la COPs)\nles protocoles et autres traitÃ©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les Ã©tats) - prennent les dÃ©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, dâ€™agriculteurs, de jeunes, â€¦ - peuvent prendre la parole mais ne peuvent pas voter - RÃ´le dâ€™influenceurs inportant !\nIPBES - entitÃ© qui fournit lâ€™information utile basÃ©e sur la science pour les prises de dÃ©cision\n\nLe dÃ©roulements : Processus qui se dÃ©roulent sur deux ans environ\n\nprÃ©paration des sessions de nÃ©gociations\nla COP - sur deux semaines, plÃ©niÃ¨re, groupes de travail avec sÃ©ances de nÃ©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des dÃ©cisions en plÃ©niÃ¨re\n\nLe prÃ©sidence de la COP est un reprÃ©sentant du pays qui reÃ§oit - super extra important et trÃ¨s trÃ¨s difficile\n==&gt; Prend une mineure en sciences politiques pour les chercheur.e.s\n\n\n\n\n\n\n\nFour big goals in 23 targets for 2050\nGoal A = EcoS health and extent, halting human-induced extinctions & maintaining genetic diversity\n\n\nTargets 1 to 8 = reducing threats to biodiversity\nFrom 9 to 13 = Meeting peopleâ€™s needs through sustainable use and benefit-sharing\nfrom 14 to 23 = tools and solutions for implementation and mainstreaming\n\nGBF indicators\n\nheadlines indicators (connected to the goals)\ncomponent indicators\ncomplementary indicators\n\nThese ind. should meet following criteria:\n\ndata & metadata publicly available\npeer-reviewed\ndata source and indicators regularly updated at least every 5 years\nmechanism to monitor indicator methodology and/or data production\n\nInteresting paper: Corroboration and contradictions in global biodiversity indicators\n\n\n\nActually ten investigators have been identified\nStarted two years ago\nObj. : provides decision tools, impacts of investissment on ecoS & local measurement\n8 indicators have been developped and target: service ecoSq, espÃ¨ce Ã  statut, conservation, perte habitat, pollution, esp.Â exotiques & envahissantes, connectivitÃ© & perturbation."
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#prÃ©sentation-dom---ouverture",
    "href": "posts/2024-05-13_post/index.html#prÃ©sentation-dom---ouverture",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "",
    "text": "see map of ecoregions in Canada (see wikipedia)"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#annie-chaloux---gouvernance-mondiale-de-la-biodiversitÃ©",
    "href": "posts/2024-05-13_post/index.html#annie-chaloux---gouvernance-mondiale-de-la-biodiversitÃ©",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "",
    "text": "ReliÃ©e au Climatoscope\n\n\n-&gt; annÃ©e charniÃ¨re pour la BD = 1992\nAvant Ã§a, deux mouvances : prÃ©servationnisme (cf def, conduisant Ã  lâ€™exclusion de peuples autochtones des zones protÃ©gÃ©es) et conservationnisme (protection des sp utiles Ã  lâ€™homme & utilisation raisonnÃ©e des ressources)\n\nCrÃ©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / liÃ©e Ã  la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - crÃ©ation de plusieurs conv. en deux semaines et notamment sur la dÃ©sertification, le rÃ©chauffement climatique et la diversitÃ© biologique - la situation gÃ©opolitique faisait quâ€™il y avait un grand espoir de collaborations (si convention poas signÃ©e, dÃ©coule sur des dÃ©clarations dâ€™intention)\n\n==&gt; Conv sur la diversitÃ© biologique (CDB) : conservation de la biodiversitÃ©, partage juste et equitable dÃ©coulant de lâ€™exploitation de la div gÃ©nÃ©tique\n\n1993 - entrÃ©e en vigueur de la CDB (Ã©tapes = signature, ratification et finalement entrÃ©e en vigueur)\n1994 - COP1 Ã  Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = idÃ©e dâ€™assurer un dev qui permet aux gÃ©nÃ©rations actuelles et furures de rÃ©pondre Ã  leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - dÃ©finition des objectifs dâ€™AICHI\ndepuis 2010 - crÃ©ation de lâ€™IPBES (Ã©quivalent du GIEC, qui lui a Ã©tÃ© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synthÃ¨se - prÃ©sence impoAnnie Chaloux - Gouvernance mondiale de la biodiversitÃ©\n\nReliÃ©e au Climatoscope\n\n\n\n-&gt; annÃ©e charniÃ¨re pour la BD = 1992\nAvant Ã§a, deux mouvances : prÃ©servationnisme (cf def, conduisant Ã  lâ€™exclusion de peuples autochtones des zones protÃ©gÃ©es) et conservationnisme (protection des sp utiles Ã  lâ€™homme & utilisation raisonnÃ©e des ressources)\n\nCrÃ©ation UICN (Union Internationale de la Conservation de la Nature) en 1948 - dev de la liste rouge / liÃ©e Ã  la fin de la seconde guerre mondiale et industrialisation croissante\nEngagements internationaux importants - Ramsar (conv sur les milieux humides 1971) & CITES (1973)\n1992 - Sommet de la terre de Rio - crÃ©ation de plusieurs conv. en deux semaines et notamment sur la dÃ©sertification, le rÃ©chauffement climatique et la diversitÃ© biologique - la situation gÃ©opolitique faisait quâ€™il y avait un grand espoir de collaborations (si convention poas signÃ©e, dÃ©coule sur des dÃ©clarations dâ€™intention)\n\n==&gt; Conv sur la diversitÃ© biologique (CDB) : conservation de la biodiversitÃ©, partage juste et equitable dÃ©coulant de lâ€™exploitation de la div gÃ©nÃ©tique\n\n1993 - entrÃ©e en vigueur de la CDB (Ã©tapes = signature, ratification et finalement entrÃ©e en vigueur)\n1994 - COP1 Ã  Nassau (COP sur la biodiv au deux ans, au 1 an pour chang. clim.)\n2002 - sommet mondiale sur le dev durable (Johannesburg) : dev durable = idÃ©e dâ€™assurer un dev qui permet aux gÃ©nÃ©rations actuelles et furures de rÃ©pondre Ã  leurs besoins - Prend la suite des mouvements de conservationnisme et preservationnisme\n2010 - dÃ©finition des objectifs dâ€™AICHI\ndepuis 2010 - crÃ©ation de lâ€™IPBES (Ã©quivalent du GIEC, qui lui a Ã©tÃ© mis en place beaucoup plus rapidement et qui explique aussi pourquoi COP annuelle et pas juste aux deux ans) - experts qui regrouprent la connaissance scientifique pour faire une synthÃ¨se - prÃ©sence importante du corps politique\nentente Kunming-MontrÃ©al car COP15 effectuÃ©e deux temps Ã  cause du COVID (une partie en remote organisÃ© par la prÃ©sidence chinoise et une partie en prÃ©sence Ã  MontrÃ©al)\n\n\n\n\nLes diffÃ©rentes structures:\n\ncadre principal - CBD, qui organise les (rÃ´le Ã  prÃ©ciser)\nCOPs (rÃ´le ?)\nle secrÃ©tariat - aide le gvnt Ã  mettre en oeuvre les plans dâ€™action, organisation, super nÃ©gociateur (nommÃ© par les membres de la COPs)\nles protocoles et autres traitÃ©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les Ã©tats) - prennent les dÃ©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, dâ€™agriculteurs, de jeunes, â€¦ - peuvent prendre la parole mais ne peuvent pas voter - RÃ´le dâ€™influenceurs inportant !\nIPBES - entitÃ© qui fournit lâ€™information utile basÃ©e sur la science pour les prises de dÃ©cision\n\nLe dÃ©roulements : Processus qui se dÃ©roulent sur deux ans environ\n\nprÃ©paration des sessions de nÃ©gociations\nla COP - sur deux semaines, plÃ©niÃ¨re, groupes de travail avec sÃ©ances de nÃ©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des dÃ©cisions en plÃ©niÃ¨re\n\nLe prÃ©sidence de la COP est un reprÃ©sentant du pays qui reÃ§oit - super extra important et trÃ¨s trÃ¨s difficilertante du corps politique\n\nentente Kunming-MontrÃ©al car COP15 effectuÃ©e deux temps Ã  cause du COVID (une partie en remote organisÃ© par la prÃ©sidence chinoise et une partie en prÃ©sence Ã  MontrÃ©al)\n\n\n\n\nLes diffÃ©rentes structures:\n\ncadre principal - CBD, qui organise les (rÃ´le Ã  prÃ©ciser)\nCOPs (rÃ´le ?)\nle secrÃ©tariat - aide le gvnt Ã  mettre en oeuvre les plans dâ€™action, organisation, super nÃ©gociateur (nommÃ© par les membres de la COPs)\nles protocoles et autres traitÃ©s\n\nLes acteurs de la gouvernance mondiale:\n\nles Parties (les Ã©tats) - prennent les dÃ©cisions sur les questions de biodiv\nles autres parties-prenantes - observateurs comme ong environnementales, des entreprises, groupes autochtones, de femmes, dâ€™agriculteurs, de jeunes, â€¦ - peuvent prendre la parole mais ne peuvent pas voter - RÃ´le dâ€™influenceurs inportant !\nIPBES - entitÃ© qui fournit lâ€™information utile basÃ©e sur la science pour les prises de dÃ©cision\n\nLe dÃ©roulements : Processus qui se dÃ©roulent sur deux ans environ\n\nprÃ©paration des sessions de nÃ©gociations\nla COP - sur deux semaines, plÃ©niÃ¨re, groupes de travail avec sÃ©ances de nÃ©gociations (formels et informels), interventions des Parties et des observateurs\nAdoption des dÃ©cisions en plÃ©niÃ¨re\n\nLe prÃ©sidence de la COP est un reprÃ©sentant du pays qui reÃ§oit - super extra important et trÃ¨s trÃ¨s difficile\n==&gt; Prend une mineure en sciences politiques pour les chercheur.e.s"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#laura-pollock---global-biodiversity-framework-gbf",
    "href": "posts/2024-05-13_post/index.html#laura-pollock---global-biodiversity-framework-gbf",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "",
    "text": "Four big goals in 23 targets for 2050\nGoal A = EcoS health and extent, halting human-induced extinctions & maintaining genetic diversity\n\n\nTargets 1 to 8 = reducing threats to biodiversity\nFrom 9 to 13 = Meeting peopleâ€™s needs through sustainable use and benefit-sharing\nfrom 14 to 23 = tools and solutions for implementation and mainstreaming\n\nGBF indicators\n\nheadlines indicators (connected to the goals)\ncomponent indicators\ncomplementary indicators\n\nThese ind. should meet following criteria:\n\ndata & metadata publicly available\npeer-reviewed\ndata source and indicators regularly updated at least every 5 years\nmechanism to monitor indicator methodology and/or data production\n\nInteresting paper: Corroboration and contradictions in global biodiversity indicators"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#diego-creimer---indicateurs-de-biodiversitÃ©-locaux-pour-les-investisseurs-du-quÃ©bec",
    "href": "posts/2024-05-13_post/index.html#diego-creimer---indicateurs-de-biodiversitÃ©-locaux-pour-les-investisseurs-du-quÃ©bec",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "",
    "text": "Actually ten investigators have been identified\nStarted two years ago\nObj. : provides decision tools, impacts of investissment on ecoS & local measurement\n8 indicators have been developped and target: service ecoSq, espÃ¨ce Ã  statut, conservation, perte habitat, pollution, esp.Â exotiques & envahissantes, connectivitÃ© & perturbation."
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#concept-of-biodiversity",
    "href": "posts/2024-05-13_post/index.html#concept-of-biodiversity",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Concept of biodiversity",
    "text": "Concept of biodiversity\ninteraction change multi-species trends raw data increase decrease equili variaty richness heteregenoneite composition measure func"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#kath-hÃ©bert---diving-into-the-lpi",
    "href": "posts/2024-05-13_post/index.html#kath-hÃ©bert---diving-into-the-lpi",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Kath HÃ©bert - Diving into the LPI",
    "text": "Kath HÃ©bert - Diving into the LPI\nBiodiversity indicator = state of biodiversity at certain point in time to draw inferences about changes in that state\nEquilibre entre simplification de lâ€™information mais sans perdre trop de complexitÃ©.\nLiving Planet Index = component index\nSee technical report\n\nHuge diversity in data (and units!)\nConcept of shifting baseline\nAverage (masks extreme values)\nvariation"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#dom---essential-biodiversity-variables",
    "href": "posts/2024-05-13_post/index.html#dom---essential-biodiversity-variables",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Dom - Essential Biodiversity Variables",
    "text": "Dom - Essential Biodiversity Variables"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#kath-hÃ©bert---the-plan-nature-consultation",
    "href": "posts/2024-05-13_post/index.html#kath-hÃ©bert---the-plan-nature-consultation",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Kath HÃ©bert - The plan Nature consultation",
    "text": "Kath HÃ©bert - The plan Nature consultation"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#guillaume-larocque---bon-in-a-box",
    "href": "posts/2024-05-13_post/index.html#guillaume-larocque---bon-in-a-box",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Guillaume Larocque - BON in a box",
    "text": "Guillaume Larocque - BON in a box\n\nGEO Group on Earth Observations\n BON is biodiversity observation network\nNetwork of data and models\nEBV data portail\n\nBON in a box = plateforme to build ebv and indicator, open, transparent , adaptable (see projects) - very stable software environment based on Docker\nResults viewer allows you to see results of each step in the pipeline\nstacatalog = series of raster with metadata"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#yvan-le-bras---la-plateforme-galaxy",
    "href": "posts/2024-05-13_post/index.html#yvan-le-bras---la-plateforme-galaxy",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Yvan Le Bras - la plateforme Galaxy",
    "text": "Yvan Le Bras - la plateforme Galaxy\n portail = script de tout type de langage(-ish) rendu excecutable grÃ¢ce Ã  des formulaires web - affranchi le chercheur de devoir savoir coder ou utiliser des supers calculateurs\nFocus sur les variables essentielles de biodiversitÃ© = toutes donnÃ©es qui se placent entre la donnÃ©es brutes et les indicateurs - dans ce cas, lâ€™obj. est de pouvoir produire des EBVs Ã  partir de jeux de donnÃ©es variÃ©s avec des sÃ©mantiques de variables primaires (cad nom des colonnes) diffÃ©rentes == EBV workflow\nPhilosophie du PNDB est dâ€™arrÃªter dâ€™attendre la clarification de def des EBVs, mais utilisation dâ€™une dÃ©finition qui permet lâ€™opÃ©rationnalisation - Reste imparfait mais fonctionnel !\nPNDB = objectif de centraliser toutes les donnÃ©es de la BD et facilitÃ© son utilisation\npapier Kissling et al - concept EBVs vers EBVs produits\n\nBuilding essential biodiversity variables (EBVs) of species distribution and abundance at a global scale\nTowards global data products of Essential Biodiversity Variables on species traits\n\nGestion de lâ€™incertitude dans lâ€™EBV workflow? ResponsabilitÃ© repose sur lâ€™utilisateur du WF - PNDB crÃ©Ã© le WF mais ne manipule pas la donnÃ©es (mÃªme Ã©tat dâ€™esprit que pour lâ€™agrÃ©gateur de mÃ©tadonnÃ©es)"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#vincent-beauregard---accessing-biodiversity-data",
    "href": "posts/2024-05-13_post/index.html#vincent-beauregard---accessing-biodiversity-data",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Vincent Beauregard - Accessing Biodiversity Data",
    "text": "Vincent Beauregard - Accessing Biodiversity Data\nMajority of data are stocked in cloud\n\nweb app, supported by database (for storing occurrences) and interactive ma p & portal\nR package providing acces to te data\nprocessing pipeline to produce indicators\n\n\nFundamentals behind wed data system\nClient-server model = fondamental unit behind web server\n\nClient & server communicate with protocol (HTTP = rules that define how client and server communicate and exchange data)\nEx in web browsing\n\nclient is the web browser\nserver can be a web server such as Apache, Nginx or a web app server such as Node.js, Django, Shiny\nprotocole is HTTP or HTTPS (S for secured, data are encrypted)\n\n\n\nclient = email desktop, email web\nserver = email servers\nprotocoles = SMTP, IMAP, POP3\n\nDatabase access\n\nclient = database clients (MySQL, â€¦),R packages, web applications, APIs\nserver = database servers (MySQL, PostgreSQL), APIs ()\nprotocoles = HTTP, ODBC\n\n\n\nWeb architecture\nfront-end vs.Â back-end\nAPI = interface between client and server parts or server and server- Use to do the translation between different protocoles used by each part.\nHTTP = define how messages are formatted amd transmitted (request-response model), allows CRUD operations (Create POST, Read GET, Update PUT, Delete DELETE) with http requests and supports variety of data formats\nCookies are due to the stateless feature of APIs\nExample of the GBIF API\n\n\nAccessing data of Biodiversity\nWe can use:\n\nstatic file\nAPIs\nCloud-Optimized Formats (COF) = big data stored as static files in the cloud, but optimized for fast access and processing (Parquet, large environment raster file - stacatalog)\n\nCoodinates format - always favored projected coordinates for geospatial stuff"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#dom---build-your-own-indicator",
    "href": "posts/2024-05-13_post/index.html#dom---build-your-own-indicator",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Dom - Build your own indicator",
    "text": "Dom - Build your own indicator\nCreation of indicator based on habitat destruction"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#erin-baynes---alberta-monitoring-biodiversity-institute",
    "href": "posts/2024-05-13_post/index.html#erin-baynes---alberta-monitoring-biodiversity-institute",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Erin Baynes - Alberta Monitoring Biodiversity Institute",
    "text": "Erin Baynes - Alberta Monitoring Biodiversity Institute\nProfessor at the university and director of ABMI"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#biodiversity-intactness-index-bii",
    "href": "posts/2024-05-13_post/index.html#biodiversity-intactness-index-bii",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Biodiversity Intactness Index (BII)",
    "text": "Biodiversity Intactness Index (BII)"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#real-time---habitat-prediction-for-operational-decision-making",
    "href": "posts/2024-05-13_post/index.html#real-time---habitat-prediction-for-operational-decision-making",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Real time - Habitat prediction for operational decision making",
    "text": "Real time - Habitat prediction for operational decision making"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#break-the-indicator",
    "href": "posts/2024-05-13_post/index.html#break-the-indicator",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Break the indicator",
    "text": "Break the indicator\n\nretravailler lâ€™intro dans mise en contexte goal et target\ninterprÃ©tation resultats avec support visuel"
  },
  {
    "objectID": "posts/2024-05-13_post/index.html#ciara-chloÃ©---raudsepp-hearn-key-biodiversity-areas",
    "href": "posts/2024-05-13_post/index.html#ciara-chloÃ©---raudsepp-hearn-key-biodiversity-areas",
    "title": "Indicateurs de biodiversitÃ©",
    "section": "Ciara & ChloÃ© - Raudsepp-Hearn: Key Biodiversity Areas",
    "text": "Ciara & ChloÃ© - Raudsepp-Hearn: Key Biodiversity Areas\nsite web"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html#raw-data",
    "href": "posts/2024-05-10_post/index.html#raw-data",
    "title": "Workflow pour production EBV richesse spÃ©cifique",
    "section": "Raw data",
    "text": "Raw data\n\n[ ] Utilisation de toutes les donnÃ©es dans Atlas\n[ ] Division par groupes taxonomiques pour la visualisation - catÃ©gories dans Atlas\n[ ] Division par ecozones (?)\n\n[ ] Division par ecorÃ©gions (?)\n\n\n\n\nnom\nnom\nnom\n\n\n\n\nAlgues\nAmphibiens\nAngiospermes\n\n\nArthropodes\nAutres angiospermes\nAutres invertÃ©brÃ©s\n\n\nAutres plantes\nAutres taxons\nBryophytes\n\n\nCÃ©phalocordÃ©es (org. marins)\nConifÃ¨res\nCryptogames vasculaires\n\n\nMammifÃ¨res\nMycÃ¨tes\nOiseaux\n\n\nPoissons\nReptiles\nTuniciers (inv. marins)"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html#sdm-data",
    "href": "posts/2024-05-10_post/index.html#sdm-data",
    "title": "Workflow pour production EBV richesse spÃ©cifique",
    "section": "SDM data",
    "text": "SDM data\n[ ] Ã‰tudier les mÃ©thodes de thresholding\n[ ] Continuer les calculs Ã  partir des cartes de Vincent car actuellement juste pour 2017"
  },
  {
    "objectID": "posts/2024-05-10_post/index.html#synthÃ¨se",
    "href": "posts/2024-05-10_post/index.html#synthÃ¨se",
    "title": "Workflow pour production EBV richesse spÃ©cifique",
    "section": "SynthÃ¨se",
    "text": "SynthÃ¨se\n[ ] Voir pour produire les figures de synthÃ¨se - cf discussion avec Dom\nlibrary(dplyr)\nlibrary(duckdb)\nlibrary(duckdbfs)\nlibrary(sf)\nlibrary(stringr)\n\n# ---------------------------------#\n# access to the catalog\nbase_url &lt;- \"https://object-arbutus.cloud.computecanada.ca/bq-io/atlas/parquet/\"\n# version date of Atlas parquet\nparquet_date &lt;- \"2024-05-03\"\n# function to retrieve Atlas remotly\natlas_remote &lt;- function(parquet_date, tblname = \"atlas\") {\n    file_name &lt;- paste0(\"atlas_\", parquet_date, \".parquet\")\n    requireNamespace(\"duckdbfs\")\n    duckdbfs::open_dataset(paste0(base_url, file_name), tblname = tblname)\n}\natlas &lt;- atlas_remote(parquet_date = parquet_date) |&gt; select(valid_scientific_name, observation_value, longitude, latitude, year_obs, group_fr)\natlas2 &lt;- atlas |&gt; mutate_at(c('longitude', 'latitude'), as.numeric)\natlas_sf &lt;- atlas |&gt; mutate(geometry = ST_Point(longitude, latitude)) |&gt; to_sf(crs = 4326)\n\n# ====&gt; problÃ¨me de conversion parquet en sf\n\nclass(atlas)\ndim(atlas)\ncolnames(atlas)\nst_crs(atlas)\n# Exploration\nView(atlas |&gt; group_by(year_obs) |&gt; summarize(cnt = count()) |&gt; arrange(desc(year_obs)) |&gt; collect())\nView(atlas |&gt; group_by(within_quebec) |&gt; summarize(cnt = count()) |&gt; collect())\nView(atlas |&gt; group_by(group_fr) |&gt; summarize(cnt = count()) |&gt; collect())\n\n# Queries\ndbGetQuery(atlas, \"SELECT COUNT(*) FROM atlas\")\n#### Code propre ####\n# =&gt; obj = unique gpkg for polygons of all spatial scale\nlist_qc_spat &lt;- list.files(\"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP\", full.names = T)\n### pixel scale\nspatpix &lt;- st_read(list_qc_spat[6])\n# ---&gt; crs conversion\nspatpix &lt;- st_transform(spatpix, crs = st_crs(4326)) # same crs than atlas\n# ---&gt; variable homogeneisation\nnames(spatpix)\nspatpix$scale &lt;- \"PIXEL10x10KM\"\nspatpix$nom &lt;- as.character(spatpix$ID)\nspatpix$name &lt;- as.character(spatpix$ID)\nspatpix$area &lt;- 10000 * 10000\nst_write(\n    spatpix,\n    \"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP/QUEBEC_all_spat_scales.gpkg\"\n)\n### other spatial scales\nscale &lt;- c(\"FID01\", \"FID02\", \"FID03\", \"FID04\")\nfor (i in 1:length(scale)) {\n    print(paste0(\"----------------&gt; \", scale[i]))\n    db &lt;- st_read(list_qc_spat[i])\n    db &lt;- st_transform(db, crs = st_crs(4326))\n    var &lt;- c(\n        stringr::str_which(names(db), \"NOM\"),\n        stringr::str_which(names(db), \"NAM\"),\n        stringr::str_which(names(db), \"Area\"),\n        stringr::str_which(names(db), \"geom\")\n    )\n    db &lt;- db[, c(1, var)]\n    print(names(db))\n    if (length(var) == 4) {\n        names(db)[1:4] &lt;- c(\"scale\", \"nom\", \"name\", \"area\")\n    } else {\n        names(db)[1:3] &lt;- c(\"scale\", \"nom\", \"area\")\n    }\n    db$scale &lt;- scale[i]\n    print(head(db))\n    st_write(db,\n        \"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP/QUEBEC_all_spat_scales.gpkg\",\n        append = TRUE\n    )\n}\nall_spat &lt;- st_read(\"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP/QUEBEC_all_spat_scales.gpkg\")\ntable(all_spat$scale)\nhead(all_spat)\n### test for 2005 ###\n# Coordonnates in lat/lon epsg\natlas2005 &lt;- atlas |&gt; filter(year_obs == 2005 & within_quebec == \"t\")\nView(atlas2005 |&gt; group_by(group_en) |&gt; summarize(cnt = count()) |&gt; arrange(group_en) |&gt; collect())\n\ntest_sf &lt;- atlas2005 |&gt; mutate(geometry = st_point(longitude, latitude)) |&gt; to_sf(crs = 4326)\n\n# List of different spatial scale of Quebec\nlist_qc_spat &lt;- list.files(\"/home/local/USHERBROOKE/juhc3201/BDQC-GEOBON/data/QUEBEC_regions/sf_CERQ_SHP\", full.names = T)\nspat1 &lt;- st_read(list_qc_spat[1])\nspat2 &lt;- st_read(list_qc_spat[2])\nspat6 &lt;- st_read(list_qc_spat[6])\nst_crs(spat1) == st_crs(spat6)\nnames(spat1) == names(spat2)\nnames(spat1)\nnames(spat2)\n#### =&gt; obj = creation of a single spatial geopackage ####\n# treatment of pixel scale data\n# ---&gt; crs conversion\nspat6_trans &lt;- st_transform(spat6, crs = st_crs(spat1))\n# ---&gt; variable creation\nnames(spat6_trans)\nspat6_trans$scale &lt;- \"PIXEL\"\nspat6_trans$nom &lt;- as.character(spat6_trans$ID)\nspat6_trans$name &lt;- as.character(spat6_trans$ID)\nspat6_trans$area &lt;- 10000 * 10000\nspat6bis &lt;- spat6_trans[, -1]\n###\nspat1bis &lt;- spat1[, c(1, 3, 4, 7, 8)]\nnames(spat1bis) &lt;- c(\"scale\", \"nom\", \"name\", \"area\", \"geom\")\nspat1bis$scale &lt;- \"FID01\"\ngpkg_test &lt;- st_write(spat1bis,\n    \"/home/local/USHERBROOKE/juhc3201/Desktop/file_gpkg_test.gpkg\",\n    append = TRUE\n)"
  }
]