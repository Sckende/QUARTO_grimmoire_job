<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>QUARTO_grimmoire_job – index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">QUARTO_grimmoire_job</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../code/code_langage.html" rel="" target="">
 <span class="menu-text">Aide-mémoire langages</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Job Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#école-dété---analyses-et-visualisation-en-python" id="toc-école-dété---analyses-et-visualisation-en-python" class="nav-link active" data-scroll-target="#école-dété---analyses-et-visualisation-en-python">École d’été - Analyses et visualisation en Python</a>
  <ul class="collapse">
  <li><a href="#day-1" id="toc-day-1" class="nav-link" data-scroll-target="#day-1">Day 1</a>
  <ul class="collapse">
  <li><a href="#formation-1---daniel---the-unix-shell" id="toc-formation-1---daniel---the-unix-shell" class="nav-link" data-scroll-target="#formation-1---daniel---the-unix-shell">Formation 1 - Daniel - The Unix shell</a></li>
  <li><a href="#formation-2---hélène-gingras---premiers-pas-sur-les-grappes-de-calcul" id="toc-formation-2---hélène-gingras---premiers-pas-sur-les-grappes-de-calcul" class="nav-link" data-scroll-target="#formation-2---hélène-gingras---premiers-pas-sur-les-grappes-de-calcul">Formation 2 - Hélène Gingras - Premiers pas sur les grappes de calcul</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">



<section id="école-dété---analyses-et-visualisation-en-python" class="level1">
<h1>École d’été - Analyses et visualisation en Python</h1>
<section id="day-1" class="level2">
<h2 class="anchored" data-anchor-id="day-1">Day 1</h2>
<p><img src="https://jupyter.org/assets/logos/rectanglelogo-greytext-orangebody-greymoons.svg" class="img-fluid"></p>
<ul>
<li>création compte sur <a href="https://jupyter.a-ecole.calculquebec.cloud/hub/login">Jupyterhub</a> (voir projet <a href="https://jupyter.org/">Jupyter</a> &amp; <a href="https://docs.jupyter.org/en/latest/">documentation</a> about Jupyter) - JupyterLab permet la création d’un notebook (comme rmarkdown)</li>
<li>présentation &amp; mot de bienvenue par Charles - Canal Slack #analyse-de-données</li>
</ul>
<section id="formation-1---daniel---the-unix-shell" class="level3">
<h3 class="anchored" data-anchor-id="formation-1---daniel---the-unix-shell">Formation 1 - Daniel - The Unix shell</h3>
<p><a href="https://swcarpentry.github.io/shell-novice/">Carpentry formation</a></p>
<p>Exercices dans JupyterHub<br>
cheat sheet interactive pour les commandes bash –&gt; <a href="https://tldr.sh/">tldr pages</a> ou <a href="https://devhints.io/bash">devhints</a> mais on peut aussi utiliser <code>command --help</code> ou <code>man command</code></p>
<p>prompt = invite de commande - donne le nom de usager et le nom de la machine (ici <code>nodex</code>)<br>
shell = faite pour entourée le noyau de l’ordinateur et le protéger. On ne communique pas diretement avec le noyau, mais on passe par le shell<br>
Il existe plusieurs formes de shells pour Unix (cornshell, zshell, cshell, zshrc, …), mais bash étant le plus répandu. The bash shell is written in C.</p>
<p>Liste de commandes à connaître:</p>
<p>Structure classique d’une commande <code>command -options argument</code><br>
<img src="https://swcarpentry.github.io/shell-novice/fig/shell_command_syntax.svg" class="img-fluid"></p>
<table class="table">
<colgroup>
<col style="width: 7%">
<col style="width: 35%">
<col style="width: 56%">
</colgroup>
<thead>
<tr class="header">
<th>command</th>
<th>function</th>
<th>remarq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>pwd</code></td>
<td>affiche le répertoire dans lequel on se trouve actuellement</td>
<td>premier slash <code>/</code> correspd à la racine d’où partent tous les répertoires - pwd for <u>path working directory </u></td>
</tr>
<tr class="even">
<td><code>ctl + l</code> or <code>clear</code></td>
<td>nettoyer l’écran</td>
<td></td>
</tr>
<tr class="odd">
<td><code>ls -F</code></td>
<td>affiche le contenu du repo dans lequel on se trouve</td>
<td>for list - <code>-F</code> pour discerner repo &amp; files, <code>-h</code> montre la taille des fichiers lisibles par l’humain, <code>-l</code> for long list (contient plus d’informations), <code>-t</code> tri par date, <code>-S</code> tri par taille de fichier</td>
</tr>
<tr class="even">
<td><code>cd</code></td>
<td>navigation dans un autre repo</td>
<td>for change directory, commande <strong>relative</strong> au répertoire actuelle, utiliser <code>cd ..</code> pour revenir un niveau au dessus de là où je me trouve, <code>cd sans argument</code> fait repartir dans le répertoire personnel <code>/home/user/</code>, <code>cd</code> peut aussi être utilisé avec un absolute path, <code>cd ~/project/</code> avec le tild qui permet de référer au repo personnel et <code>cd .</code> correspond au répertoire actuel, <code>cd /</code> dirige vers la racine de tous les fichiers</td>
</tr>
<tr class="odd">
<td><code>TAB completion</code></td>
<td>pour compléter à partir de la/les premières lettres des fichiers/dossiers présents dans le repo</td>
<td></td>
</tr>
<tr class="even">
<td><code>mkdir folderName</code></td>
<td>création d’un répertoire</td>
<td>for make directory - éeviter les espaces dans les noms de files and folders (sinon création de deux fichiers ou repo), pas d’accents non plus ou caractères spéciaux</td>
</tr>
<tr class="odd">
<td><code>rm -r</code></td>
<td>effece un fichier/dossier</td>
<td><code>-r</code> is for recurssive (pour les dossiers) ce qui permet de descendre dans le repo, effacer tous les fichiers puis effacer le dossier parent, <code>-f</code> pour forcer l’effacement, <code>-i</code> pour demander (interroger) si on est sûr de remove</td>
</tr>
<tr class="even">
<td><code>nano</code> ou <code>touch</code></td>
<td>création d’un fichier</td>
<td>équivalent d’éditeur de texte, plus efficace à utiliser sont <code>vim</code> ou <code>emacs</code> si on utilise beaucoup le shell, avec <code>touch</code> créé un fichier complètement vide utilisé pour des logiciels qui ont besoin d’un fichier déjà existant pour écrire les résultats</td>
</tr>
<tr class="odd">
<td><code>which</code></td>
<td>localise les fichiers binaires</td>
<td></td>
</tr>
<tr class="even">
<td><code>mv lastNAme.txt newName.txt</code></td>
<td>renomme un fichier ou déplace un fichier</td>
<td>for move si on ajoute un absolute path dans la deuxième partie de commande ex: <code>mv new_work.txt ~/</code></td>
</tr>
<tr class="odd">
<td><code>cp source cible</code></td>
<td>copie un fichier</td>
<td>possible de donner un nouveau nom au fichier copier et de le changer de repo, utiliser <code>-r</code> si la source est un repo, la <code>source</code> peut être multiple, l’essentiel étant que le dernier dossier soit la <code>cible</code></td>
</tr>
<tr class="even">
<td><code>&amp;&amp;</code></td>
<td>sépare deux commandes que l’on souhaite excécuter successivement</td>
<td>s’excecute sous condition que la première fonctionne, <code>;</code> peut aussi être utilisé à la place du double esperluette <code>&amp;&amp;</code></td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td>wildcart (caractère générique) permettant un pattern matching</td>
<td>peu importe le nombre de caractère</td>
</tr>
<tr class="even">
<td><code>?</code></td>
<td>remplace un seul caractère</td>
<td></td>
</tr>
<tr class="odd">
<td><code>cat</code></td>
<td>voir le contenu d’un fichier texte</td>
<td></td>
</tr>
<tr class="even">
<td><code>wc</code></td>
<td>affiche nb lignes, nb mots et nb caractères</td>
<td>for word count, ex: <code>wc *.txt</code> applique la commande sur tous les fichiers txt et fait la somme, <code>-l</code> donne uniquement le nombre de lignes</td>
</tr>
<tr class="odd">
<td><code>&gt; fileName</code></td>
<td>redire la sortie de commande vers un fichier</td>
<td></td>
</tr>
<tr class="even">
<td><code>^c</code></td>
<td>pour annuler</td>
<td></td>
</tr>
<tr class="odd">
<td><code>sort</code></td>
<td>tri sur la prmière colonne d’un fichier</td>
<td><code>-n</code> pour numérique, <code>-k</code> qui permet de choisir sur quelle colonne triée</td>
</tr>
<tr class="even">
<td><code>head</code></td>
<td>récupère les premières lignes d’un fichier</td>
<td><code>-n</code> permet de spécifier le nombre de ligne que l’on souhaite extraire</td>
</tr>
<tr class="odd">
<td><code>\|</code></td>
<td>pipe</td>
<td>dans une succession de commande, permet d’utiliser la sortie de la première commande pour excécuter la deuxième et ainsi de suite</td>
</tr>
</tbody>
</table>
<p><u>Exemple du pipe - Représente la puissance de l’utilisation du unix shell</u><br>
<img src="https://swcarpentry.github.io/shell-novice/fig/redirects-and-pipes.svg" class="img-fluid"></p>
<p>==&gt; parcourir la suite de la formation de Carpentry</p>
</section>
<section id="formation-2---hélène-gingras---premiers-pas-sur-les-grappes-de-calcul" class="level3">
<h3 class="anchored" data-anchor-id="formation-2---hélène-gingras---premiers-pas-sur-les-grappes-de-calcul">Formation 2 - Hélène Gingras - Premiers pas sur les grappes de calcul</h3>
<p><img src="https://www.calculquebec.ca/wp-content/uploads/2021/11/Narvalcouleurlogocq.png" class="img-fluid"></p>
<p>CIP = Calcul informatique de pointe tt calcul qui fait utilisation intensive de ress. info. ou qui est limité par la ressource dispo (ex. CPU, GPU, mémoire, stockage,&nbsp;temps)</p>
<p>Obj. calcul Qc = Fournir au milieu universitR des envir, informatiq et des expertises pour la recherche</p>
<p><strong>Monarque</strong> = ordinateur quantique</p>
<p>À disponibilité: grappes de calcul, espace info-nuagiques (hébergement de site internet par exemple) et stockage de data<br>
Voir la <a href="https://docs.alliancecan.ca/wiki/Technical_documentation">documentation</a><br>
Voir les notebooks pour de la formation <a href="https://alliancecan.ca/fr">Alliance de recherche numérique</a> chapote à l’échelle nationale (grand coordonnateur) <img src="https://alliancecan.ca/themes/custom/site_theme/images/alliance_logo_french-first.svg" class="img-fluid"></p>
<p><a href="https://www.calculquebec.ca/">Calcul Québec</a> est une antenne de l’alliance.</p>
<p>Quelle grappe choisir ?</p>
<ul>
<li>celle déjà utilisée par le labo</li>
<li>celle physiquement présente au plus proche (béluga, narval)</li>
<li>celle qui correspond à nos besoins (gna)</li>
</ul>
<p>Pour la suite, cf la <a href="https://drive.google.com/drive/folders/17rGmHm-AeM1WnkczDVTd12CZnAprddU4">présentation</a><br>
Première étape après la connexion SSH, arrivé sur un noeud de connexion qui donne accès aux noeuds de calcul. Le noeud de login (qui peut être utilisé pour la session interactive) a accès à internet mais pas les noeuds de calcul. À partir du noeud de login, accès aux différents dossiers, chargement des fichiers nécessaires. Sur les grappes, sauvegarde automatique pour les espaces home (donc si fausse manip avec <code>rm</code>, moyen de les récupérer). Sur le noeud de connexion, possible d’utiliser <code>git (clone)</code> via <code>git-lfs</code> pour large file system qui permet d’associer et stocker des jeux de données à un répertoire git (outil complémentaire qui peut être utiliser dans le souci de reproductibilité et transparence). Pour aller chercher les données en ligne: <code>wget</code>, <code>curl</code>, <code>python</code>, <code>git-lfs</code>.</p>
<section id="les-modules-pour-créer-son-environnement" class="level4">
<h4 class="anchored" data-anchor-id="les-modules-pour-créer-son-environnement"><u>Les modules</u> pour créer son environnement</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> spider <span class="op">&lt;</span>mot clé<span class="op">&gt;</span>  # recherche par mot clé</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> avail <span class="pp">[</span><span class="ss">module</span><span class="pp">]</span>    <span class="co"># disponible</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> load <span class="op">&lt;</span>module<span class="op">&gt;</span>     # charger un module</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> unload <span class="op">&lt;</span>module<span class="op">&gt;</span>   # décharger un module</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> list              <span class="co"># afficher les modules activés</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> purge             <span class="co"># Revenir à l’état d’origine</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>💥 ATTENTION ! Ne pas utiliser <code>conda</code> (problématique pour les grappes)</p>
<p>💡 En utilisant <code>module spider r/4.4.0</code>, permet de voir quelles dépendances sont nécessaires.<br>
💡 Bonne pratique: toujours préciser la version des modules que l’on charge.<br>
💡 <code>module spider nom_paquet</code> fait du fuzzy matching et va sortir la liste des modules qui contiennent le nom du paquet. Si plusieurs et difficile de choisir à partir de la description, utiliser le wiki ! 😀</p>
</section>
<section id="excécution-des-tâches" class="level4">
<h4 class="anchored" data-anchor-id="excécution-des-tâches"><u>Excécution des tâches</u></h4>
<p>Ressources utilisées dépendent su type de tâche</p>
<ul>
<li>séquencielle - un seul coeur, sur un seul noeud - tâches qui s’excecutent les unes après les autres</li>
<li>en parallèle qui utilise plusieurs coeurs potentiellement sur plusieurs noeuds - il en existe de deux types: de <strong>données</strong> et de <strong>tâches</strong>. <strong>Parall. de données</strong> est par ex, des tâches séquentielles sur plusieurs jeux de données en même temps. <strong>Parall. de tâches</strong> est par ex. un logiciel qui est capable d’effectuer plusieurs tâches en parall. sur un même jeux de données (assez rare dans certains domaines conne les sciences de la vie, mais souvent retrouvé en astro-physique par ex).</li>
<li><strong>ordonnanceur</strong> - <code>slurm</code> dispatche toutes les tâches dans les noeuds de calcul.</li>
</ul>
<p>💡 utiliser <code>seff &lt;jobID&gt;</code> pour voir si la demande de ressource est optimale. Car si non optimisé, crédit au profil et les tâches vont partir moins rapidement. Cependant, reset aux deux - trois semaines. Les prioritées sont indépendantes d’une grappe à l’autre, càd entre Beluga, Narval, … <code>sshare</code> et <code>htop</code> pour voir l’état de priorité quand la tâche est lancée.</p>
<ul>
<li>toutes les grappes ont des limites de ressources. Par ex. pour 🐬<a href="https://docs.alliancecan.ca/wiki/Narval/en">Narval</a></li>
</ul>
<p>💡 GPU carte pour accélérer et nécessaire que pour certains logiciels (dans l’IA par ex), pas nécessaire pour R qui peut utiliser simplement des CPU</p>
</section>
<section id="soumission-des-tâches" class="level4">
<h4 class="anchored" data-anchor-id="soumission-des-tâches"><u>Soumission des tâches</u></h4>
<p>La soumission est faite sous la forme d’un fichier bash.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash  #ligne obligatoire</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#SBATCH --nodes=1 [1]</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#SBATCH --cpus-per-task=1 [1]</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#SBATCH --mem-per-cpu=1G [256M]</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#SBATCH --time=3:00:00 [1:00:00]</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#SBATCH --account=def-&lt;sponsor&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span> script</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Entre crochet = valeur par défaut</p>
<p>Aller voir <a href="https://docs.alliancecan.ca/wiki/Running_jobs"><strong>Running_jobs</strong></a> dans le wiki</p>
<p>cf diapo 57 de la présentation</p>
<p><img src="../../home/local/USHERBROOKE/juhc3201/Pictures/Screenshots/Screenshot from 2024-05-21 15-55-06.png"></p>
</section>
<section id="suivi-des-tâches" class="level4">
<h4 class="anchored" data-anchor-id="suivi-des-tâches"><u>Suivi des tâches</u></h4>
<p><code>srun --jobid xxxx --pty htop -u $USER</code> pour avoir accès au CPU en direct pendant que la tâche est en cours<br>
Possible aussi d’utiliser le portail, pour 🐬<a href="https://portail.narval.calculquebec.ca/">Narval</a></p>
<p>💡 Prévoir un peu de ressources en plus pour le temps et la mémoire.<br>
💡 Commandes utiles - cf diapo 59 (<code>sbatch</code>, <code>squeue</code>, <code>scancel</code>, <code>seff</code>, <code>sacct</code>)</p>
</section>
<section id="espaces-de-stockage-disponible" class="level4">
<h4 class="anchored" data-anchor-id="espaces-de-stockage-disponible"><u>Espaces de stockage disponible</u></h4>
<p>cf diapo 69</p>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>